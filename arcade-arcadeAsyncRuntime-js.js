(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["arcade-arcadeAsyncRuntime-js"],{

/***/ "ME8W":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/arcade/arcadeAsyncRuntime.js ***!
  \****************************************************************/
/*! exports provided: executeScript, extend, extractFieldLiterals, findFunctionCalls, functionHelper, referencesFunction, referencesMember, validateScript */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "executeScript", function() { return it; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "extend", function() { return ct; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "extractFieldLiterals", function() { return st; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "findFunctionCalls", function() { return ht; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "functionHelper", function() { return at; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "referencesFunction", function() { return ft; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "referencesMember", function() { return ut; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "validateScript", function() { return lt; });
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/promiseUtils.js */ "9MzC");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../geometry/SpatialReference.js */ "WZb1");
/* harmony import */ var _geometry_Geometry_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../geometry/Geometry.js */ "N2DF");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../geometry/Point.js */ "SuVq");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../geometry/Extent.js */ "OvF4");
/* harmony import */ var _geometry_Multipoint_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../geometry/Multipoint.js */ "V9wi");
/* harmony import */ var _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../geometry/Polygon.js */ "Ehki");
/* harmony import */ var _geometry_Polyline_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../geometry/Polyline.js */ "UhwK");
/* harmony import */ var _FunctionWrapper_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./FunctionWrapper.js */ "pqxT");
/* harmony import */ var _ImmutablePointArray_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ImmutablePointArray.js */ "Q2u5");
/* harmony import */ var _ImmutablePathArray_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ImmutablePathArray.js */ "kJip");
/* harmony import */ var _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../chunks/languageUtils.js */ "idrm");
/* harmony import */ var _Dictionary_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Dictionary.js */ "D5C5");
/* harmony import */ var _ArcadePortal_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./ArcadePortal.js */ "Xfxc");
/* harmony import */ var _Attachment_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./Attachment.js */ "db86");
/* harmony import */ var _featureset_support_shared_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./featureset/support/shared.js */ "hTzF");
/* harmony import */ var _Feature_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./Feature.js */ "Xrjs");
/* harmony import */ var _treeAnalysis_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./treeAnalysis.js */ "k8am");
/* harmony import */ var _functions_array_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./functions/array.js */ "ACnk");
/* harmony import */ var _functions_date_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./functions/date.js */ "ve0I");
/* harmony import */ var _functions_geometry_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./functions/geometry.js */ "KvhC");
/* harmony import */ var _functions_maths_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./functions/maths.js */ "yBFI");
/* harmony import */ var _functions_stats_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./functions/stats.js */ "IqHt");
/* harmony import */ var _functions_string_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./functions/string.js */ "RrDw");
/* harmony import */ var _functions_geomasync_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./functions/geomasync.js */ "NOfn");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function te(e){return e&&"function"==typeof e.then}const re=100;function ne(e){return e instanceof Error?Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["reject"])(e):Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["reject"])(new Error(e))}function oe(e){return Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["resolve"])(e)}function ae(e,r){const n=[];for(let t=0;t<r.arguments.length;t++)n.push(se(e,r.arguments[t]));return Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["all"])(n)}function ce(t,r,n){return Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["create"])(((e,o)=>{ae(t,r).then((a=>{try{e(n(t,r,a))}catch(c){o(c)}}),o)}))}function ie(e,t,r){try{return ae(e,t).then((o=>{try{const a=r(e,t,o);return te(a)?a:Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["resolve"])(a)}catch(a){return ne(a)}}))}catch(o){return ne(o)}}function se(e,t,r){try{if(t.breakpoint&&!0!==r){return t.breakpoint().then((()=>se(e,t,!0)))}switch(t.type){case"VariableDeclarator":return Me(e,t);case"VariableDeclaration":return Fe(e,t,0);case"BlockStatement":return Oe(e,t);case"FunctionDeclaration":return Ce(e,t);case"ReturnStatement":return Ue(e,t);case"IfStatement":return Re(e,t);case"ExpressionStatement":return Se(e,t);case"UpdateExpression":return Ie(e,t);case"AssignmentExpression":return Te(e,t);case"ForStatement":return de(e,t);case"ForInStatement":return Ne(e,t);case"BreakStatement":return Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["resolve"])(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["x"]);case"EmptyStatement":return Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["resolve"])(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["v"]);case"ContinueStatement":return Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["resolve"])(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["y"]);case"TemplateElement":return Ye(e,t);case"TemplateLiteral":return Ge(e,t);case"Identifier":return Ve(e,t);case"MemberExpression":return De(e,t);case"Literal":return oe(t.value);case"CallExpression":return Be(e,t);case"UnaryExpression":return je(e,t);case"BinaryExpression":return Le(e,t);case"LogicalExpression":return _e(e,t);case"ConditionalExpression":return ne(Object(_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_17__["nodeErrorMessage"])(t,"RUNTIME","NOTSUPPORTED"));case"ArrayExpression":return ke(e,t);case"ObjectExpression":return le(e,t);case"Property":return ue(e,t);default:return ne(Object(_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_17__["nodeErrorMessage"])(t,"RUNTIME","UNREOGNISED"))}}catch(o){return ne(o)}}function le(r,n){try{const o=[];for(let e=0;e<n.properties.length;e++)o.push(se(r,n.properties[e]));return Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["all"])(o).then((t=>Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["create"])((e=>{const r={};for(let o=0;o<t.length;o++){const e=t[o];if(Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["q"])(e.value))throw new Error("Illegal Argument");if(!1===Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["b"])(e.key))throw new Error("Illegal Argument");e.value===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["v"]?r[e.key.toString()]=null:r[e.key.toString()]=e.value}const n=new _Dictionary_js__WEBPACK_IMPORTED_MODULE_12__["default"](r);n.immutable=!1,e(n)}))))}catch(o){return ne(o)}}function ue(t,n){try{return se(t,n.value).then((r=>Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["create"])((e=>{"Identifier"===n.key.type?e({key:n.key.name,value:r}):se(t,n.key).then((t=>{e({key:t,value:r})}))}))))}catch(o){return Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["reject"])(o)}}function fe(e,t,o){try{return se(e,t.body).then((a=>{try{return o.lastAction=a,o.lastAction===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["x"]||o.lastAction instanceof _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["R"]?(o.testResult=!1,Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["resolve"])(o)):null!==t.update?se(e,t.update).then((()=>Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["resolve"])(o))):Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["resolve"])(o)}catch(c){return Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["reject"])(c)}}))}catch(a){return Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["reject"])(a)}}function he(e,t,o){try{return null!==t.test?se(e,t.test).then((a=>{try{return!0===e.abortSignal.aborted?Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["reject"])(new Error("Cancelled")):(o.testResult=a,!1===o.testResult?Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["resolve"])(o):!0!==o.testResult?Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["reject"])(new Error(Object(_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_17__["nodeErrorMessage"])(t,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"))):fe(e,t,o))}catch(c){return Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["reject"])(c)}})):fe(e,t,o)}catch(a){return Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["reject"])(a)}}function pe(e,t,r,n,o,a){try{he(e,t,r).then((()=>{try{!0===r.testResult?++a>re?(a=0,setTimeout((()=>{pe(e,t,r,n,o,a)}),0)):pe(e,t,r,n,o,a):r.lastAction instanceof _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["R"]?n(r.lastAction):n(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["v"])}catch(c){o(c)}}),(e=>{o(e)}))}catch(c){o(c)}}function de(t,n){try{return null!==n.init?se(t,n.init).then((()=>Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["create"])(((e,r)=>{pe(t,n,{testResult:!0,lastAction:_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["v"]},(t=>{e(t)}),(e=>{r(e)}),0)})))):Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["create"])(((e,r)=>{pe(t,n,{testResult:!0,lastAction:_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["v"]},(t=>{e(t)}),(e=>{r(e)}),0)}))}catch(o){return Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["reject"])(o)}}function me(e,t,r,n,o,a,c,i,s,l){try{if(n<=a)return void i(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["v"]);o.value="k"===c?r[a]:a,se(e,t.body).then((u=>{try{u instanceof _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["R"]?i(u):u===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["x"]?i(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["v"]):++l>re?(l=0,setTimeout((()=>{me(e,t,r,n,o,a+1,c,i,s,l)}),0)):me(e,t,r,n,o,a+1,c,i,s,l)}catch(f){s(f)}}),(e=>{s(e)}))}catch(u){s(u)}}function ge(e,t,r,n,o,a,c,i,s){try{if(r.length()<=o)return void c(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["v"]);n.value="k"===a?r.get(o):o,se(e,t.body).then((l=>{l instanceof _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["R"]?c(l):l===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["x"]?c(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["v"]):++s>re?(s=0,setTimeout((()=>{ge(e,t,r,n,o+1,a,c,i,s)}),0)):ge(e,t,r,n,o+1,a,c,i,s)}),(e=>{i(e)}))}catch(l){i(l)}}function ye(e,t,r,n,o,a){try{if(void 0===a&&(a="i"),0===r.length)return void n.resolve(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["v"]);me(e,t,r,r.length,o,0,a,(e=>{n.resolve(e)}),(e=>{n.reject(e)}),0)}catch(c){n.reject(c)}}function Ee(e,t,r,n,o,a){try{if(void 0===a&&(a="i"),0===r.length)return void n.resolve(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["v"]);ge(e,t,r,o,0,a,(e=>{n.resolve(e)}),(e=>{n.reject(e)}),0)}catch(c){n.reject(c)}}function we(e,t,r,n,o){try{ye(e,t,r.keys(),n,o,"k")}catch(a){n.reject(a)}}function ve(e,t,r,n,o,a,c,i){try{e.next().then((s=>{try{if(null===s)a(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["v"]);else{const l=_Feature_js__WEBPACK_IMPORTED_MODULE_16__["default"].createFromGraphicLikeObject(s.geometry,s.attributes,n);l._underlyingGraphic=s,o.value=l;se(t,r.body).then((s=>{try{s===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["x"]?a(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["v"]):s instanceof _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["R"]?a(s):++i>re?(i=0,setTimeout((()=>{ve(e,t,r,n,o,a,c,i)}),0)):ve(e,t,r,n,o,a,c,i)}catch(l){c(l)}}),(e=>{c(e)}))}}catch(l){c(l)}}),(e=>{c(e)}))}catch(s){c(s)}}function Ne(t,r){return Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["create"])(((e,o)=>{se(t,r.right).then((a=>{try{let c=null;c="VariableDeclaration"===r.left.type?se(t,r.left):Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["resolve"])(),c.then((()=>{try{let n="";if("VariableDeclaration"===r.left.type){const e=r.left.declarations[0].id;"Identifier"===e.type&&(n=e.name)}else"Identifier"===r.left.type&&(n=r.left.name);if(!n)throw new Error(Object(_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_17__["nodeErrorMessage"])(r,"RUNTIME","INVALIDVARIABLE"));n=n.toLowerCase();let c=null;if(null!==t.localScope&&void 0!==t.localScope[n]&&(c=t.localScope[n]),null===c&&void 0!==t.globalScope[n]&&(c=t.globalScope[n]),null===c)return void o(new Error(Object(_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_17__["nodeErrorMessage"])(r,"RUNTIME","VARIABLENOTDECLARED")));Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["h"])(a)||Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["b"])(a)?ye(t,r,a,{reject:o,resolve:e},c):Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["o"])(a)?Ee(t,r,a,{reject:o,resolve:e},c):a instanceof _Dictionary_js__WEBPACK_IMPORTED_MODULE_12__["default"]||a instanceof _Feature_js__WEBPACK_IMPORTED_MODULE_16__["default"]?we(t,r,a,{reject:o,resolve:e},c):Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["z"])(a)?ve(a.iterator(t.abortSignal),t,r,a,c,(t=>{e(t)}),(e=>{o(e)}),0):ye(t,r,[],{reject:o,resolve:e},c)}catch(n){o(n)}}),o)}catch(c){o(c)}}),o)}))}function Ie(t,o){try{const r=o.argument;if("MemberExpression"===r.type){const a={t:null};return se(t,r.object).then((e=>{let o=null;return a.t=e,!0===r.computed?o=se(t,r.property):"Identifier"===r.property.type&&(o=Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["resolve"])(r.property.name)),o})).then((t=>Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["create"])((e=>{const r=a.t;let n;if(Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["h"])(r)){if(!Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["a"])(t))throw new Error("Invalid Parameter");if(t<0&&(t=r.length+t),t<0||t>=r.length)throw new Error("Assignment outside of array bounds");n=Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["c"])(r[t]),r[t]="++"===o.operator?n+1:n-1}else if(r instanceof _Dictionary_js__WEBPACK_IMPORTED_MODULE_12__["default"]){if(!1===Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["b"])(t))throw new Error("Dictionary accessor must be a string");if(!0!==r.hasField(t))throw new Error("Invalid Parameter");n=Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["c"])(r.field(t)),r.setField(t,"++"===o.operator?n+1:n-1)}else{if(!(r instanceof _Feature_js__WEBPACK_IMPORTED_MODULE_16__["default"]))throw Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["o"])(r)?new Error("Array is Immutable"):new Error("Invalid Parameter");if(!1===Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["b"])(t))throw new Error("Feature accessor must be a string");if(!0!==r.hasField(t))throw new Error("Invalid Parameter");n=Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["c"])(r.field(t)),r.setField(t,"++"===o.operator?n+1:n-1)}!1===o.prefix?e(n):e("++"===o.operator?n+1:n-1)}))))}return Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["create"])(((e,r)=>{const n="Identifier"===o.argument.type?o.argument.name.toLowerCase():"";if(!n)throw new Error("Invalid identifier");let a;return null!==t.localScope&&void 0!==t.localScope[n]?(a=Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["c"])(t.localScope[n].value),t.localScope[n]={value:"++"===o.operator?a+1:a-1,valueset:!0,node:o},void(!1===o.prefix?e(a):e("++"===o.operator?a+1:a-1))):void 0!==t.globalScope[n]?(a=Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["c"])(t.globalScope[n].value),t.globalScope[n]={value:"++"===o.operator?a+1:a-1,valueset:!0,node:o},void(!1===o.prefix?e(a):e("++"===o.operator?a+1:a-1))):void r(new Error("Variable not recognised"))}))}catch(a){return Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["reject"])(a)}}function be(e,t,r,n){switch(t){case"=":return e===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["v"]?null:e;case"/=":return Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["c"])(r)/Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["c"])(e);case"*=":return Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["c"])(r)*Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["c"])(e);case"-=":return Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["c"])(r)-Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["c"])(e);case"+=":return Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["b"])(r)||Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["b"])(e)?Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["e"])(r)+Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["e"])(e):Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["c"])(r)+Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["c"])(e);case"%=":return Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["c"])(r)%Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["c"])(e);default:throw new Error(Object(_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_17__["nodeErrorMessage"])(n,"RUNTIME","OPERATORNOTRECOGNISED"))}}function Te(t,r){return Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["create"])(((e,o)=>{const a=r.left;if("MemberExpression"===a.type)se(t,r.right).then((c=>{try{se(t,a.object).then((i=>{try{let s=null;if(!0===a.computed)s=se(t,a.property);else{if("Identifier"!==a.property.type)throw new Error("Expected computed or identifier for assignemnt target");s=Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["resolve"])(a.property.name)}s.then((t=>{try{if(Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["h"])(i)){if(!Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["a"])(t))throw new Error("Invalid Parameter");if(t<0&&(t=i.length+t),t<0||t>i.length)throw new Error("Assignment outside of array bounds");if(t===i.length){if("="!==r.operator)throw new Error("Invalid Parameter");i[t]=be(c,r.operator,i[t],r)}else i[t]=be(c,r.operator,i[t],r)}else if(i instanceof _Dictionary_js__WEBPACK_IMPORTED_MODULE_12__["default"]){if(!1===Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["b"])(t))throw new Error("Dictionary accessor must be a string");if(!0===i.hasField(t))i.setField(t,be(c,r.operator,i.field(t),r));else{if("="!==r.operator)throw new Error("Invalid Parameter");i.setField(t,be(c,r.operator,null,r))}}else{if(!(i instanceof _Feature_js__WEBPACK_IMPORTED_MODULE_16__["default"]))throw Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["o"])(i)?new Error("Array is Immutable"):new Error("Invalid Parameter");if(!1===Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["b"])(t))throw new Error("Feature accessor must be a string");if(!0===i.hasField(t))i.setField(t,be(c,r.operator,i.field(t),r));else{if("="!==r.operator)throw new Error("Invalid Parameter");i.setField(t,be(c,r.operator,null,r))}}e(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["v"])}catch(n){o(n)}}),o)}catch(s){o(s)}}),o)}catch(i){o(i)}}),o);else{const n=a.name.toLowerCase();if(null!==t.localScope&&void 0!==t.localScope[n])return void se(t,r.right).then((a=>{try{t.localScope[n]={value:be(a,r.operator,t.localScope[n].value,r),valueset:!0,node:r.right},e(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["v"])}catch(c){o(c)}}),o);void 0!==t.globalScope[n]?se(t,r.right).then((a=>{try{t.globalScope[n]={value:be(a,r.operator,t.globalScope[n].value,r),valueset:!0,node:r.right},e(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["v"])}catch(c){o(c)}}),o):o(new Error("Cannot assign undeclared variable"))}}))}function Se(t,n){try{return"AssignmentExpression"===n.expression.type?se(t,n.expression):(n.expression.type,se(t,n.expression).then((t=>Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["create"])((e=>{e(t===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["v"]?_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["v"]:new _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["I"](t))})))))}catch(o){return Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["reject"])(o)}}function Re(t,r){return Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["create"])(((e,n)=>{"AssignmentExpression"!==r.test.type&&"UpdateExpression"!==r.test.type?se(t,r.test).then((o=>{try{!0===o?se(t,r.consequent).then(e,n):!1===o?null!==r.alternate?se(t,r.alternate).then(e,n):e(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["v"]):n(new Error(Object(_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_17__["nodeErrorMessage"])(r.test,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION")))}catch(a){n(a)}}),n):n(new Error(Object(_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_17__["nodeErrorMessage"])(r.test,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION")))}))}function Oe(e,t){try{return Ae(e,t,0)}catch(r){return ne(r)}}function Ae(t,r,o){try{return o>=r.body.length?Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["resolve"])(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["v"]):Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["create"])(((e,n)=>{se(t,r.body[o]).then((a=>{try{a instanceof _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["R"]||a===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["x"]||a===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["y"]||o===r.body.length-1?e(a):Ae(t,r,o+1).then(e,n)}catch(c){n(c)}}),n)}))}catch(a){return ne(a)}}function Ue(t,r){return Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["create"])(((e,n)=>{null===r.argument?e(new _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["R"](_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["v"])):se(t,r.argument).then((t=>{try{e(new _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["R"](t))}catch(r){n(r)}}),n)}))}function Ce(e,t){try{const r=t.id.name.toLowerCase();return e.globalScope[r]={valueset:!0,node:null,value:new _FunctionWrapper_js__WEBPACK_IMPORTED_MODULE_8__["default"](t,e)},Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["resolve"])(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["v"])}catch(r){return ne(r)}}function Fe(t,r,n){return Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["create"])(((e,o)=>{n>=r.declarations.length?e(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["v"]):se(t,r.declarations[n]).then((()=>{n===r.declarations.length-1?e(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["v"]):Fe(t,r,n+1).then((()=>{e(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["v"])}),o)}),o)}))}function Me(t,r){try{let o=null;return o=null===r.init?Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["resolve"])(null):se(t,r.init),null!==t.localScope?o.then((n=>Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["create"])((e=>{if(n===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["v"]&&(n=null),"Identifier"!==r.id.type)throw new Error("Can only assign a regular variable");const o=r.id.name.toLowerCase();t.localScope[o]={value:n,valueset:!0,node:r.init},e(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["v"])})))):o.then((n=>Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["create"])((e=>{if("Identifier"!==r.id.type)throw new Error("Can only assign a regular variable");const o=r.id.name.toLowerCase();n===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["v"]&&(n=null),t.globalScope[o]={value:n,valueset:!0,node:r.init},e(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["v"])}))))}catch(o){return ne(o)}}let xe=0;function Pe(e,t,r,n){let o;switch(t=t.toLowerCase()){case"hasz":{const t=e.hasZ;return void 0!==t&&t}case"hasm":{const t=e.hasM;return void 0!==t&&t}case"spatialreference":{let t=e.spatialReference._arcadeCacheId;if(void 0===t){let r=!0;Object.freeze&&Object.isFrozen(e.spatialReference)&&(r=!1),r&&(xe++,e.spatialReference._arcadeCacheId=xe,t=xe)}const r=new _Dictionary_js__WEBPACK_IMPORTED_MODULE_12__["default"]({wkt:e.spatialReference.wkt,wkid:e.spatialReference.wkid});return void 0!==t&&(r._arcadeCacheId="SPREF"+t.toString()),r}}switch(e.type){case"extent":switch(t){case"xmin":case"xmax":case"ymin":case"ymax":case"zmin":case"zmax":case"mmin":case"mmax":{const r=e[t];return void 0!==r?r:null}case"type":return"Extent"}break;case"polygon":switch(t){case"rings":o=e.cache._arcadeCacheId,void 0===o&&(xe++,o=xe,e.cache._arcadeCacheId=o);return new _ImmutablePathArray_js__WEBPACK_IMPORTED_MODULE_10__["default"](e.rings,e.spatialReference,!0===e.hasZ,!0===e.hasM,o);case"type":return"Polygon"}break;case"point":switch(t){case"x":case"y":case"z":case"m":return void 0!==e[t]?e[t]:null;case"type":return"Point"}break;case"polyline":switch(t){case"paths":o=e.cache._arcadeCacheId,void 0===o&&(xe++,o=xe,e.cache._arcadeCacheId=o);return new _ImmutablePathArray_js__WEBPACK_IMPORTED_MODULE_10__["default"](e.paths,e.spatialReference,!0===e.hasZ,!0===e.hasM,o);case"type":return"Polyline"}break;case"multipoint":switch(t){case"points":o=e.cache._arcadeCacheId,void 0===o&&(xe++,o=xe,e.cache._arcadeCacheId=o);return new _ImmutablePointArray_js__WEBPACK_IMPORTED_MODULE_9__["default"](e.points,e.spatialReference,!0===e.hasZ,!0===e.hasM,o,1);case"type":return"Multipoint"}}throw new Error(Object(_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_17__["nodeErrorMessage"])(n,"RUNTIME","PROPERTYNOTFOUND"))}function De(t,o){try{return se(t,o.object).then((c=>{try{return null===c?Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["reject"])(new Error(Object(_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_17__["nodeErrorMessage"])(o,"RUNTIME","NOTFOUND"))):!1===o.computed?"Identifier"===o.property.type?c instanceof _Dictionary_js__WEBPACK_IMPORTED_MODULE_12__["default"]||c instanceof _Feature_js__WEBPACK_IMPORTED_MODULE_16__["default"]?Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["resolve"])(c.field(o.property.name)):c instanceof _geometry_Geometry_js__WEBPACK_IMPORTED_MODULE_2__["default"]?Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["resolve"])(Pe(c,o.property.name,t,o)):Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["reject"])(new Error(Object(_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_17__["nodeErrorMessage"])(o,"RUNTIME","INVALIDTYPE"))):Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["reject"])(new Error(Object(_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_17__["nodeErrorMessage"])(o,"RUNTIME","INVALIDTYPE"))):se(t,o.property).then((r=>Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["create"])(((e,n)=>{if(c instanceof _Dictionary_js__WEBPACK_IMPORTED_MODULE_12__["default"]||c instanceof _Feature_js__WEBPACK_IMPORTED_MODULE_16__["default"])Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["b"])(r)?e(c.field(r)):n(new Error(Object(_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_17__["nodeErrorMessage"])(o,"RUNTIME","INVALIDTYPE")));else if(c instanceof _geometry_Geometry_js__WEBPACK_IMPORTED_MODULE_2__["default"])Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["b"])(r)?e(Pe(c,r,t,o)):n(new Error(Object(_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_17__["nodeErrorMessage"])(o,"RUNTIME","INVALIDTYPE")));else if(Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["h"])(c))if(Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["a"])(r)&&isFinite(r)&&Math.floor(r)===r){if(r<0&&(r=c.length+r),r>=c.length||r<0)throw new Error(Object(_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_17__["nodeErrorMessage"])(o,"RUNTIME","OUTOFBOUNDS"));e(c[r])}else n(new Error(Object(_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_17__["nodeErrorMessage"])(o,"RUNTIME","INVALIDTYPE")));else if(Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["o"])(c))if(Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["a"])(r)&&isFinite(r)&&Math.floor(r)===r){if(r<0&&(r=c.length()+r),r>=c.length()||r<0)throw new Error(Object(_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_17__["nodeErrorMessage"])(o,"RUNTIME","OUTOFBOUNDS"));e(c.get(r))}else n(new Error(Object(_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_17__["nodeErrorMessage"])(o,"RUNTIME","INVALIDTYPE")));else if(Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["b"])(c))if(Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["a"])(r)&&isFinite(r)&&Math.floor(r)===r){if(r<0&&(r=c.length+r),r>=c.length||r<0)throw new Error(Object(_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_17__["nodeErrorMessage"])(o,"RUNTIME","OUTOFBOUNDS"));e(c[r])}else n(new Error(Object(_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_17__["nodeErrorMessage"])(o,"RUNTIME","INVALIDTYPE")));else n(new Error(Object(_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_17__["nodeErrorMessage"])(o,"RUNTIME","INVALIDTYPE")))}))))}catch(i){return ne(i)}}))}catch(c){return ne(c)}}function je(t,r){try{return se(t,r.argument).then((t=>Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["create"])(((e,n)=>{Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["i"])(t)&&"!"===r.operator?e(!t):"-"===r.operator?e(-1*Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["c"])(t)):"+"===r.operator?e(1*Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["c"])(t)):"~"===r.operator?e(~Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["c"])(t)):n(new Error(Object(_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_17__["nodeErrorMessage"])(r,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR")))}))))}catch(n){return ne(n)}}function ke(r,n){try{const o=[];for(let e=0;e<n.elements.length;e++)o.push(se(r,n.elements[e]));return Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["all"])(o).then((t=>Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["create"])(((e,r)=>{for(let o=0;o<t.length;o++){if(Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["q"])(t[o]))return void r(new Error(Object(_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_17__["nodeErrorMessage"])(n,"RUNTIME","FUNCTIONCONTEXTILLEGAL")));t[o]===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["v"]&&(t[o]=null)}e(t)}))))}catch(o){return ne(o)}}function Le(r,n){try{return Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["all"])([se(r,n.left),se(r,n.right)]).then((t=>Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["create"])(((e,r)=>{const o=t[0],a=t[1];switch(n.operator){case"|":case"<<":case">>":case">>>":case"^":case"&":e(Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["u"])(Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["c"])(o),Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["c"])(a),n.operator));case"==":e(Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["n"])(o,a));break;case"!=":e(!Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["n"])(o,a));break;case"<":case">":case"<=":case">=":e(Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["s"])(o,a,n.operator));break;case"+":Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["b"])(o)||Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["b"])(a)?e(Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["e"])(o)+Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["e"])(a)):e(Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["c"])(o)+Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["c"])(a));break;case"-":e(Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["c"])(o)-Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["c"])(a));break;case"*":e(Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["c"])(o)*Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["c"])(a));break;case"/":e(Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["c"])(o)/Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["c"])(a));break;case"%":e(Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["c"])(o)%Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["c"])(a));break;default:r(new Error(Object(_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_17__["nodeErrorMessage"])(n,"RUNTIME","OPERATORNOTRECOGNISED")))}}))))}catch(o){return ne(o)}}function _e(t,r){return Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["create"])(((e,n)=>{"AssignmentExpression"!==r.left.type&&"UpdateExpression"!==r.left.type?"AssignmentExpression"!==r.right.type&&"UpdateExpression"!==r.right.type?se(t,r.left).then((o=>{try{if(!Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["i"])(o))throw new Error(Object(_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_17__["nodeErrorMessage"])(r,"RUNTIME","ONLYBOOLEAN"));switch(r.operator){case"||":!0===o?e(o):se(t,r.right).then((t=>{try{if(!Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["i"])(t))throw new Error(Object(_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_17__["nodeErrorMessage"])(r,"RUNTIME","ONLYORORAND"));e(t)}catch(o){n(o)}}),n);break;case"&&":!1===o?e(o):se(t,r.right).then((t=>{try{if(!Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["i"])(t))throw new Error(Object(_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_17__["nodeErrorMessage"])(r,"RUNTIME","ONLYORORAND"));e(t)}catch(o){n(o)}}),n);break;default:throw new Error(Object(_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_17__["nodeErrorMessage"])(r,"RUNTIME","ONLYORORAND"))}}catch(a){n(a)}}),n):n(new Error(Object(_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_17__["nodeErrorMessage"])(r.right,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"))):n(new Error(Object(_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_17__["nodeErrorMessage"])(r.left,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION")))}))}function Ve(t,r){return Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["create"])(((e,n)=>{const o=r.name.toLowerCase();if(null===t.localScope||void 0===t.localScope[o])if(void 0===t.globalScope[o])n(new Error(Object(_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_17__["nodeErrorMessage"])(r,"RUNTIME","VARIABLENOTFOUND")));else{const r=t.globalScope[o];!0===r.valueset?e(r.value):null!==r.d?r.d.then(e,n):(r.d=se(t,r.node),r.d.then((t=>{try{r.value=t,r.valueset=!0,e(t)}catch(o){n(o)}}),n))}else{const r=t.localScope[o];!0===r.valueset?e(r.value):null!==r.d?r.d.then(e,n):(r.d=se(t,r.node),r.d.then((t=>{try{r.value=t,r.valueset=!0,e(t)}catch(o){n(o)}}),n))}}))}function Be(e,t){try{if("Identifier"!==t.callee.type)return ne(Object(_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_17__["nodeErrorMessage"])(t,"RUNTIME","ONLYNODESSUPPORTED"));if(null!==e.localScope&&void 0!==e.localScope[t.callee.name.toLowerCase()]){const r=e.localScope[t.callee.name.toLowerCase()];return r.value instanceof _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["N"]?r.value.fn(e,t):r.value instanceof _FunctionWrapper_js__WEBPACK_IMPORTED_MODULE_8__["default"]?$e(e,t,r.value.definition):ne(Object(_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_17__["nodeErrorMessage"])(t,"RUNTIME","NOTAFUNCTION"))}if(void 0!==e.globalScope[t.callee.name.toLowerCase()]){const r=e.globalScope[t.callee.name.toLowerCase()];return r.value instanceof _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["N"]?r.value.fn(e,t):r.value instanceof _FunctionWrapper_js__WEBPACK_IMPORTED_MODULE_8__["default"]?$e(e,t,r.value.definition):ne(Object(_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_17__["nodeErrorMessage"])(t,"RUNTIME","NOTAFUNCTION"))}return ne(Object(_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_17__["nodeErrorMessage"])(t,"RUNTIME","NOTFOUND"))}catch(r){return ne(r)}}function Ye(e,t){return Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["resolve"])(t.value?t.value.cooked:"")}function Ge(t,r){return Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["create"])((e=>{const n=[];Object(_featureset_support_shared_js__WEBPACK_IMPORTED_MODULE_15__["reduceArrayWithPromises"])(r.expressions,((e,r,o,a)=>se(t,r).then((e=>{n[o]=Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["e"])(e)})))).then((()=>{let t="",o=0;for(const e of r.quasis)if(t+=e.value?e.value.cooked:"",!1===e.tail){t+=n[o]?n[o]:"",o++}e(t)}))}))}const ze={};function qe(e){return null===e?"":Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["h"])(e)||Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["o"])(e)?"Array":Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["f"])(e)?"Date":Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["b"])(e)?"String":Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["i"])(e)?"Boolean":Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["a"])(e)?"Number":e instanceof _Attachment_js__WEBPACK_IMPORTED_MODULE_14__["default"]?"Attachment":e instanceof _ArcadePortal_js__WEBPACK_IMPORTED_MODULE_13__["default"]?"Portal":e instanceof _Dictionary_js__WEBPACK_IMPORTED_MODULE_12__["default"]?"Dictionary":e instanceof _Feature_js__WEBPACK_IMPORTED_MODULE_16__["default"]?"Feature":e instanceof _geometry_Point_js__WEBPACK_IMPORTED_MODULE_3__["default"]?"Point":e instanceof _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_6__["default"]?"Polygon":e instanceof _geometry_Polyline_js__WEBPACK_IMPORTED_MODULE_7__["default"]?"Polyline":e instanceof _geometry_Multipoint_js__WEBPACK_IMPORTED_MODULE_5__["default"]?"Multipoint":e instanceof _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_4__["default"]?"Extent":Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["q"])(e)?"Function":Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["z"])(e)?"FeatureSet":Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["A"])(e)?"FeatureSetCollection":e===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["v"]?"":"number"==typeof e&&isNaN(e)?"Number":"Unrecognised Type"}function He(t,r,n,o){return Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["create"])(((e,a)=>{se(t,r.arguments[n]).then((c=>{try{if(Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["n"])(c,o))return void se(t,r.arguments[n+1]).then(e,a);{const c=r.arguments.length-n;return 1===c?void se(t,r.arguments[n]).then(e,a):(2===c&&e(null),3===c?void se(t,r.arguments[n+2]).then(e,a):void He(t,r,n+2,o).then(e,a))}}catch(i){a(i)}}),a)}))}function Ze(t,r,n,o){return Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["create"])(((e,a)=>{if(!0===o)se(t,r.arguments[n+1]).then(e,a);else{3===r.arguments.length-n?se(t,r.arguments[n+2]).then(e,a):se(t,r.arguments[n+2]).then((o=>{try{if(!1===Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["i"])(o))return void a(new Error("WHEN needs boolean test conditions"));Ze(t,r,n+2,o).then(e,a)}catch(c){a(c)}}))}}))}function We(r,o){try{const a=r.length,c=Math.floor(a/2);return 0===a?Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["resolve"])([]):1===a?Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["resolve"])([r[0]]):Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["create"])(((e,n)=>{const i=[We(r.slice(0,c),o),We(r.slice(c,a),o)];Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["all"])(i).then((t=>{try{Ke(t[0],t[1],o,[]).then(e,n)}catch(r){n(r)}}),n)}))}catch(a){return ne(a)}}function Ke(t,r,n,o){return Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["create"])(((e,a)=>{const c=o;t.length>0||r.length>0?t.length>0&&r.length>0?n(t[0],r[0]).then((i=>{try{isNaN(i)&&(i=1),i<=0?(c.push(t[0]),t=t.slice(1)):(c.push(r[0]),r=r.slice(1)),Ke(t,r,n,o).then(e,a)}catch(s){a(s)}}),a):t.length>0?(c.push(t[0]),Ke(t=t.slice(1),r,n,o).then(e,a)):r.length>0&&(c.push(r[0]),r=r.slice(1),Ke(t,r,n,o).then(e,a)):e(o)}))}function Xe(e,t){const r=e.length,n=Math.floor(r/2);return t||(t=function(e,t){return e<t?-1:e===t?0:1}),0===r?[]:1===r?[e[0]]:Je(Xe(e.slice(0,n),t),Xe(e.slice(n,r),t),t)}function Je(e,t,r){const n=[];for(;e.length>0||t.length>0;)if(e.length>0&&t.length>0){let o=r(e[0],t[0]);isNaN(o)&&(o=1),o<=0?(n.push(e[0]),e=e.slice(1)):(n.push(t[0]),t=t.slice(1))}else e.length>0?(n.push(e[0]),e=e.slice(1)):t.length>0&&(n.push(t[0]),t=t.slice(1));return n}function Qe(t,n,o){try{const r=t.body;if(o.length!==t.params.length)return ne(new Error("Invalid Parameter calls to function."));for(let e=0;e<o.length;e++){const r=t.params[e];"Identifier"===r.type&&(n.localScope[r.name.toLowerCase()]={d:null,value:o[e],valueset:!0,node:null})}return se(n,r).then((t=>Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["create"])(((e,r)=>{t instanceof _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["R"]?e(t.value):t!==_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["x"]?t!==_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["y"]?e(t instanceof _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["I"]?t.value:t):r(new Error("Cannot Continue from a Function")):r(new Error("Cannot Break from a Function"))}))))}catch(a){return Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["reject"])(a)}}function $e(e,t,r){return ie(e,t,(function(t,n,o){const a={spatialReference:e.spatialReference,services:e.services,console:e.console,lrucache:e.lrucache,interceptor:e.interceptor,localScope:{},abortSignal:e.abortSignal,globalScope:e.globalScope,depthCounter:e.depthCounter+1};if(a.depthCounter>64)throw new Error("Exceeded maximum function depth");return Qe(r,a,o)}))}function et(e){return function(){const t={abortSignal:e.context.abortSignal,spatialReference:e.context.spatialReference,console:e.context.console,lrucache:e.context.lrucache,interceptor:e.context.interceptor,services:e.context.services,localScope:{},globalScope:e.context.globalScope,depthCounter:e.context.depthCounter+1};if(t.depthCounter>64)throw new Error("Exceeded maximum function depth");return Qe(e.definition,t,arguments)}}Object(_functions_array_js__WEBPACK_IMPORTED_MODULE_18__["registerFunctions"])(ze,ce),Object(_functions_date_js__WEBPACK_IMPORTED_MODULE_19__["registerFunctions"])(ze,ce),Object(_functions_string_js__WEBPACK_IMPORTED_MODULE_23__["registerFunctions"])(ze,ce),Object(_functions_maths_js__WEBPACK_IMPORTED_MODULE_21__["registerFunctions"])(ze,ce),Object(_functions_geometry_js__WEBPACK_IMPORTED_MODULE_20__["registerFunctions"])(ze,ce),Object(_functions_stats_js__WEBPACK_IMPORTED_MODULE_22__["registerFunctions"])(ze,ce),Object(_functions_geomasync_js__WEBPACK_IMPORTED_MODULE_24__["registerFunctions"])({functions:ze,compiled:!1,signatures:null,failDefferred:null,evaluateIdentifier:null,arcadeCustomFunctionHandler:null,mode:"async",standardFunction:ce,standardFunctionAsync:ie}),ze.typeof=function(e,t){return ce(e,t,(function(e,t,r){Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["p"])(r,1,1);const n=qe(r[0]);if("Unrecognised Type"===n)throw new Error("Unrecognised Type");return n}))},ze.iif=function(r,n){return Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["create"])(((e,o)=>{Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["p"])(null===n.arguments?[]:n.arguments,3,3),se(r,n.arguments[0]).then((a=>{try{if(!1===Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["i"])(a))return void o(new Error("IF Function must have a boolean test condition"));Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["all"])([se(r,n.arguments[1]),se(r,n.arguments[2])]).then((t=>{e(a?t[0]:t[1])}),o)}catch(c){o(c)}}),o)}))},ze.decode=function(t,r){return Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["create"])(((e,n)=>{r.arguments.length<2?n(new Error("Missing Parameters")):2!==r.arguments.length?(r.arguments.length-1)%2!=0?se(t,r.arguments[0]).then((o=>{try{He(t,r,1,o).then(e,n)}catch(a){n(a)}}),n):n(new Error("Must have a default value result.")):se(t,r.arguments[1]).then(e,n)}))},ze.when=function(t,r){try{return r.arguments.length<3?ne("Missing Parameters"):r.arguments.length%2==0?ne("Must have a default value result."):se(t,r.arguments[0]).then((n=>Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["create"])(((e,o)=>{if(!1===Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["i"])(n))return void o(new Error("WHEN needs boolean test conditions"));Ze(t,r,0,n).then(e,o)}))))}catch(n){return ne(n)}},ze.sort=function(e,t){return ie(e,t,(function(e,t,r){Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["p"])(r,1,2);let o=r[0];if(Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["o"])(o)&&(o=o.toArray()),!1===Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["h"])(o))return ne(Error("Illegal Argument"));if(r.length>1){if(!1===Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["q"])(r[1]))return ne(Error("Illegal Argument"));return We(o,et(r[1]))}{let e=o;if(0===e.length)return Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["resolve"])([]);const t={};for(let n=0;n<e.length;n++){const r=qe(e[n]);""!==r&&(t[r]=!0)}if(!0===t.Array||!0===t.Dictionary||!0===t.Feature||!0===t.Point||!0===t.Polygon||!0===t.Polyline||!0===t.Multipoint||!0===t.Extent||!0===t.Function)return Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["resolve"])(e.slice(0));let r=0,a="";for(const n in t)r++,a=n;return r>1||"String"===a?e=Xe(e,(function(e,t){if(null==e||e===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["v"])return null==t||t===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["v"]?0:1;if(null==t||t===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["v"])return-1;const r=Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["e"])(e),n=Object(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["e"])(t);return r<n?-1:r===n?0:1})):"Number"===a?e=Xe(e,(function(e,t){return e-t})):"Boolean"===a?e=Xe(e,(function(e,t){return e===t?0:t?-1:1})):"Date"===a&&(e=Xe(e,(function(e,t){return t-e}))),Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["resolve"])(e)}}))};const tt={failDefferred:ne,resolveDeffered:oe,fixSpatialReference:_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["r"],parseArguments:ae,standardFunction:ce,standardFunctionAsync:ie,evaluateIdentifier:Ve,arcadeCustomFunction:et};for(const pt in ze)ze[pt]={value:new _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["N"](ze[pt]),valueset:!0,node:null};const rt=function(){};function nt(e,t){const r=new rt;null==e&&(e={}),null==t&&(t={});const n=new _Dictionary_js__WEBPACK_IMPORTED_MODULE_12__["default"]({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});n.immutable=!1,r.textformatting={value:n,valueset:!0,node:null};for(const o in t)r[o]={value:new _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["N"](t[o]),native:!0,valueset:!0,node:null};for(const o in e)e[o]&&"esri.Graphic"===e[o].declaredClass?r[o]={value:_Feature_js__WEBPACK_IMPORTED_MODULE_16__["default"].createFromGraphic(e[o]),valueset:!0,node:null}:r[o]={value:e[o],valueset:!0,node:null};return r}function ot(e){console.log(e)}rt.prototype=ze,rt.prototype.infinity={value:Number.POSITIVE_INFINITY,valueset:!0,node:null},rt.prototype.pi={value:Math.PI,valueset:!0,node:null};const at=tt;function ct(e){const t={mode:"async",compiled:!1,functions:{},signatures:[],standardFunction:ce,standardFunctionAsync:ie,failDefferred:ne,evaluateIdentifier:Ve,arcadeCustomFunctionHandler:et};for(let r=0;r<e.length;r++)e[r].registerFunctions(t);for(const r in t.functions)ze[r]={value:new _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["N"](t.functions[r]),valueset:!0,node:null},rt.prototype[r]=ze[r];for(let r=0;r<t.signatures.length;r++)Object(_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_17__["addFunctionDeclaration"])(t.signatures[r],"async")}function it(t,r){let n=r.spatialReference;null==n&&(n=new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_1__["default"]({wkid:102100}));const a=nt(r.vars,r.customfunctions);return se({spatialReference:n,services:r.services,abortSignal:void 0===r.abortSignal||null===r.abortSignal?{aborted:!1}:r.abortSignal,globalScope:a,console:r.console?r.console:ot,lrucache:r.lrucache,interceptor:r.interceptor,localScope:null,depthCounter:1},t.body[0].body).then((t=>Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__["create"])(((e,r)=>{t instanceof _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["R"]&&(t=t.value),t instanceof _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["I"]&&(t=t.value),t===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["v"]&&(t=null),t!==_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["x"]?t!==_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["y"]?t instanceof _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_11__["N"]||t instanceof _FunctionWrapper_js__WEBPACK_IMPORTED_MODULE_8__["default"]?r(new Error("Cannot return FUNCTION")):e(t):r(new Error("Cannot return CONTINUE")):r(new Error("Cannot return BREAK"))}))))}function st(e,t){return Object(_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_17__["findFieldLiterals"])(e)}function lt(e,t){return Object(_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_17__["validateScript"])(e,t,"full")}function ut(e,t){return Object(_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_17__["referencesMember"])(e,t)}function ft(e,t){return Object(_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_17__["referencesFunction"])(e,t)}function ht(e){return Object(_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_17__["findFunctionCalls"])(e)}


/***/ })

}]);
//# sourceMappingURL=arcade-arcadeAsyncRuntime-js.js.map