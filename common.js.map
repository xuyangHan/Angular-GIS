{"version":3,"sources":["./node_modules/@arcgis/core/views/2d/engine/webgl/collisions/CollisionGrid.js","./node_modules/@arcgis/core/chunks/mat3f64.js","path (ignored)","fs (ignored)","./node_modules/@arcgis/core/layers/graphics/sources/geojson/geojson.js","./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/BaseTileRenderer.js","./node_modules/@arcgis/core/views/2d/engine/BitmapTileContainer.js","./node_modules/@arcgis/core/core/byteSizeEstimations.js","./node_modules/@arcgis/core/views/2d/viewStateUtils.js","./node_modules/@arcgis/core/renderers/support/heatmapUtils.js","./node_modules/@arcgis/core/layers/support/kmlUtils.js","./node_modules/@arcgis/core/chunks/quat.js","./node_modules/@arcgis/core/portal/support/portalItemUtils.js","./node_modules/@arcgis/core/portal/support/jsonContext.js","./node_modules/@arcgis/core/views/2d/layers/BitmapTileLayerView2D.js","./node_modules/@arcgis/core/layers/graphics/sources/support/sourceUtils.js","./node_modules/@arcgis/core/views/2d/engine/vectorTiles/TileIndex.js","./node_modules/@arcgis/core/views/2d/engine/BitmapContainer.js","./node_modules/@arcgis/core/support/requestImageUtils.js","./node_modules/@arcgis/core/views/webgl/testSVGPremultipliedAlpha.js","./node_modules/@arcgis/core/layers/support/WMTSLayerInfo.js","./node_modules/@arcgis/core/chunks/vec3f32.js","./node_modules/@arcgis/core/geometry/support/scaleUtils.js","./node_modules/@arcgis/core/portal/support/portalLayers.js","./node_modules/@arcgis/core/layers/support/I3SLayerDefinitions.js","./node_modules/@arcgis/core/core/number.js","./node_modules/@arcgis/core/layers/support/ExportImageParameters.js","./node_modules/@arcgis/core/geometry/geometryAdapters/hydrated.js","./node_modules/@arcgis/core/symbols/cim/Rasterizer.js","./node_modules/@arcgis/core/layers/support/capabilities.js","./node_modules/@arcgis/core/layers/graphics/sources/support/clientSideDefaults.js","./node_modules/@arcgis/core/views/2d/engine/ImageryBitmapSource.js","./node_modules/@arcgis/core/chunks/geometryEngineJSON.js","./node_modules/@arcgis/core/views/2d/engine/BitmapTile.js","./node_modules/@arcgis/core/layers/support/FetchAssociatedFeatureLayer.js","./node_modules/@arcgis/core/layers/WebTileLayer.js","./node_modules/@arcgis/core/layers/support/lazyLayerLoader.js","./node_modules/@arcgis/core/layers/graphics/objectIdUtils.js","./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicContainer.js","./node_modules/@arcgis/core/chunks/quatf64.js","./node_modules/@arcgis/core/layers/support/ExportWMSImageParameters.js","./node_modules/@arcgis/core/views/2d/layers/features/processors/BaseProcessor.js","./node_modules/@arcgis/core/views/2d/layers/support/ExportStrategy.js","./node_modules/@arcgis/core/views/2d/engine/Bitmap.js"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACuL,0BAA0B,QAAQ,iBAAiB,2BAA2B,wCAAwC,sCAAsC,qFAAC,aAAa,iBAAiB,8BAA8B,qCAAqC,eAAe,sBAAsB,OAAO,0BAA0B,cAAc,iCAAiC,OAAO,mBAAmB,cAAc,0BAA0B,iBAAiB,aAAa,YAAY,SAAS,GAAG,sBAAsB,KAAK,YAAY,IAAI,KAAK,2GAA2G,+BAA+B,gBAAgB,aAAa,gCAAgC,6BAA6B,kBAAkB,sCAAsC,kDAAkD,QAAQ,gEAAC,iCAAiC,gEAAC,iCAAiC,gEAAC,gCAAgC,gEAAC,8BAA8B,YAAY,KAAK,gBAAgB,KAAK,KAAK,4BAA4B,wBAAwB,SAAS,eAAe,wCAAwC,gEAAC,iCAAiC,gEAAC,iCAAiC,gEAAC,gCAAgC,gEAAC,8BAA8B,YAAY,KAAK,gBAAgB,KAAK,KAAK,4BAA4B,YAAY,SAAS,gBAAgB,aAAa,GAAG,sBAAsB,YAAY,IAAI,KAAK,2GAA2G,qBAAqB,iCAAiC,QAAQ,mBAAmB,oCAAoC,yDAAC,oBAAoB,yDAAC,yDAAyD,kBAAkB,wEAAwE,qHAAqH,cAAc,wEAAwE,oCAAoC,QAAQ,4BAA4B,YAAY,0DAA+J;;;;;;;;;;;;;ACJ77E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,0BAA0B,cAAc,qDAAqD,8BAA8B,0BAA0B,gBAAgB,+BAA+B,qBAAqB,0DAA0D,EAA6C;;;;;;;;;;;;ACJ7U,e;;;;;;;;;;;ACAA,e;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAC4H,cAAc,WAAW,MAAM,EAAE,MAAM,eAAe,UAAU,cAAc,WAAW,cAAc,WAAW,mCAAmC,SAAS,yMAAyM,cAAc,eAAe,sBAAsB,MAAM,gEAAgE,cAAc,kBAAkB,eAAe,gCAAgC,MAAM,sDAAsD,MAAM,yEAAyE,MAAM,0EAA0E,iBAAiB,EAAE,MAAM,mCAAmC,GAAG,MAAM,EAAE,MAAM,eAAe,UAAU,YAAY,MAAM,6BAA6B,GAAG,6BAA6B,cAAc,4BAA4B,YAAY,4DAAC,SAAS,6DAAC,cAAc,SAAS,cAAc,MAAM,EAAE,MAAM,eAAe,UAAU,cAAc,wBAAwB,cAAc,YAAY,cAAc,YAAY,cAAc,QAAQ,YAAY,WAAW,KAAK,iCAAiC,uBAAuB,YAAY,cAAc,6BAA6B,0DAA0D,kBAAkB,eAAe,iCAAiC,sCAAsC,iCAAiC,mCAAmC,4BAA4B,+BAA+B,kBAAkB,8BAA8B,kBAAkB,sCAAsC,SAAS,kBAAkB,8BAA8B,kBAAkB,8BAA8B,YAAY,YAAY,WAAW,gBAAgB,SAAS,kBAAkB,8BAA8B,kBAAkB,sBAAsB,YAAY,YAAY,WAAW,gBAAgB,SAAS,kBAAkB,aAAa,uBAAuB,kBAAkB,aAAa,uBAAuB,kBAAkB,0BAA0B,yBAAyB,kBAAkB,qBAAqB,KAAK,gBAAgB,yBAAyB,kBAAkB,eAAe,+CAA+C,cAAc,iBAAiB,yCAAyC,yCAAyC,yBAAyB,cAAc,gBAAgB,sDAAC,gDAAgD,8DAA8D,sDAAC,4FAA4F,OAAO,EAAE,MAAM,MAAM,GAAG,aAAa,0GAA0G,4BAA4B,sDAAC,qEAAqE,MAAM,EAAE,iBAAiB,EAAE,sCAAsC,mDAAmD,oBAAoB,QAAQ,MAAM,EAAE,MAAM,eAAe,UAAU,MAAM,oCAAoC,8DAA8D,OAAO,qHAAqH,MAAM,6BAA6B,GAAG,yCAAyC,OAAO,UAAU,oNAAoN,SAAS,kBAAkB,qBAAqB,aAAa,YAAY,cAAc,SAAS,aAAa,4CAA4C,sBAAsB,YAAY,OAAO,gBAAgB,oBAAwG;;;;;;;;;;;;;ACJzkI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAC8iB,oBAAoB,gEAAC,CAAC,eAAe,4BAA4B,UAAU,+EAA+E,eAAe,yBAAyB,eAAe,2BAA2B,sFAAsF,+BAA+B,eAAe,sBAAsB,eAAe,gDAAgD,aAAa,SAAS,+BAA+B,eAAe,MAAM,gBAAgB,oBAAoB,gBAAgB,iCAAiC,8DAAC,EAAE,6FAAC,gCAAgC,8DAAC,EAAE,6FAAC,oCAAoC,8DAAC,EAAE,6FAAC,uCAAuC,8DAAC,EAAE,6FAAC,mCAAmC,8DAAC,EAAE,6FAAC,qEAAqE,QAAuB,gEAAC,EAAC;;;;;;;;;;;;;ACJl5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACiP,gBAAgB,+DAAC,CAAC,2BAA2B,oEAAoE,cAAc,yCAAyC,kFAAC,MAAM,WAAW,yDAAC,uCAAuC,eAAe,uBAAuB,8BAA8B,8BAA8B,mDAAC,+DAA+D,4DAAC,KAAK,EAAE,0CAA0C,YAAY,4BAA4B,4DAAC,yBAA0D;;;;;;;;;;;;;ACJ1wB;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,cAAc,mBAAmB,aAAa,UAAU,cAAc,eAAe,SAAS,yCAAyC,aAAa,iBAAiB,qBAAqB,MAAM,oBAAoB,MAAM,oBAAoB,SAAS,gBAAgB,qBAAmJ;;;;;;;;;;;;;ACJ1Z;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,oBAAoB,cAAc,WAAW,kBAAkB,MAAM,oBAAoB,GAAG,qFAAqF,gBAAgB,mFAAmF,2DAA2D,oBAAoB,4BAA4B,qDAAqD,gBAAgB,6BAA6B,4BAAwG;;;;;;;;;;;;;ACJzkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACoF,cAAc,kBAAkB,uDAAC,iBAAiB,oEAAoE,gCAAgC,4BAA4B,+CAA+C,UAAU,gBAAgB,wDAAwD,KAAK,IAAI,KAAK,IAAI,KAAK,IAAI,KAAK,IAAI,qFAAqF,IAAI,oBAAoB,MAAM,mCAAmC,oDAAoD,iCAAiC,eAAe,UAAU,wBAAwB,MAAM,sGAAsG,YAAY,IAAI,KAAK,eAAe,YAAY,IAAI,KAAK,eAAe,+BAA+B,OAAO,uBAAuB,oBAAoB,MAAM,mCAAmC,oDAAoD,iCAAiC,yBAAyB,kBAAkB,sBAAsB,KAAK,SAAS,EAAE,wBAAwB,qBAAqB,SAAS,0CAA0C,8CAA8C,sJAAsJ,YAAY,IAAI,KAAK,eAAe,YAAY,IAAI,KAAK,eAAe,gCAAgC,OAAO,uBAAuB,wBAAwB,sDAAsD,gCAAgC,4EAA4E,sBAAsB,sKAAsK,YAAY,WAAW,KAAK,mCAAmC,OAAO,gEAAC,kBAAkB,gBAAgB,cAAc,0DAA0D,YAAY,YAAY,4DAA4D,SAAS,gBAAgB,+EAA+E,gBAAgB,0FAA4T;;;;;;;;;;;;;ACJpnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACilB,SAAS,4FAA4F,cAAc,uFAAuF,kEAAkE,mEAAmE,QAAQ,2DAAC,IAAI,yBAAyB,kCAAkC,WAAW,wCAAwC,qKAAqK,mDAAmD,cAAc,kBAAkB,8BAA8B,iCAAiC,aAAa,GAAG,kBAAkB,0BAA0B,2DAAC,yCAAyC,2DAAC,2CAA2C,2DAAC,sEAAsE,eAAe,8EAA8E,4BAA4B,4CAA4C,MAAM,qBAAqB,oBAAoB,uBAAuB,QAAQ,wBAAwB,GAAG,aAAa,OAAO,gCAAgC,oBAAoB,QAAQ,6CAAC,EAAE,6CAAC,mBAAmB,EAAE,4EAAC,IAAI,iBAAiB,EAAE,QAAQ,kDAAC,eAAe,OAAO,2DAAC,IAAI,OAAO,8EAA8E,8BAA8B,EAAE,4BAA4B,eAAe,0CAA0C,sBAAsB,cAAc,mJAAmJ,4BAA4B,qDAAqD,kBAAkB,KAAK,kBAAkB,eAAe,yBAAyB,GAAG,gBAAgB,MAAM,yCAAyC,kBAAkB,eAAe,iDAAiD,oBAAoB,QAAQ,oEAAC,uDAAuD,gFAAC,2BAA2B,yDAAC,4BAA4B,kBAAkB,kCAAkC,oDAAoD,SAAS,cAAc,QAAQ,kFAAC,KAAK,kFAAC,CAAC,qFAAC,EAAE,kBAAkB,mHAAmH,qFAAC,eAAe,0FAAC,MAAM,uHAAuH,qFAAC,eAAe,0FAAC,MAAM,2GAA2G,qFAAC,eAAe,0FAAC,MAAM,0CAA0C,qFAAC,aAAa,0FAAC,MAAM,OAAO,kFAAC,GAAG,qFAAC,QAAQ,6EAA6E,qEAAC,QAA2G;;;;;;;;;;;;;ACJ5mH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACmS,cAAc,qCAAqC,kBAAkB,MAAM,oBAAoB,8DAA8D,gBAAgB,0CAA0C,SAAS,4CAAC,gEAAgE,kBAAkB,8DAA8D,6FAA6F,kBAAkB,MAAM,8DAA8D,6DAA6D,kBAAkB,MAAM,8DAA8D,6DAA6D,kBAAkB,MAAM,8DAA8D,6DAA6D,gBAAgB,2BAA2B,sEAAsE,oBAAoB,kCAAkC,0CAA0C,6DAA6D,4CAAC,0IAA0I,cAAc,QAAQ,oDAAC,KAAK,oDAAC,KAAK,oDAAC,mCAAmC,6HAA6H,gBAAgB,8DAA8D,gDAAgD,gBAAgB,oDAAoD,gBAAgB,uBAAuB,MAAM,kGAAkG,KAAK,QAAQ,sCAAsC,0BAA0B,4IAA4I,SAAS,oBAAoB,uBAAuB,eAAe,0FAA0F,6EAA6E,cAAc,qDAAqD,QAAQ,0CAAC,GAAG,0CAAC,GAAG,0CAAC,OAAO,0CAAC,GAAG,0CAAC,GAAG,0CAAC,GAAG,0CAAC,OAAO,0CAAC,OAAO,0CAAC,GAAG,0CAAC,GAAG,0CAAC,CAAC,kBAAkB,QAAQ,kDAAC,MAAM,mBAAmB,kDAAC,QAAQ,kDAAC,UAAU,kDAAC,QAAQ,kDAAC,mEAAmE,kDAAC,uDAAuD,QAAQ,qDAAC,KAAK,qDAAC,UAAU,qDAAC,QAAQ,yBAAyB,sDAAsD,SAAS,qDAAC,MAAM,qDAAC,GAAG,qBAAqB,WAAW,gHAAgH,SAAS,qDAAC,GAAG,sBAAsB,4UAA4U,EAA+O;;;;;;;;;;;;;ACJ3tH;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,gBAAgB,YAAY,uBAAuB,gCAAgC,gBAAgB,qDAAqD,gBAAgB,uBAAuB,MAAM,qBAAqB,qBAA4F;;;;;;;;;;;;;ACJtT;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACiF,cAAc,OAAO,yBAAyB,qEAAC,6BAA6B,kDAAC,iDAA4E;;;;;;;;;;;;;ACJ1O;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAC2e,YAAY,sBAAsB,SAAS,6BAA6B,iBAAiB,iDAAiD,kFAAC,+DAA+D,SAAS,oFAAoF,SAAS,8DAAC,EAAE,6FAAC,sDAAyF;;;;;;;;;;;;;ACJx3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACoP,QAAQ,cAAc,sCAAsC,QAAQ,eAAe,oHAAoH,cAAc,gBAAgB,QAAQ,eAAe,kEAAkE,cAAc,gBAAgB,gBAAgB,2BAA2B,UAAU,kBAAkB,iBAAiB,eAAe,sBAAsB,qBAAqB,mGAAmG,0CAA0C,oCAAoC,QAAQ,iFAAC,MAAM,cAAc,sFAAC,SAAS,aAAa,uEAAuE,OAAO,IAAI,YAAY,gBAAgB,QAAQ,0BAA0B,6EAAC,6BAA6B,4EAAC,uCAAuC,qFAAC,IAAI,MAAM,gBAAgB,QAAQ,0FAAC,aAAa,6BAA6B,wDAAwD,uBAAuB,SAAS,mBAAmB,mBAAmB,8XAAoD,IAAI,sBAAsB,CAAC,0FAAC,sEAAgP;;;;;;;;;;;;;ACJzqD;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACiL,QAAQ,eAAe,gBAAgB,4EAAC,sBAAsB,KAAK,0DAA0D,uBAAuB,aAAa,uBAAuB,MAAM,oBAAoB,SAAS,0DAAC,IAAI,0GAA0G,GAAG,0EAAC,YAAY,YAAY,GAAG,kCAAkC,mBAAmB,uEAAuE,kBAAkB,iNAAiN,sBAAsB,YAAY,gGAAgG,QAAQ,KAAK,YAAY,OAAO,0DAAC,gDAAgD,kCAAkC,mCAAmC,KAAK,SAAS,4CAA4C,aAAa,OAAO,MAAM,aAAa,IAAI,MAAM,WAAW,2BAA0C,gEAAC,EAAC;;;;;;;;;;;;;ACJnzC;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAC8H,gBAAgB,8DAAC,CAAC,2BAA2B,6DAA6D,uBAAuB,8BAA8B,uBAAuB,mDAAC,4CAA4C,4DAAC,KAAK,EAAE,2CAAwE;;;;;;;;;;;;;ACJjb;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAC6B,sBAAsB,MAAM,OAAO,OAAO,2DAAC,IAAI,0BAA0B,EAAE,SAAmC;;;;;;;;;;;;;ACJ3I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAC+L,oBAAoB,kBAAkB,gTAAgT,YAAY,6DAAC,IAAI,mCAAmC,EAAE,6FAA6F,IAAI,wDAAC,gEAAgE,6DAAC,IAAI,QAAQ,EAAE,WAAW,+DAA+D,EAAE,EAAE,WAAW,QAAQ,mDAAC,8BAA8B,2BAA2B,sBAAsB,mBAAmB,mBAAmB,sDAAsD,KAAK,iCAAiC,wBAAwB,gCAAgC,mBAAmB,gDAAgD,KAAK,OAAO,QAAQ,EAAE,iBAAiB,YAAY,mDAAC,IAAI,oFAAoF,IAAI,iDAAiD,uCAAuC,yBAAyB,iBAAiB,6EAA6E,0BAA0B,uKAA8M;;;;;;;;;;;;;ACJjvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAC+f,MAAM,sBAAsB,iEAAC,CAAC,eAAe,SAAS,QAAQ,cAAc,sBAAsB,2DAAC,8CAA8C,2DAAC,2GAA2G,IAAI,8DAAC,EAAE,6FAAC,EAAE,MAAM,sBAAsB,+CAA+C,8DAAC,EAAE,6FAAC,EAAE,MAAM,sBAAsB,0CAA0C,8DAAC,EAAE,6FAAC,EAAE,kBAAkB,UAAU,yCAAyC,8DAAC,EAAE,6FAAC,EAAE,kBAAkB,UAAU,uCAAuC,8DAAC,EAAE,6FAAC,EAAE,kBAAkB,UAAU,iCAAiC,8DAAC,EAAE,6FAAC,yCAAyC,QAAuB,gEAAC,EAA4B;;;;;;;;;;;;;ACJrtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,2BAA2B,cAAc,4BAA4B,uCAAuC,kBAAkB,4BAA4B,8BAA8B,gBAAgB,+BAA+B,aAAa,WAAW,aAAa,gBAAgB,aAAa,gBAAgB,aAAa,gBAAgB,aAAa,gBAAgB,oCAAoC,qBAAqB,2IAA2I,EAAyG;;;;;;;;;;;;;ACJ7qB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACoF,WAAW,gBAAgB,gCAAgC,gFAAC,wBAAwB,wBAAwB,iEAAC,KAAK,gBAAgB,UAAU,gFAAC,IAAI,iEAAC,IAAI,gBAAgB,UAAU,gFAAC,IAAI,iEAAC,IAAI,gBAAgB,qDAAqD,qCAAwI;;;;;;;;;;;;;ACJ3d;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAC+Q,cAAc,6CAA6C,sDAAC,MAAM,oBAAoB,sDAAC,eAAe,4BAA4B,SAAS,wCAAwC,iBAAiB,iCAAiC,GAAG,cAAc,gCAAgC,cAAc,eAAe,8BAA8B,kCAAkC,qCAAqC,gCAAgC,gCAAgC,gCAAgC,qCAAqC,qBAAqB,sBAAsB,qBAAqB,kCAAkC,sDAAC,kDAAkD,KAAK,IAAI,YAAY,IAAI,cAAc,SAAS,iFAAC,4BAA4B,sCAAsC,IAAI,cAAc,wBAAwB,sBAAsB,EAAE,0BAA0B,GAAG,cAAc,sBAAsB,uBAAuB,WAAW,qCAAqC,uCAAuC,OAAO,wBAAwB,GAAG,cAAc,sBAAsB,uBAAuB,WAAW,MAAM,mCAAmC,MAAM,UAAU,KAAK,mEAAmE,SAAS,4IAA4I,uEAAuE,gBAAgB,sBAAsB,mBAAmB,SAAS,4IAA4I,2DAA2D,0BAA0B,GAAG,OAAO,wBAAwB,GAAG,oBAAoB,eAAe,GAAG,0EAAC,uBAAuB,2BAA2B,GAAG,0EAAC,yBAAyB,wBAAwB,mCAAmC,yBAAyB,EAAE,wBAAwB,oBAAoB,UAAU,eAAe,mFAAmF,6CAA6C,4BAA4B,wCAAwC,8BAA8B,yDAAyD,6CAA6C,8BAA8B,wCAAwC,0BAA0B,6EAA6E,6BAA6B,EAAE,0BAA0B,aAAa,OAAO,yBAAyB,aAAa,OAAO,6BAA6B,aAAa,OAAO,sBAAsB,aAAa,OAAO,sBAAsB,aAAa,OAAO,uBAAuB,cAAc,sCAAsC,cAAc,sDAAsD,6EAA6E,cAAc,kBAAkB,GAAG,6DAAC,QAAQ,cAAc,iBAAiB,8BAA8B,iBAAiB,gCAAgC,cAAc,YAAY,8HAA8H,cAAc,OAAO,2DAAC,IAAI,2BAA2B,UAAU,oBAAoE;;;;;;;;;;;;;ACJxsH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACuiB,oBAAoB,iEAAC,CAAC,cAAc,+FAA+F,8DAAC,EAAE,6FAAC,EAAE,YAAY,sCAAsC,8DAAC,EAAE,6FAAC,EAAE,YAAY,mCAAmC,8DAAC,EAAE,6FAAC,EAAE,YAAY,kDAAkD,8DAAC,EAAE,6FAAC,iDAAiD,oBAAoB,iEAAC,CAAC,cAAc,oCAAoC,8DAAC,EAAE,6FAAC,EAAE,kBAAkB,MAAM,kCAAkC,4BAA4B,8DAAC,EAAE,6FAAC,EAAE,YAAY,kCAAkC,8DAAC,EAAE,6FAAC,8CAA8C,oBAAoB,iEAAC,CAAC,cAAc,gKAAgK,8DAAC,EAAE,6FAAC,EAAE,cAAc,yCAAyC,8DAAC,EAAE,6FAAC,EAAE,OAAO,0CAA0C,8DAAC,EAAE,6FAAC,EAAE,OAAO,kDAAkD,8DAAC,EAAE,6FAAC,EAAE,YAAY,wCAAwC,8DAAC,EAAE,6FAAC,EAAE,YAAY,2CAA2C,8DAAC,EAAE,6FAAC,2DAA2D,oBAAoB,iEAAC,CAAC,cAAc,iPAAiP,8DAAC,EAAE,mGAAC,EAAE,0CAA0C,mCAAmC,8DAAC,EAAE,6FAAC,EAAE,YAAY,qCAAqC,8DAAC,EAAE,6FAAC,EAAE,aAAa,qCAAqC,8DAAC,EAAE,mGAAC,EAAE,sCAAsC,kCAAkC,8DAAC,EAAE,6FAAC,EAAE,OAAO,uCAAuC,8DAAC,EAAE,6FAAC,EAAE,OAAO,0CAA0C,8DAAC,EAAE,6FAAC,EAAE,OAAO,yCAAyC,8DAAC,EAAE,6FAAC,EAAE,cAAc,wCAAwC,8DAAC,EAAE,6FAAC,EAAE,OAAO,gDAAgD,8DAAC,EAAE,6FAAC,iDAAiD,oBAAoB,iEAAC,GAAG,8DAAC,EAAE,6FAAC,EAAE,kBAAkB,MAAM,mDAAmD,QAAQ,IAAI,8BAA8B,8DAAC,EAAE,mGAAC,EAAE,kEAAkE,kCAAkC,8DAAC,EAAE,6FAAC,4CAA4C,oBAAoB,iEAAC,CAAC,cAAc,oCAAoC,8DAAC,EAAE,6FAAC,EAAE,SAAS,iCAAiC,8DAAC,EAAE,6FAAC,EAAE,aAAa,iCAAiC,8DAAC,EAAE,6FAAC,mDAAmD,oBAAoB,iEAAC,GAAG,8DAAC,EAAE,mGAAC,EAAE,gFAAgF,8BAA8B,8DAAC,EAAE,6FAAC,EAAE,YAAY,qCAAqC,8DAAC,EAAE,6FAAC,gDAAgD,oBAAoB,iEAAC,GAAG,8DAAC,EAAE,mGAAC,EAAE,cAAc,kCAAkC,8DAAC,EAAE,6FAAC,EAAE,cAAc,sCAAsC,8DAAC,EAAE,6FAAC,2DAA2D,oBAAoB,iEAAC,CAAC,cAAc,oCAAoC,8DAAC,EAAE,6FAAC,EAAE,YAAY,gCAAgC,8DAAC,EAAE,6FAAC,EAAE,OAAO,kCAAkC,8DAAC,EAAE,6FAAC,EAAE,OAAO,gCAAgC,8DAAC,EAAE,6FAAC,EAAE,OAAO,6BAA6B,8DAAC,EAAE,6FAAC,EAAE,OAAO,+BAA+B,8DAAC,EAAE,6FAAC,EAAE,OAAO,kCAAkC,8DAAC,EAAE,6FAAC,EAAE,OAAO,mCAAmC,8DAAC,EAAE,6FAAC,EAAE,OAAO,mCAAmC,8DAAC,EAAE,6FAAC,EAAE,OAAO,gDAAgD,8DAAC,EAAE,6FAAC,6CAA6C,oBAAoB,iEAAC,GAAG,8DAAC,EAAE,mGAAC,EAAE,oBAAoB,kCAAkC,8DAAC,EAAE,6FAAC,4CAA4C,8DAAC,EAAE,6FAAC,iDAAgV;;;;;;;;;;;;;ACJ1gJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAC+F,SAAS,0mBAA0mB,cAAc,MAAM,iEAAC,IAAI,aAAa,OAAO,qBAAqB,gDAAgD,8BAA8B,OAAO,6BAA6B,gBAAgB,cAAc,KAAK,UAAU,YAAY,6BAA6B,iDAAiD,gCAAgC,kBAAkB,gBAAgB,gDAAgD,UAAU,kDAAkD,mCAAmC,KAAK,0EAA0E,6EAA6E,uBAAuB,2EAA2E,4DAA4D,gDAAgD,GAAG,kBAAkB,aAAa,oDAAoD,wEAAwE,eAAe,oGAAoG,kDAAkD,mBAAmB,sCAAsC,iEAAiE,oFAAoF,mBAAmB,6BAA6B,qBAAqB,yHAAyH,gCAAgC,WAAW,kBAAkB,yBAAyB,8CAA8C,WAAW,eAAe,EAAE,EAAE,mBAAmB,kEAAkE,kEAAkE,cAAc,mBAAmB,cAAc,kBAAkB,uDAAuD,QAAQ,8BAA8B,mCAAmC,+EAA+E,kBAAkB,GAAG,+BAA+B,OAAO,wBAAwB,eAAe,qEAAC,oCAAoC,SAAS,oFAAoF,gBAAgB,eAAe,iOAAiO,wBAAwB,uGAAuG,GAAG,mEAAmE,gBAAgB,oDAAoD,iBAAiB,WAAW,UAAU,oBAAoB,oBAAoB,yGAAyG,cAAc,kBAAkB,6MAA6M,2CAA2C,SAAS,oFAAoF,aAAa,KAAK,MAAM,UAAU,oEAAoE,oBAAoB,iBAAiB,SAAS,GAAG,cAAc,kBAAkB,sFAAsF,+BAA+B,mBAAmB,iCAAiC,uBAAuB,SAAS,qEAAC,qCAAqC,mCAAmC,MAAM,uBAAuB,YAAY,cAAc,MAAM,aAAa,MAAM,GAAG,qCAAqC,YAAY,MAAM,qBAAqB,YAAY,cAAc,MAAM,KAAK,MAAM,wBAAwB,qCAAqC,WAAW,YAAY,WAAW,oBAAoB,wBAAwB,iBAAiB,6BAAwG;;;;;;;;;;;;;ACJhhK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACgoB,SAAS,uQAAuQ,oBAAoB,8EAAC,CAAC,yDAAC,GAAG,eAAe,sBAAsB,UAAU,gBAAgB,oBAAoB,sCAAsC,8DAA8D,uCAAuC,uBAAuB,mBAAmB,0EAAC,+DAA+D,aAAa,qPAAqP,aAAa,8BAA8B,oEAAoE,gBAAgB,wEAAwE,sFAAsF,QAAQ,cAAc,sIAAsI,mBAAmB,qKAAqK,uBAAuB,WAAW,wBAAwB,mCAAmC,2FAA2F,yEAAyE,gBAAgB,sCAAsC,6DAA6D,SAAS,mBAAmB,OAAO,8FAA8F,uFAAuF,iDAAiD,KAAK,8DAAC,EAAE,6FAAC,EAAE,YAAY,qCAAqC,8DAAC,EAAE,6FAAC,EAAE,YAAY,wCAAwC,8DAAC,EAAE,6FAAC,8BAA8B,8DAAC,EAAE,6FAAC,EAAE,YAAY,8BAA8B,8DAAC,EAAE,6FAAC,EAAE,YAAY,iCAAiC,8DAAC,EAAE,6FAAC,EAAE,YAAY,+BAA+B,8DAAC,EAAE,6FAAC,CAAC,yFAAC,oCAAoC,8DAAC,EAAE,6FAAC,EAAE,YAAY,+BAA+B,8DAAC,EAAE,6FAAC,EAAE,YAAY,0CAA0C,8DAAC,EAAE,6FAAC,iDAAoF;;;;;;;;;;;;;ACJ7vG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACkJ,SAAS,wGAAwG,gBAAgB,uBAAuB,4CAA4C,qFAAqF,kBAAkB,oCAAoC,iDAAC,EAAE,qDAAqD,EAAE,8EAA8E,kBAAkB,YAAY,mDAAC,EAAE,wEAAwE,EAAE,8BAA8B,kBAAkB,YAAY,oDAAC,EAAE,wEAAwE,EAAE,8BAA8B,kBAAkB,YAAY,sDAAC,EAAE,0EAA0E,EAAE,8BAA8B,kBAAkB,oCAAoC,kDAAC,EAAE,2FAA2F,EAAE,MAAM,wBAAwB,4BAA4B,MAAM,wBAAwB,4BAA4B,8BAA2D;;;;;;;;;;;;;ACJ30C;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACyM,YAAY,QAAQ,UAAU,+BAA+B,6BAA6B,uIAAuI,aAAa,gEAAC,0DAA0D,OAAO,wFAAwF,+CAA+C,aAAa,gEAAC,oCAAoC,OAAO,wFAAwF,UAAU,2EAA2E,mEAAC,uBAAuB,gEAAC,gCAAgC,mEAAC,2BAA2B,gDAAC,mKAAmK,mEAAC,+BAA+B,gDAAC,yFAAyF,gEAAC,YAAY,aAAa,8DAAC,IAAI,UAAU,uFAAuF,MAAM,iBAAiB,mEAAC,6CAA6C,UAAU,uFAAuF,MAAM,gCAAgC,6JAA6J,mDAAmD,wEAAwE,EAAE,gCAAgC,EAAE,6BAA6B,yDAAyD,kGAAkG,+CAA+C,uCAAuC,YAAY,WAAW,uFAAuF,MAAM,YAAY,WAAW,8DAA8D,gBAAgB,UAAU,eAAe,YAAY,4EAA4E,wCAAwC,iEAAC,iBAAiB,OAAO,yFAAwG,gEAAC,EAAC;;;;;;;;;;;;;ACJpmF;AAAA;AAAA;AACA;AACA;AACA;AACA,SAAS,YAAY,+FAA+F,OAAO,+DAA+D,UAAU,+OAA+O,WAAW,mCAAmC,aAAa,4RAA4R,eAAe,0DAA0D,QAAQ,koBAAgqB;;;;;;;;;;;;;ACJ3/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAC0O,cAAc,OAAO,UAAU,2EAA2E,uFAAC,4BAA4B,0FAAC,CAAC,yFAAC,GAAG,gBAAgB,GAAG,4DAAC,iCAAiC,cAAc,EAAE,IAAI,cAAc,EAAE,QAAQ,EAAE,kBAAkB,UAAU,oBAAoB,EAAE,QAAQ,EAAE,EAAE,KAAK,sBAAsB,EAAE,wBAAwB,gBAAgB,SAAS,YAAY,cAAc,GAAG,eAAe,EAAE,QAAQ,6CAA6C,WAAW,2DAAC,KAAK,EAAiG;;;;;;;;;;;;;ACJ3zB;AAAA;AACA;AACA;AACA;AACA,QAAQ,mBAAmB,0DAA0D,YAAY,+CAA+C,aAAa,gDAAgD,UAAU,wBAAwB,aAAa,qBAAqB,aAAa,yFAAyF,oCAAoC,0BAA0B,qBAAqB,2BAA2B,EAAE,OAAO,2HAA0I,gEAAC,EAAC;;;;;;;;;;;;;ACJ1nB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAC+G,cAAc,OAAO,wDAAC,iCAAiC,kBAAkB,OAAO,wDAAC,MAAM,8EAAC,QAAQ,kBAAkB,OAAO,wDAAC,KAAK,8EAAC,QAAQ,kBAAkB,OAAO,wDAAC,UAAU,8EAAC,QAAQ,kBAAkB,OAAO,wDAAC,SAAS,8EAAC,QAAQ,oBAAoB,OAAO,wDAAC,UAAU,8EAAC,UAAU,kBAAkB,OAAO,wDAAC,QAAQ,8EAAC,QAAQ,kBAAkB,OAAO,wDAAC,YAAY,8EAAC,QAAQ,kBAAkB,OAAO,wDAAC,SAAS,8EAAC,QAAQ,kBAAkB,OAAO,wDAAC,QAAQ,8EAAC,QAAQ,kBAAkB,OAAO,wDAAC,UAAU,8EAAC,QAAQ,kBAAkB,OAAO,wDAAC,UAAU,8EAAC,QAAQ,oBAAoB,OAAO,wDAAC,QAAQ,8EAAC,UAAU,gBAAgB,OAAO,wDAAC,UAAU,8EAAC,MAAM,gBAAgB,OAAO,wDAAC,UAAU,8EAAC,MAAM,qBAAqB,OAAO,wDAAC,YAAY,8EAAC,QAAQ,kBAAkB,OAAO,wDAAC,YAAY,8EAAC,QAAQ,kBAAkB,OAAO,wDAAC,qBAAqB,8EAAC,QAAQ,kBAAkB,OAAO,wDAAC,WAAW,8EAAC,QAAQ,uBAAuB,OAAO,wDAAC,OAAO,8EAAC,QAAQ,0BAA0B,OAAO,wDAAC,QAAQ,8EAAC,gBAAgB,yBAAyB,OAAO,wDAAC,QAAQ,8EAAC,YAAY,0BAA0B,OAAO,wDAAC,gBAAgB,8EAAC,gBAAgB,uBAAuB,OAAO,wDAAC,mBAAmB,8EAAC,UAAU,kBAAkB,OAAO,wDAAC,eAAe,8EAAC,QAAQ,sBAAsB,OAAO,wDAAC,iBAAiB,8EAAC,YAAY,oBAAoB,kEAAkE,QAAQ,wDAAC,eAAe,8BAA8B,kBAAkB,kEAAkE,QAAQ,wDAAC,qBAAqB,8BAA8B,kBAAkB,kEAAkE,QAAQ,wDAAC,mBAAmB,8BAA8B,sBAAsB,OAAO,wDAAC,YAAY,8EAAC,YAAY,oBAAoB,OAAO,wDAAC,SAAS,8EAAC,UAAU,wBAAwB,OAAO,wDAAC,iBAAiB,8EAAC,YAAY,kBAAkB,OAAO,wDAAC,YAAY,8EAAC,QAAQ,kBAAkB,OAAO,wDAAC,cAAc,8EAAC,QAAQ,oBAAoB,OAAO,wDAAC,cAAc,8EAAC,UAAU,oBAAoB,OAAO,wDAAC,gBAAgB,8EAAC,UAAU,qBAAqB,oeAAoe,EAAwQ;;;;;;;;;;;;;ACJ93F;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACwG,gBAAgB,+EAAC,CAAC,0BAA0B,+BAA+B,iDAAC,0FAA0F,UAAU,sCAAsC,gBAAgB,kDAAkD,eAAe,gDAAgD,kBAAkB,yBAAyB,iBAAiB,8BAA8B,kBAAkB,uEAAuE,WAAW,6BAA6B,WAAW,uCAA+D;;;;;;;;;;;;;ACJpuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAC+S,QAAQ,mBAAmB,wEAAwE,8EAA8E,mBAAmB,oCAAoC,EAAE,cAAc,MAAM,8BAA8B,6EAA6E,GAAG,6DAAC,8BAA8B,mDAAmD,OAAO,6DAAC,gDAAgD,wBAAwB,MAAM,8BAA8B,6EAA6E,OAAO,6DAAC,8CAA8C,0BAA0B,GAAG,6DAAC,6CAA6C,GAAG,6DAAC,2CAA2C,IAAI,SAAS,OAAO,SAAS,wCAAwC,MAAM,mBAAmB,cAAc,IAAI,cAAc,2DAAC,MAAM,yBAAyB,MAAM,qBAAqB,yBAAyB,oCAAoC,MAAM,iBAAiB,6CAAC,+CAA+C,uDAAuD,oEAAoE,IAAI,eAAe,2DAAC,IAAI,OAAO,SAAS,wCAAwC,wBAAwB,cAAc,SAAS,+EAAC,IAAI,YAAY,sCAAsC,IAAI,kCAAkC,uDAAuD,EAAE,mBAAmB,+CAA+C,SAAS,OAAO,+EAAC,UAAU,wCAAwC,cAAc,mBAAmB,EAAE,4DAA4D,WAAW,wDAAC,EAAE,mBAAmB,QAAQ,mBAAmB,EAAE,oBAAoB,wDAAwD,mBAAmB,iBAAiB,WAAW,wDAAC,EAAE,MAAM,QAAQ,mBAAmB,EAAE,2CAA2C,+DAA+D,OAAO,SAAS,6DAA6D,sDAAsD,2DAAC,2EAA2E,8DAA8D,gCAAgC,8BAA8B,KAAK,wBAAwB,EAAE,GAAG,QAAQ,EAAE,4BAA4B,EAAE,GAAG,QAAQ,EAAE,+DAA+D,oCAAoC,uDAAuD,kBAAkB,YAAY,6DAAC,EAAE,KAAK,6CAA6C,6DAAC,mBAAmB,yDAAC,EAAE,MAAM,GAAG,IAAI,eAAe,mBAAmB,EAAE,SAAS,OAAO,+EAAC,WAAoD;;;;;;;;;;;;;ACJpnG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACozC,oBAAoB,yEAAC,CAAC,qFAAC,CAAC,mFAAC,CAAC,qFAAC,CAAC,2EAAC,CAAC,6FAAC,CAAC,kDAAC,QAAQ,kBAAkB,kDAAkD,4DAAC,iEAAiE,sEAAC,qGAAqG,sEAAC,oDAAoD,6DAAC,EAAE,oEAAoE,2DAAC,EAAE,sDAAsD,sEAAC,aAAa,mBAAmB,sEAAC,uBAAuB,wDAAC,EAAE,wDAAwD,MAAM,wDAAC,EAAE,2DAA2D,MAAM,wDAAC,EAAE,2DAA2D,MAAM,wDAAC,EAAE,0DAA0D,MAAM,wDAAC,EAAE,0DAA0D,MAAM,wDAAC,EAAE,0DAA0D,MAAM,wDAAC,EAAE,yDAAyD,MAAM,wDAAC,EAAE,yDAAyD,MAAM,wDAAC,EAAE,wDAAwD,MAAM,wDAAC,EAAE,yDAAyD,MAAM,wDAAC,EAAE,yDAAyD,MAAM,wDAAC,EAAE,yDAAyD,MAAM,wDAAC,EAAE,yDAAyD,MAAM,wDAAC,EAAE,wDAAwD,MAAM,wDAAC,EAAE,wDAAwD,MAAM,wDAAC,EAAE,wDAAwD,MAAM,wDAAC,EAAE,uDAAuD,MAAM,wDAAC,EAAE,uDAAuD,MAAM,wDAAC,EAAE,uDAAuD,MAAM,wDAAC,EAAE,uDAAuD,GAAG,gEAAgE,uBAAuB,0BAA0B,mBAAmB,GAAG,QAAQ,6BAA6B,wBAAwB,eAAe,SAAS,qFAAqF,YAAY,sDAAC,mBAAmB,wEAAwE,UAAU,2CAA2C,+DAA+D,8DAA8D,eAAe,sDAAC,gDAAgD,WAAW,UAAU,QAAQ,KAAK,EAAE,GAAG,GAAG,yDAAyD,kBAAkB,WAAW,8BAA8B,mEAAmE,SAAS,0BAA0B,uDAAuD,sEAAC,yCAAyC,kBAAkB,iCAAiC,YAAY,2BAA2B,YAAY,sDAAC,uDAAuD,8BAA8B,UAAU,aAAa,wGAAwG,WAAW,YAAY,4DAA4D,cAAc,iCAAiC,+BAA+B,sDAAC,qDAAqD,6BAA6B,qBAAqB,wBAAwB,sBAAsB,GAAG,6EAAC,uCAAuC,GAAG,MAAM,MAAM,cAAc,GAAG,MAAM,IAAI,cAAc,GAAG,MAAM,IAAI,KAAK,oEAAC,qBAAqB,oBAAoB,EAAE,MAAM,qBAAqB,+BAA+B,+BAA+B,0BAA0B,gBAAgB,EAAE,4DAAC,wBAAwB,kBAAkB,4BAA4B,mDAAmD,+DAAC,eAAe,gCAAgC,IAAI,8DAAC,EAAE,6FAAC,EAAE,2BAA2B,UAAU,mCAAmC,8DAAC,EAAE,6FAAC,EAAE,KAAK,4DAAC,OAAO,UAAU,oCAAoC,8DAAC,EAAE,6FAAC,EAAE,kBAAkB,kBAAkB,uCAAuC,8DAAC,EAAE,6FAAC,EAAE,qBAAqB,kCAAkC,8DAAC,EAAE,6FAAC,oCAAoC,8DAAC,EAAE,6FAAC,EAAE,mBAAmB,eAAe,gCAAgC,WAAW,IAAI,qCAAqC,8DAAC,EAAE,6FAAC,EAAE,6CAA6C,8CAA8C,8DAAC,EAAE,6FAAC,EAAE,kBAAkB,kBAAkB,sCAAsC,8DAAC,EAAE,6FAAC,EAAE,KAAK,sEAAC,CAAC,0CAA0C,8DAAC,EAAE,yFAAC,kHAAkH,8DAAC,EAAE,6FAAC,EAAE,oBAAoB,UAAU,oCAAoC,8DAAC,EAAE,6FAAC,EAAE,KAAK,6DAAC,OAAO,UAAU,kCAAkC,8DAAC,EAAE,6FAAC,EAAE,YAAY,mCAAmC,8DAAC,EAAE,6FAAC,EAAE,MAAM,SAAS,8BAA8B,8DAAC,EAAE,6FAAC,gCAAgC,8DAAC,EAAE,6FAAC,EAAE,kBAAkB,SAAS,eAAe,MAAM,iBAAiB,qCAAqC,8DAAC,EAAE,yFAAC,mFAAmF,8DAAC,EAAE,yFAAC,gBAAgB,aAAa,aAAa,wCAAwC,8DAAC,EAAE,6FAAC,EAAE,KAAK,kEAAC,OAAO,UAAU,oCAAoC,8DAAC,EAAE,6FAAC,iCAAiC,QAAuB,gEAAC,EAAC;;;;;;;;;;;;;ACJtlN;AAAA;AAAA;AACA;AACA;AACA;AACA,SAAS,8BAA8B,oJAA6B,6CAA6C,kUAAkC,mCAAmC,qIAAwB,yCAAyC,yPAA8B,uCAAuC,uGAA4B,qCAAqC,2IAA0B,sCAAsC,8IAA2B,uCAAuC,kdAA4B,2CAA2C,qjBAAgC,8CAA8C,qUAAmC,mCAAmC,oLAAwB,wCAAwC,mQAA6B,wCAAwC,mMAA6B,6CAA6C,kNAAkC,0CAA0C,iXAA+B,qCAAqC,2IAA0B,qCAAqC,0SAA0B,sCAAsC,8IAA2B,oCAAoC,0SAAyB,uCAAuC,iJAA4B,2CAA2C,6JAAgC,0CAA0C,maAA+B,uCAAuC,wIAA4B,mCAAmC,oLAAwB,oCAAoC,uLAAyB,WAAuC;;;;;;;;;;;;;ACJzsD;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,QAAQ,kBAAkB,MAAM,2CAA2C,mDAAmD,SAAwE;;;;;;;;;;;;;ACJhO;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACoG,gBAAgB,gEAAC,CAAC,kBAAkB,sHAAsH,mEAAC,4CAA4C,mEAAC,sCAAsC,oBAAoB,MAAM,UAAU,yBAAyB,kEAAiF,gEAAC,EAAC;;;;;;;;;;;;;ACJle;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,gBAAgB,cAAc,4BAA4B,oBAAoB,gBAAgB,gBAAgB,+BAA+B,YAAY,qBAAqB,qEAAqE,EAAoD;;;;;;;;;;;;;ACJpT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAC+f,SAAS,4BAA4B,oBAAoB,8EAAC,CAAC,yDAAC,GAAG,eAAe,sBAAsB,aAAa,sPAAsP,aAAa,MAAM,mBAAmB,MAAM,wDAAwD,cAAc,8BAA8B,mBAAmB,4EAA4E,uBAAuB,MAAM,gBAAgB,8CAA8C,MAAM,4CAA4C,GAAG,yEAAyE,+BAA+B,SAAS,MAAM,iBAAiB,OAAO,4CAA4C,GAAG,OAAO,sFAAsF,8DAAC,EAAE,6FAAC,8BAA8B,8DAAC,EAAE,6FAAC,EAAE,YAAY,8BAA8B,8DAAC,EAAE,6FAAC,EAAE,YAAY,+BAA+B,8DAAC,EAAE,6FAAC,EAAE,YAAY,+BAA+B,8DAAC,EAAE,6FAAC,EAAE,YAAY,0CAA0C,8DAAC,EAAE,6FAAC,qDAA2F;;;;;;;;;;;;;ACJ/0D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAC8iB,oBAAoB,gEAAC,CAAC,cAAc,WAAW,0BAA0B,SAAS,uBAAuB,0DAA0D,6BAA6B,8DAAC,EAAE,6FAAC,EAAE,YAAY,2CAA2C,8DAAC,EAAE,6FAAC,EAAE,iBAAiB,sCAAsC,8DAAC,EAAE,6FAAC,EAAE,iBAAiB,iCAAiC,8DAAC,EAAE,6FAAC,yCAAyC,8DAAC,EAAE,6FAAC,EAAE,iBAAiB,kCAAkC,8DAAC,EAAE,6FAAC,EAAE,iBAAiB,qCAAqC,8DAAC,EAAE,6FAAC,+DAA+D,QAAuB,gEAAC,EAAC;;;;;;;;;;;;;ACJ9pC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAC6/B,QAAQ,mFAAC,iBAAiB,2DAAC,aAAa,6JAA6J,oBAAoB,0DAAC,CAAC,eAAe,4PAA4P,sEAAC,eAAe,kBAAkB,2FAAC,iDAAiD,6CAA6C,4DAA4D,wEAAC,MAAM,2OAA2O,sDAAsD,KAAK,uDAAuD,sFAAsF,0CAA0C,4CAA4C,6EAA6E,WAAW,GAAG,wDAAwD,cAAc,gCAAgC,GAAG,OAAO,WAAW,eAAe,iCAAiC,iBAAiB,wCAAwC,+BAA+B,0HAA0H,qBAAqB,uFAAuF,iCAAiC,cAAc,YAAY,yDAAC,eAAe,kFAAkF,GAAG,yBAAyB,mEAAC,4BAA4B,YAAY,4DAAC,yCAAyC,sDAAsD,wBAAwB,QAAQ,oEAAC,SAAS,4DAA4D,QAAQ,gEAAC,2BAA2B,kBAAkB,WAAW,8BAA8B,oCAAoC,YAAY,4DAAC,yCAAyC,kCAAkC,oBAAoB,8DAAC,EAAE,6FAAC,wCAAwC,8DAAC,EAAE,6FAAC,oCAAoC,8DAAC,EAAE,6FAAC,sCAAsC,8DAAC,EAAE,6FAAC,gCAAgC,8DAAC,EAAE,6FAAC,wCAAwC,8DAAC,EAAE,6FAAC,yCAAyC,8DAAC,EAAE,6FAAC,iDAAiD,8DAAC,EAAE,6FAAC,sDAAsD,8DAAC,EAAE,6FAAC,wCAAwC,8DAAC,EAAE,6FAAC,mCAAmC,8DAAC,EAAE,6FAAC,oDAAoD,QAAuB,gEAAC,EAAC;;;;;;;;;;;;;ACJz5H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACwb,cAAc,uBAAuB,cAAc,0BAA0B,cAAc,yCAAyC,wEAAwE,kBAAkB,SAAS,+EAA+E,wCAAwC,yDAAC,MAAM,gBAAgB,+DAAC,CAAC,2BAA2B,uQAAuQ,IAAI,4DAAC,GAAG,qFAAqF,UAAU,4DAA4D,qBAAqB,sEAAsE,aAAa,4DAA4D,cAAc,eAAe,aAAa,oBAAoB,cAAc,wCAAwC,mBAAmB,+FAA+F,kBAAkB,6FAA6F,YAAY,yDAAyD,aAAa,cAAc,gBAAgB,4CAA4C,oBAAoB,uHAAuH,gBAAgB,QAAQ,yDAAC,gLAAgL,yDAAC,KAAK,4DAAC,OAAO,yDAAC,KAAK,4DAAC,WAAW,yDAAC,SAAS,yDAAC,KAAK,4DAAC,aAAa,yDAAC,KAAK,4DAAC,OAAO,yDAAC,0CAA0C,sBAAsB,2IAA2I,MAAM,UAAU,IAAI,8CAA8C,eAAe,UAAU,EAAE,MAAM,oFAAoF,oCAAoC,kIAAkI,oBAAoB,MAAM,iFAAiF,+DAAC,EAAE,oCAAoC,8CAA8C,iCAAiC,oCAAoC,aAAa,iCAAiC,WAAW,yBAAyB,WAAW,0BAA8C","file":"common.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../../../../core/mathUtils.js\";import{StaticBitSet as s}from\"../../../layers/features/support/StaticBitSet.js\";import{TILE_SIZE as e}from\"../definitions.js\";const i=2,o=1,h=0,r=1,n=2;class c{constructor(t,e){this.width=t,this.height=e;const i=Math.ceil(t/o),h=Math.ceil(e/o);this._cols=i,this._rows=h,this._cells=s.create(i*h)}insertMetrics(t){const s=this._hasCollision(t);return s===h&&this._markMetrics(t),s}getCellId(t,s){return t+s*this._cols}has(t){return this._cells.has(t)}hasRange(t,s){return this._cells.hasRange(t,s)}set(t){this._cells.set(t)}setRange(t,s){this._cells.setRange(t,s)}_hasCollision(t){const s=t.id;let e=0,o=0;t.save();do{const s=t.boundsCount;e+=s;for(let e=0;e<s;e++){const s=t.boundsComputedAnchorX(e),h=t.boundsComputedAnchorY(e),c=t.boundsWidth(e)+i,l=t.boundsHeight(e)+i;switch(this._collide(s,h,c,l)){case n:return n;case r:o++}}}while(t.peekId()===s&&t.next());return t.restore(),e===o?r:h}_collide(s,e,i,c){const l=s-i/2,_=s+i/2,a=e-c/2,u=e+c/2;if(_<0||u<0||l>this.width||a>this.height)return r;const d=t(Math.floor(l/o),0,this._cols),g=t(Math.floor(a/o),0,this._rows),f=t(Math.ceil(_/o),0,this._cols),m=t(Math.ceil(u/o),0,this._rows);for(let t=g;t<=m;t++)for(let s=d;s<=f;s++){const e=this.getCellId(s,t);if(this.has(e))return n}return h}_mark(s,e,i,h){const r=s-i/2,n=s+i/2,c=e-h/2,l=e+h/2,_=t(Math.floor(r/o),0,this._cols),a=t(Math.floor(c/o),0,this._rows),u=t(Math.ceil(n/o),0,this._cols),d=t(Math.ceil(l/o),0,this._rows);for(let t=a;t<=d;t++)for(let s=_;s<=u;s++){const e=this.getCellId(s,t);this.set(e)}return!1}_markMetrics(t){const s=t.id;do{const s=t.boundsCount;for(let e=0;e<s;e++){const s=t.boundsComputedAnchorX(e),o=t.boundsComputedAnchorY(e),h=t.boundsWidth(e)+i,r=t.boundsHeight(e)+i;this._mark(s,o,h,r)}}while(t.peekId()===s&&t.next())}}class l{constructor(t,s=2){this._bucketSize=t,this._rowsLength=e/t,this._colsLength=e/t,this._elementsPerBucket=s,this._grid=this._initGrid()}checkOverlap(t,s){const e=Math.floor(t/this._bucketSize),i=Math.floor(s/this._bucketSize);return e<0||e>=this._rowsLength||i<0||i>=this._colsLength||this._grid[i*this._colsLength+e]>=this._elementsPerBucket}markUsed(t,s){const e=Math.floor(t/this._bucketSize),i=Math.floor(s/this._bucketSize);this._grid[i*this._colsLength+e]+=1}reset(){this._grid=this._initGrid()}_initGrid(){return new Uint8Array(this._rowsLength*this._colsLength)}}export{c as CollisionBitsetGrid,l as CollisionGrid,n as HAS_COLLISION,h as NONE,r as OUTSIDE_EXTENT};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction e(){return[1,0,0,0,1,0,0,0,1]}function r(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]}function n(e,r,n,t,a,o,u,c,f){return[e,r,n,t,a,o,u,c,f]}function t(e,r){return new Float64Array(e,r,9)}var a=Object.freeze({__proto__:null,create:e,clone:r,fromValues:n,createView:t});export{e as a,r as b,t as c,n as f,a as m};\n","/* (ignored) */","/* (ignored) */","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import n from\"../../OptimizedFeature.js\";import t from\"../../OptimizedGeometry.js\";function o(e){const n=[];for(;;){const{value:t,done:o}=e.next();if(o)return n;n.push(t)}}function r(e){const n=[];return e.forEach((e=>n.push(e))),n}const i={LineString:\"esriGeometryPolyline\",MultiLineString:\"esriGeometryPolyline\",MultiPoint:\"esriGeometryMultipoint\",Point:\"esriGeometryPoint\",Polygon:\"esriGeometryPolygon\",MultiPolygon:\"esriGeometryPolygon\"};function*s(e){switch(e.type){case\"Feature\":yield e;break;case\"FeatureCollection\":for(const n of e.features)n&&(yield n)}}function*u(e){if(!e)return null;switch(e.type){case\"Point\":yield e.coordinates;break;case\"LineString\":case\"MultiPoint\":yield*e.coordinates;break;case\"MultiLineString\":case\"Polygon\":for(const n of e.coordinates)yield*n;break;case\"MultiPolygon\":for(const n of e.coordinates)for(const e of n)yield*e}}function*c(e,o={}){const{geometryType:r,objectIdFieldName:s}=o;for(;;){const{value:u,done:c}=e.next();if(c)return;const{geometry:l,properties:f,id:a}=u;if(l&&i[l.type]!==r)continue;const y=f||{};s&&null!=a&&!y[s]&&(y[s]=a);const p=new n(l?d(new t,l,o):null,y);yield p}}function l(e){for(;;){const{value:n,done:t}=e.next();if(t)return!1;if(n.length>2)return!0}}function f(e){return!y(e)}function a(e){return y(e)}function y(e){let n=0;for(let t=0;t<e.length;t++){const o=e[t],r=e[(t+1)%e.length];n+=o[0]*r[1]-r[0]*o[1]}return n<=0}function p(e){const n=e[0],t=e[e.length-1];return n[0]===t[0]&&n[1]===t[1]&&n[2]===t[2]||e.push(n),e}function d(e,n,t){switch(n.type){case\"LineString\":return g(e,n,t);case\"MultiLineString\":return m(e,n,t);case\"MultiPoint\":return h(e,n,t);case\"MultiPolygon\":return w(e,n,t);case\"Point\":return b(e,n,t);case\"Polygon\":return P(e,n,t)}}function g(e,n,t){return S(e,n.coordinates,t),e}function m(e,n,t){for(const o of n.coordinates)S(e,o,t);return e}function h(e,n,t){return S(e,n.coordinates,t),e}function w(e,n,t){for(const o of n.coordinates){j(e,o[0],t);for(let n=1;n<o.length;n++)F(e,o[n],t)}return e}function b(e,n,t){return G(e,n.coordinates,t),e}function P(e,n,t){const o=n.coordinates;j(e,o[0],t);for(let r=1;r<o.length;r++)F(e,o[r],t);return e}function j(e,n,t){const o=p(n);f(o)?M(e,o,t):S(e,o,t)}function F(e,n,t){const o=p(n);a(o)?M(e,o,t):S(e,o,t)}function S(e,n,t){for(const o of n)G(e,o,t);e.lengths.push(n.length)}function M(e,n,t){for(let o=n.length-1;o>=0;o--)G(e,n[o],t);e.lengths.push(n.length)}function G(e,n,t){const[o,r,i]=n;e.coords.push(o,r),t.hasZ&&e.coords.push(i||0)}function x(e){switch(typeof e){case\"string\":return\"esriFieldTypeString\";case\"number\":return\"esriFieldTypeDouble\";default:return\"unknown\"}}function I(n){if(!n)throw new e(\"geojson-layer:empty\",\"GeoJSON data is empty\");if(\"Feature\"!==n.type&&\"FeatureCollection\"!==n.type)throw new e(\"geojson-layer:unsupported-geojson-object\",\"missing or not supported GeoJSON object type\",{data:n});const{crs:t}=n;if(!t)return;const o=\"string\"==typeof t?t:\"name\"===t.type?t.properties.name:null,r=new RegExp(\".*(CRS84H?|4326)$\",\"i\");if(!o||!r.test(o))throw new e(\"geojson-layer:unsupported-crs\",\"unsupported GeoJSON 'crs' member\",{crs:t})}function N(e,n={}){const t=s(e),o=[],c=new Set,f=new Set;let a,y=!1,p=Number.NEGATIVE_INFINITY,d=null,g=!1,{geometryType:m=null}=n,h=!1;for(;;){const{value:e,done:n}=t.next();if(n){const e=d&&1===d.length&&d[0]||null;if(e)for(const n of o)n.name===e&&(n.type=\"esriFieldTypeOID\");return{fields:o,geometryType:m,hasZ:y,maxObjectId:Math.max(0,p),objectIdFieldName:e,objectIdFieldType:a,unknownFields:r(f)}}const{geometry:s,properties:w,id:b}=e;if(!s||(m||(m=i[s.type]),i[s.type]===m)){if(!y){y=l(u(s))}if(g||(g=null!=b,g&&(a=typeof b,\"number\"===a&&(d=Object.keys(w).filter((e=>w[e]===b))))),g&&\"number\"===a&&null!=b&&(p=Math.max(p,b),d.length>1?d=d.filter((e=>w[e]===b)):1===d.length&&(d=w[d[0]]===b?d:[])),!h&&w){let e=!0;for(const n in w){if(c.has(n))continue;const t=w[n];if(null==t){e=!1,f.add(n);continue}const r=x(t);\"unknown\"!==r?(f.delete(n),c.add(n),o.push({name:n,alias:n,type:r})):f.add(n)}h=e}}}}function T(e,n){return o(c(s(e),n))}export{T as createOptimizedFeatures,N as inferLayerProperties,I as validateGeoJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import{HandleOwner as s}from\"../../../../../core/HandleOwner.js\";let i=class extends s{constructor(e){super(e),this.tiles=new Map}destroy(){this.tiles.clear(),this.layer=this.layerView=this.tileInfoView=this.tiles=null}get updating(){return this.isUpdating()}acquireTile(e){const t=this.createTile(e);return t.once(\"isReady\",(()=>this.notifyChange(\"updating\"))),this.tiles.set(e.id,t),t}forceAttributeTextureUpload(){}forEachTile(e){this.tiles.forEach(e)}releaseTile(e){this.tiles.delete(e.key.id),this.disposeTile(e)}isUpdating(){let e=!0;return this.tiles.forEach((t=>{e=e&&t.isReady})),!e}setHighlight(){}invalidateLabels(){}requestUpdate(){this.layerView.requestUpdate()}};e([t()],i.prototype,\"layer\",void 0),e([t()],i.prototype,\"layerView\",void 0),e([t()],i.prototype,\"tileInfoView\",void 0),e([t()],i.prototype,\"updating\",null),i=e([r(\"esri.views.2d.layers.features.tileRenderers.BaseTileRenderer\")],i);var o=i;export default o;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../geometry/support/aaBoundingRect.js\";import{WGLDrawPhase as r}from\"./webgl/enums.js\";import{brushes as s}from\"./brushes.js\";import t from\"./webgl/TileContainer.js\";import{BitmapTile as i}from\"./BitmapTile.js\";class n extends t{get requiresDedicatedFBO(){return this.children.some((e=>\"additive\"===e.bitmap.blendFunction))}createTile(r){const s=this._tileInfoView.getTileBounds(e(),r);return new i(r,s,this._tileInfoView.tileInfo.size)}destroyTile(){}prepareRenderPasses(e){const t=e.registerRenderPass({name:\"bitmap (tile)\",brushes:[s.bitmap],target:()=>this.children.map((e=>e.bitmap)),drawPhase:r.MAP});return[...super.prepareRenderPasses(e),t]}doRender(e){this.visible&&e.drawPhase===r.MAP&&super.doRender(e)}}export{n as BitmapTileContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction n(n){return 32+n.length}function t(){return 16}function e(e){if(!e)return 0;let r=32;for(const o in e)if(e.hasOwnProperty(o)){const c=e[o];switch(typeof c){case\"string\":r+=n(c);break;case\"number\":r+=t();break;case\"boolean\":r+=4}}return r}function r(n,t){return 32+n.length*t}export{e as estimateAttributesObjectSize,r as estimateFixedArraySize,t as estimateNumberByteSize,n as estimateStringByteSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nconst t=Math.PI/180;function n(n){return n*t}function o(t,n,o){const{resolution:r,size:u}=o;return t[0]=r*(Math.round(n[0]/r)+u[0]%2*.5),t[1]=r*(Math.round(n[1]/r)+u[1]%2*.5),t}function r(t,o){const r=n(o.rotation),u=Math.abs(Math.cos(r)),a=Math.abs(Math.sin(r)),[s,c]=o.size;return t[0]=Math.round(c*a+s*u),t[1]=Math.round(c*u+s*a),t}function u(t,n,o,r){const[u,a]=n,[s,c]=r,i=.5*o;return t[0]=u-i*s,t[1]=a-i*c,t[2]=u+i*s,t[3]=a+i*c,t}function a(t,n){const[o,r,u,a]=t,[s,c,i,e]=n;return!(o>i||u<s||r>e||a<c)}export{a as bboxIntersects,u as getBBox,r as getOuterSize,o as snapToPixel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport t from\"../../core/global.js\";import{clamp as e}from\"../../core/mathUtils.js\";const n=(()=>{if(!(\"document\"in t))return()=>null;const e=document.createElement(\"canvas\"),n=e.getContext(\"2d\"),r=512;return e.height=r,e.width=1,t=>{n.clearRect(0,0,1,e.height);const r=n.createLinearGradient(0,0,0,e.height);for(const{ratio:e,color:n}of t.colorStops)r.addColorStop(Math.max(e,.001),`rgba(${n[0]}, ${n[1]}, ${n[2]}, ${n[3]})`);return n.fillStyle=r,n.fillRect(0,0,1,e.height),n.getImageData(0,0,1,e.height).data}})();function r(t,e,n,r){const{blurRadius:o,fieldOffset:a,field:i}=e,u=new Float64Array(n*r),l=f(o),s=Math.round(3*o);let h,d=Number.NEGATIVE_INFINITY;const m=c(i,a);for(const{geometry:f,attributes:c}of t){const t=f.x-s,e=f.y-s,o=Math.max(0,t),a=Math.max(0,e),i=Math.min(r,f.y+s),g=Math.min(n,f.x+s),y=+m(c);for(let r=a;r<i;r++){const a=l[r-e];for(let e=o;e<g;e++){const o=l[e-t];h=u[r*n+e]+=a*o*y,h>d&&(d=h)}}}return{matrix:u.buffer,max:d}}function o(t,e,n,r){const{blurRadius:o,fieldOffset:a,field:i}=e,c=new Float64Array(n*r),l=f(o),s=Math.round(3*o);let h,d=Number.NEGATIVE_INFINITY;const m=u(i,a),g=new Set;for(const f of t){const t=f.getCursor();for(;t.next();){const e=t.getObjectId();if(g.has(e))continue;g.add(e);const o=t.readLegacyPointGeometry(),a=128;if(o.x<-a||o.x>=n+a||o.y<-a||o.y>r+a)continue;const i=+m(t),f=Math.round(o.x)-s,u=Math.round(o.y)-s,y=Math.max(0,f),M=Math.max(0,u),x=Math.min(r,Math.round(o.y)+s),b=Math.min(n,Math.round(o.x)+s);for(let t=M;t<x;t++){const e=l[t-u];for(let r=y;r<b;r++){const o=l[r-f];h=c[t*n+r]+=e*o*i,h>d&&(d=h)}}}}return{matrix:c.buffer,max:d}}function a(t,e,n,r,o,a){t.canvas.width=t.canvas.height=e,t.clearRect(0,0,e,e);const f=t.getImageData(0,0,e,e);n&&r&&f.data.set(new Uint8ClampedArray(i(e,n,r,o,a))),t.putImageData(f,0,0)}function i(t,n,r,o,a){const i=new Uint32Array(t*t),f=\"buffer\"in n?n:new Float64Array(n),c=\"buffer\"in r?new Uint32Array(r.buffer):new Uint32Array(new Uint8Array(r).buffer),u=c.length/(a-o);for(let l=0;l<f.length;l++){const t=f[l],n=Math.floor((t-o)*u);i[l]=c[e(n,0,c.length-1)]}return i.buffer}function f(t){const e=Math.round(3*t),n=2*t*t,r=new Float64Array(2*e+1);for(let o=0;o<=r.length;o++)r[o]=Math.exp(-((o-e)**2)/n)/Math.sqrt(2*Math.PI)*(t/2);return r}function c(t,e){return\"function\"==typeof t?t:t?\"string\"==typeof e?e=>-1*+e[t]:n=>+n[t]+e:()=>1}function u(t,e){return null!=t?\"string\"==typeof e?e=>-1*+e.readAttribute(t):n=>+n.readAttribute(t)+e:t=>1}export{r as calculateHeatmapIntensityInfo,o as calculateHeatmapIntensityInfoReaders,i as createHeatmapImageData,f as createKernel,c as createValueFunction,u as createValueFunctionCursor,a as drawHeatmap,n as generateGradient};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../core/lang.js\";import o from\"../../config.js\";import{addQueryParameters as t}from\"../../core/urlUtils.js\";import r from\"../../geometry/SpatialReference.js\";import{getBoundsXYZ as s}from\"../../geometry/support/boundsUtils.js\";import n from\"../../PopupTemplate.js\";import{id as i}from\"../../kernel.js\";import a from\"../../request.js\";import{fromJSON as f}from\"../../renderers/support/jsonUtils.js\";import l from\"../../tasks/support/FeatureSet.js\";import{equals as u,NEGATIVE_INFINITY as p,create as m,expandWithAABB as y}from\"../../geometry/support/aaBoundingBox.js\";const c={esriGeometryPoint:\"points\",esriGeometryPolyline:\"polylines\",esriGeometryPolygon:\"polygons\"};function d(o){const t=o.folders||[],r=t.slice(),s=new Map,n=new Map,i=new Map,a=new Map,f=new Map,l={esriGeometryPoint:n,esriGeometryPolyline:i,esriGeometryPolygon:a};(o.featureCollection&&o.featureCollection.layers||[]).forEach((o=>{const t=e(o);t.featureSet.features=[];const r=o.featureSet.geometryType;s.set(r,t);const f=o.layerDefinition.objectIdField;\"esriGeometryPoint\"===r?G(n,f,o.featureSet.features):\"esriGeometryPolyline\"===r?G(i,f,o.featureSet.features):\"esriGeometryPolygon\"===r&&G(a,f,o.featureSet.features)})),o.groundOverlays&&o.groundOverlays.forEach((e=>{f.set(e.id,e)})),t.forEach((e=>{e.networkLinkIds.forEach((t=>{const s=P(t,e.id,o.networkLinks);s&&r.push(s)}))})),r.forEach((o=>{o.featureInfos&&(o.points=e(s.get(\"esriGeometryPoint\")),o.polylines=e(s.get(\"esriGeometryPolyline\")),o.polygons=e(s.get(\"esriGeometryPolygon\")),o.mapImages=[],o.featureInfos.map((e=>{switch(e.type){case\"esriGeometryPoint\":case\"esriGeometryPolyline\":case\"esriGeometryPolygon\":{const t=l[e.type].get(e.id);t&&o[c[e.type]].featureSet.features.push(t);break}case\"GroundOverlay\":{const t=f.get(e.id);t&&o.mapImages.push(t);break}}})),o.fullExtent=j([o]))}));const u=j(r);return{folders:t,sublayers:r,extent:u}}function g(e,r,s,n){const f=i&&i.findCredential(e);e=t(e,{token:f&&f.token});const l=o.kmlServiceUrl;return a(l,{query:{url:e,model:\"simple\",folders:\"\",refresh:0!==s||void 0,outSR:JSON.stringify(r)},responseType:\"json\",signal:n})}function S(e,o,t=null,r=[]){const s=[],n={},i=o.sublayers,a=o.folders.map((e=>e.id));return i.forEach((o=>{const i=new e;if(t?i.read(o,t):i.read(o),r.length&&a.indexOf(i.id)>-1&&(i.visible=-1!==r.indexOf(i.id)),n[o.id]=i,null!=o.parentFolderId&&-1!==o.parentFolderId){const e=n[o.parentFolderId];e.sublayers||(e.sublayers=[]),e.sublayers.unshift(i)}else s.unshift(i)})),s}function G(e,o,t){t.forEach((t=>{e.set(t.attributes[o],t)}))}function h(e,o){let t;return o.some((o=>o.id===e&&(t=o,!0))),t}function P(e,o,t){const r=h(e,t);return r&&(r.parentFolderId=o,r.networkLink=r),r}async function b(e){const o=l.fromJSON(e.featureSet).features,t=e.layerDefinition,r=f(t.drawingInfo.renderer),s=n.fromJSON(e.popupInfo),i=[];for(const n of o){const e=await r.getSymbolAsync(n);n.symbol=e,n.popupTemplate=s,n.visible=!0,i.push(n)}return i}function j(e){const o=m(),t=m(p);for(const r of e){if(r.polygons&&r.polygons.featureSet&&r.polygons.featureSet.features)for(const e of r.polygons.featureSet.features)s(o,e.geometry),y(t,o);if(r.polylines&&r.polylines.featureSet&&r.polylines.featureSet.features)for(const e of r.polylines.featureSet.features)s(o,e.geometry),y(t,o);if(r.points&&r.points.featureSet&&r.points.featureSet.features)for(const e of r.points.featureSet.features)s(o,e.geometry),y(t,o);if(r.mapImages)for(const e of r.mapImages)s(o,e.extent),y(t,o)}return u(t,p)?null:{xmin:t[0],ymin:t[1],zmin:t[2],xmax:t[3],ymax:t[4],zmax:t[5],spatialReference:r.WGS84}}export{j as computeExtent,g as fetchService,b as getGraphics,d as parseKML,S as sublayersFromJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{c as t,f as s}from\"./vec3f64.js\";import{E as a,R as n}from\"./common.js\";import{d as o,c as r,j as c,n as e}from\"./vec3.js\";import{a as u}from\"./mat3f64.js\";import{a as i}from\"./quatf64.js\";import{c as h,s as M,a as f,b as l,d as m,l as p,e as q,f as j,n as d,g,h as v}from\"./vec4.js\";function x(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function A(t,s,a){a*=.5;const n=Math.sin(a);return t[0]=n*s[0],t[1]=n*s[1],t[2]=n*s[2],t[3]=Math.cos(a),t}function I(t,s){const n=2*Math.acos(s[3]),o=Math.sin(n/2);return o>a?(t[0]=s[0]/o,t[1]=s[1]/o,t[2]=s[2]/o):(t[0]=1,t[1]=0,t[2]=0),n}function P(t,s,a){const n=s[0],o=s[1],r=s[2],c=s[3],e=a[0],u=a[1],i=a[2],h=a[3];return t[0]=n*h+c*e+o*i-r*u,t[1]=o*h+c*u+r*e-n*i,t[2]=r*h+c*i+n*u-o*e,t[3]=c*h-n*e-o*u-r*i,t}function b(t,s,a){a*=.5;const n=s[0],o=s[1],r=s[2],c=s[3],e=Math.sin(a),u=Math.cos(a);return t[0]=n*u+c*e,t[1]=o*u+r*e,t[2]=r*u-o*e,t[3]=c*u-n*e,t}function y(t,s,a){a*=.5;const n=s[0],o=s[1],r=s[2],c=s[3],e=Math.sin(a),u=Math.cos(a);return t[0]=n*u-r*e,t[1]=o*u+c*e,t[2]=r*u+n*e,t[3]=c*u-o*e,t}function E(t,s,a){a*=.5;const n=s[0],o=s[1],r=s[2],c=s[3],e=Math.sin(a),u=Math.cos(a);return t[0]=n*u+o*e,t[1]=o*u-n*e,t[2]=r*u+c*e,t[3]=c*u-r*e,t}function _(t,s){const a=s[0],n=s[1],o=s[2];return t[0]=a,t[1]=n,t[2]=o,t[3]=Math.sqrt(Math.abs(1-a*a-n*n-o*o)),t}function z(t,s,n,o){const r=s[0],c=s[1],e=s[2],u=s[3];let i,h,M,f,l,m=n[0],p=n[1],q=n[2],j=n[3];return h=r*m+c*p+e*q+u*j,h<0&&(h=-h,m=-m,p=-p,q=-q,j=-j),1-h>a?(i=Math.acos(h),M=Math.sin(i),f=Math.sin((1-o)*i)/M,l=Math.sin(o*i)/M):(f=1-o,l=o),t[0]=f*r+l*m,t[1]=f*c+l*p,t[2]=f*e+l*q,t[3]=f*u+l*j,t}function L(t){const s=n(),a=n(),o=n(),r=Math.sqrt(1-s),c=Math.sqrt(s);return t[0]=r*Math.sin(2*Math.PI*a),t[1]=r*Math.cos(2*Math.PI*a),t[2]=c*Math.sin(2*Math.PI*o),t[3]=c*Math.cos(2*Math.PI*o),t}function k(t,s){const a=s[0],n=s[1],o=s[2],r=s[3],c=a*a+n*n+o*o+r*r,e=c?1/c:0;return t[0]=-a*e,t[1]=-n*e,t[2]=-o*e,t[3]=r*e,t}function w(t,s){return t[0]=-s[0],t[1]=-s[1],t[2]=-s[2],t[3]=s[3],t}function B(t,s){const a=s[0]+s[4]+s[8];let n;if(a>0)n=Math.sqrt(a+1),t[3]=.5*n,n=.5/n,t[0]=(s[5]-s[7])*n,t[1]=(s[6]-s[2])*n,t[2]=(s[1]-s[3])*n;else{let a=0;s[4]>s[0]&&(a=1),s[8]>s[3*a+a]&&(a=2);const o=(a+1)%3,r=(a+2)%3;n=Math.sqrt(s[3*a+a]-s[3*o+o]-s[3*r+r]+1),t[a]=.5*n,n=.5/n,t[3]=(s[3*o+r]-s[3*r+o])*n,t[o]=(s[3*o+a]+s[3*a+o])*n,t[r]=(s[3*r+a]+s[3*a+r])*n}return t}function C(t,s,a,n){const o=.5*Math.PI/180;s*=o,a*=o,n*=o;const r=Math.sin(s),c=Math.cos(s),e=Math.sin(a),u=Math.cos(a),i=Math.sin(n),h=Math.cos(n);return t[0]=r*u*h-c*e*i,t[1]=c*e*h+r*u*i,t[2]=c*u*i-r*e*h,t[3]=c*u*h+r*e*i,t}function D(t){return\"quat(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\")\"}const F=h,G=M,O=f,R=P,T=l,W=m,X=p,Y=q,Z=Y,H=j,J=H,K=d,N=g,Q=v;function S(t,s,a){const n=o(s,a);return n<-.999999?(r(U,V,s),c(U)<1e-6&&r(U,$,s),e(U,U),A(t,U,Math.PI),t):n>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(r(U,s,a),t[0]=U[0],t[1]=U[1],t[2]=U[2],t[3]=1+n,K(t,t))}const U=t(),V=s(1,0,0),$=s(0,1,0);function tt(t,s,a,n,o,r){return z(st,s,o,r),z(at,a,n,r),z(t,st,at,2*r*(1-r)),t}const st=i(),at=i();function nt(t,s,a,n){const o=ot;return o[0]=a[0],o[3]=a[1],o[6]=a[2],o[1]=n[0],o[4]=n[1],o[7]=n[2],o[2]=-s[0],o[5]=-s[1],o[8]=-s[2],K(t,B(t,o))}const ot=u();var rt=Object.freeze({__proto__:null,identity:x,setAxisAngle:A,getAxisAngle:I,multiply:P,rotateX:b,rotateY:y,rotateZ:E,calculateW:_,slerp:z,random:L,invert:k,conjugate:w,fromMat3:B,fromEuler:C,str:D,copy:F,set:G,add:O,mul:R,scale:T,dot:W,lerp:X,length:Y,len:Z,squaredLength:H,sqrLen:J,normalize:K,exactEquals:N,equals:Q,rotationTo:S,sqlerp:tt,setAxes:nt});export{X as A,Z as B,J as C,K as D,Q as E,tt as F,nt as G,F as a,b,w as c,y as d,E as e,W as f,I as g,H as h,k as i,N as j,C as k,Y as l,P as m,x as n,_ as o,z as p,rt as q,S as r,A as s,L as t,B as u,D as v,G as w,O as x,R as y,T as z};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction e(e,n){if(!t(e,n)){const t=e.typeKeywords;t?t.push(n):e.typeKeywords=[n]}}function t(e,t){return!!e.typeKeywords&&e.typeKeywords.indexOf(t)>-1}function n(e,t){const n=e.typeKeywords;if(n){const e=n.indexOf(t);e>-1&&n.splice(e,1)}}export{e as addTypeKeyword,t as hasTypeKeyword,n as removeTypeKeyword};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{urlToObject as r}from\"../../core/urlUtils.js\";import t from\"../Portal.js\";function o(o){return{origin:\"portal-item\",url:r(o.itemUrl),portal:o.portal||t.getDefault(),portalItem:o,readResourcePaths:[]}}export{o as createForItem};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{BitmapTileContainer as t}from\"../engine/BitmapTileContainer.js\";const i=i=>{let s=class extends i{attach(){this.view.timeline.record(`${this.layer.title} (BitmapTileLayer) Attach`),this._bitmapView=new t(this._tileInfoView),this.container.addChild(this._bitmapView)}detach(){this.container.removeChild(this._bitmapView),this._bitmapView.removeAllChildren()}};return s=e([r(\"esri.views.2d.layers.BitmapTileLayerView2D\")],s),s};export{i as BitmapTileLayerView2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isValid as t}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{sanitizeNullFieldValue as e,validateFieldValue as n,validationErrorToString as i,isNumericField as r,isStringField as s}from\"../../../support/fieldUtils.js\";class o{constructor(){this.code=null,this.description=null}}class l{constructor(t){this.error=new o,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=t}}function u(t){return new l(t)}class a{constructor(t){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=t}}function c(t){return new a(t)}const f=new Set;function d(t,e,r,s,o=!1,l){f.clear();for(const a in s){const e=t.get(a);if(!e)continue;const c=s[a],d=m(e,c);if(d!==c&&l&&l.push({name:\"invalid-value-type\",message:\"attribute value was converted to match the field type\",details:{field:e,originalValue:c,sanitizedValue:d}}),f.add(e.name),e&&(o||e.editable)){const t=n(e,d);if(t)return u(i(t,e,d));r[e.name]=d}}for(const n of e)if(!f.has(n.name))return u(`missing required field \"${n.name}\"`);return null}function m(t,n){let i=n;return\"string\"==typeof n&&r(t)?i=parseFloat(n):null!=n&&s(t)&&\"string\"!=typeof n&&(i=String(n)),e(i)}let p;function h(e,n){if(!e||!t(n))return e;if(\"rings\"in e||\"paths\"in e){if(!p)throw new TypeError(\"geometry engine not loaded\");return p.simplify(n,e)}return e}async function g(){return p||(p=await import(\"../../../../geometry/geometryEngineJSON.js\"),p)}async function y(e,n){!t(e)||\"esriGeometryPolygon\"!==n&&\"esriGeometryPolyline\"!==n||await g()}export{u as createFeatureEditErrorResult,c as createFeatureEditSuccessResult,g as loadGeometryEngine,y as loadGeometryEngineForSimplify,d as mixAttributes,h as simplify};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isAbortError as e}from\"../../../../core/promiseUtils.js\";import{TilemapCache as t}from\"../../../../layers/support/TilemapCache.js\";import l from\"../../tiling/TileKey.js\";class r{constructor(e){if(e instanceof t)this._tilemapCache=e;else{if(!e||!(\"index\"in e))throw new Error(\"Invalid tilemap!\");this._tilemap=e.index}}dataKey(t,r){if(this._tilemapCache){const{level:i,row:o,col:a}=t,s=new l(t);return this._tilemapCache.fetchAvailabilityUpsample(i,o,a,s,r).then((()=>(s.world=t.world,s))).catch((t=>{if(e(t))throw t;return null}))}return this._getIndexedDataKey(t)}forEach(e,t,l,r,i){this._callback=i,this._maxLevel=t+e,this._forEach(this._tilemap,t,l,r)}_forEach(e,t,l,r){0!==e&&(this._callback(t,l,r),t!==this._maxLevel&&\"object\"==typeof e&&(this._forEach(e[0],t+1,2*l,2*r),this._forEach(e[1],t+1,2*l,2*r+1),this._forEach(e[2],t+1,2*l+1,2*r),this._forEach(e[3],t+1,2*l+1,2*r+1)))}_getIndexedDataKey(e){const t=[e];if(e.level<0||e.row<0||e.col<0||e.row>>e.level>0||e.col>>e.level>0)return Promise.resolve(null);let r=e;for(;0!==r.level;)r=new l(r.level-1,r.row>>1,r.col>>1,r.world),t.push(r);let i,o,a=this._tilemap,s=t.pop();if(1===a)return Promise.resolve(s);for(;t.length;)if(i=t.pop(),o=(1&i.col)+((1&i.row)<<1),a){if(0===a[o]){s=null;break}if(1===a[o]){s=i;break}s=i,a=a[o]}return Promise.resolve(s)}}export default r;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{WGLDrawPhase as e}from\"./webgl/enums.js\";import{brushes as r}from\"./brushes.js\";import s from\"./webgl/WGLContainer.js\";class t extends s{get requiresDedicatedFBO(){return this.children.some((e=>\"additive\"===e.blendFunction))}prepareRenderPasses(s){const t=s.registerRenderPass({name:\"bitmap\",brushes:[r.bitmap],target:()=>this.children,drawPhase:e.MAP});return[...super.prepareRenderPasses(s),t]}}export{t as BitmapContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../request.js\";async function t(t,r){const{data:a}=await e(t,{responseType:\"image\",...r});return a}export{t as requestImage};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import e from\"./Program.js\";import r from\"./BufferObject.js\";import t from\"./Texture.js\";import i from\"./VertexArrayObject.js\";import o from\"./FramebufferObject.js\";async function n(n){const a=new Image;if(a.src=\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='5' height='5' version='1.1' viewBox='0 0 5 5' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='5' height='5' fill='%23f00' fill-opacity='.5'/%3E%3C/svg%3E%0A\",a.width=5,a.height=5,await a.decode(),!n.gl)return!0;const s=new o(n,{colorTarget:0,depthStencilTarget:0},{target:3553,wrapMode:33071,pixelFormat:6408,dataType:5121,samplingMode:9728,width:1,height:1}),p=r.createVertex(n,35044,new Uint16Array([0,0,1,0,0,1,1,1])),m=new i(n,{a_pos:0},{geometry:[{name:\"a_pos\",count:2,type:5123,offset:0,stride:4,normalized:!1}]},{geometry:p}),d=new e(n,\"\\n  precision highp float;\\n\\n  attribute vec2 a_pos;\\n  varying vec2 v_uv;\\n\\n  void main() {\\n    v_uv = a_pos;\\n    gl_Position = vec4(a_pos * 2.0 - 1.0, 0.0, 1.0);\\n  }\\n  \",\"\\n  precision highp float;\\n\\n  varying vec2 v_uv;\\n  uniform sampler2D u_texture;\\n\\n  void main() {\\n    gl_FragColor = texture2D(u_texture, v_uv);\\n  }\\n  \",{a_pos:0});n.bindProgram(d);const g=new t(n,{dataType:5121,pixelFormat:6408,preMultiplyAlpha:!1,wrapMode:33071,samplingMode:9729},a);n.bindTexture(g,0),d.setUniform1i(\"u_texture\",0);const c=n.getBoundFramebufferObject(),{x:f,y:u,width:l,height:w}=n.getViewport();n.bindFramebuffer(s),n.setViewport(0,0,1,1),n.bindVAO(m),n.drawArrays(5,0,4);const h=new Uint8Array(4);return s.readPixels(0,0,1,1,6408,5121,h),d.dispose(),m.dispose(!1),p.dispose(),s.dispose(),g.dispose(),n.setViewport(f,u,l,w),n.bindFramebuffer(c),a.src=\"\",255===h[0]}export{n as testSVGPremultipliedAlpha};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{clone as t}from\"../../core/lang.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as s}from\"../../core/JSONSupport.js\";var i;let p=i=class extends s{constructor(r){super(r)}clone(){return new i({customLayerParameters:t(this.customLayerParameters),customParameters:t(this.customParameters),layerIdentifier:this.layerIdentifier,tileMatrixSet:this.tileMatrixSet,url:this.url})}};r([e({json:{type:Object,write:!0}})],p.prototype,\"customLayerParameters\",void 0),r([e({json:{type:Object,write:!0}})],p.prototype,\"customParameters\",void 0),r([e({type:String,json:{write:!0}})],p.prototype,\"layerIdentifier\",void 0),r([e({type:String,json:{write:!0}})],p.prototype,\"tileMatrixSet\",void 0),r([e({type:String,json:{write:!0}})],p.prototype,\"url\",void 0),p=i=r([o(\"esri.layer.support.WMTSLayerInfo\")],p);var a=p;export default a;export{p as WMTSLayerInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction n(){return new Float32Array(3)}function r(n){const r=new Float32Array(3);return r[0]=n[0],r[1]=n[1],r[2]=n[2],r}function t(n,r,t){const a=new Float32Array(3);return a[0]=n,a[1]=r,a[2]=t,a}function a(n,r){return new Float32Array(n,r,3)}function e(){return n()}function o(){return t(1,1,1)}function u(){return t(1,0,0)}function s(){return t(0,1,0)}function c(){return t(0,0,1)}const i=e(),f=o(),l=u(),_=s(),w=c();var y=Object.freeze({__proto__:null,create:n,clone:r,fromValues:t,createView:a,zeros:e,ones:o,unitX:u,unitY:s,unitZ:c,ZEROS:i,ONES:f,UNIT_X:l,UNIT_Y:_,UNIT_Z:w});export{f as O,l as U,i as Z,r as a,a as b,n as c,s as d,c as e,t as f,_ as g,w as h,o,u,y as v,e as z};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{getMetersPerUnitForSR as t,inchesPerMeter as n}from\"../../core/unitUtils.js\";const e=96;function r(r,i){const o=i||r.extent,c=r.width,u=t(o&&o.spatialReference);return o&&c?o.width/c*u*n*e:0}function i(r,i){return r/(t(i)*n*e)}function o(r,i){return r*(t(i)*n*e)}function c(t,n){const e=t.extent,r=t.width,o=i(n,e.spatialReference);return e.clone().expand(o*r/e.width)}export{c as getExtentForScale,i as getResolutionForScale,r as getScale,o as getScaleForResolution};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{unwrap as e}from\"../../core/maybe.js\";import r from\"../../core/Error.js\";import t from\"../../request.js\";import a from\"../PortalItem.js\";import{hasTypeKeyword as n}from\"./portalItemUtils.js\";import{layerLookupMap as o}from\"../../layers/support/lazyLayerLoader.js\";function l(e){return!e.portalItem||e.portalItem instanceof a||(e={...e,portalItem:new a(e.portalItem)}),s(e.portalItem).then((r=>{const t={portalItem:e.portalItem,...r.properties},a=r.constructor;return Promise.resolve(new a(t))}))}function s(e){return e.load().then(u).then(i)}function u(e){switch(e.type){case\"Map Service\":return c(e);case\"Feature Service\":return y(e);case\"Feature Collection\":return p(e);case\"Scene Service\":return m(e);case\"Image Service\":return f(e);case\"Stream Service\":return d();case\"Vector Tile Service\":return L();case\"KML\":return h();case\"WMTS\":return N();case\"WMS\":return I();default:return Promise.reject(new r(\"portal:unknown-item-type\",\"Unknown item type '${type}'\",{type:e.type}))}}function i(e){return(0,o[e.className])().then((r=>({constructor:r,properties:e.properties})))}function c(e){return S(e).then((e=>e?{className:\"TileLayer\"}:{className:\"MapImageLayer\"}))}function y(e){return g(e).then((e=>{if(\"object\"==typeof e){const r={};return null!=e.id&&(r.layerId=e.id),{className:\"FeatureLayer\",properties:r}}return{className:\"GroupLayer\"}}))}function m(e){return g(e).then((r=>{if(\"object\"==typeof r){const t={};let a;if(null!=r.id?(t.layerId=r.id,a=`${e.url}/layers/${r.id}`):a=e.url,Array.isArray(e.typeKeywords)&&e.typeKeywords.length>0){const r={IntegratedMesh:\"IntegratedMeshLayer\",\"3DObject\":\"SceneLayer\",Point:\"SceneLayer\",PointCloud:\"PointCloudLayer\",Building:\"BuildingSceneLayer\"};for(const t of Object.keys(r))if(-1!==e.typeKeywords.indexOf(t))return{className:r[t]}}return j(a).then((e=>{let r=\"SceneLayer\";const a={Point:\"SceneLayer\",\"3DObject\":\"SceneLayer\",IntegratedMesh:\"IntegratedMeshLayer\",PointCloud:\"PointCloudLayer\",Building:\"BuildingSceneLayer\"};return e&&e.layerType&&a[e.layerType]&&(r=a[e.layerType]),{className:r,properties:t}}))}return{className:\"GroupLayer\"}}))}async function p(e){await e.load();if(n(e,\"Map Notes\"))return{className:\"MapNotesLayer\"};if(n(e,\"Route Layer\"))return{className:\"RouteLayer\"};return 1===T(await e.fetchData())?{className:\"FeatureLayer\"}:{className:\"GroupLayer\"}}async function f(e){var r,t,a;await e.load();const n=null!=(r=null==(t=e.typeKeywords)?void 0:t.map((e=>e.toLowerCase())))?r:[];if(n.indexOf(\"elevation 3d layer\")>-1)return{className:\"ElevationLayer\"};if(n.indexOf(\"tiled imagery\")>-1)return{className:\"ImageryTileLayer\"};const o=await e.fetchData(),l=null==o?void 0:o.layerType;if(\"ArcGISTiledImageServiceLayer\"===l)return{className:\"ImageryTileLayer\"};if(\"ArcGISImageServiceLayer\"===l)return{className:\"ImageryLayer\"};return\"map\"===(null==(a=(await j(e.url)).cacheType)?void 0:a.toLowerCase())?{className:\"ImageryTileLayer\"}:{className:\"ImageryLayer\"}}function d(){return{className:\"StreamLayer\"}}function L(){return{className:\"VectorTileLayer\"}}function h(){return{className:\"KMLLayer\"}}function I(){return{className:\"WMSLayer\"}}function N(){return{className:\"WMTSLayer\"}}function S(e){return j(e.url).then((e=>e.tileInfo))}function g(e){return!e.url||e.url.match(/\\/\\d+$/)?Promise.resolve({}):e.load().then((()=>e.fetchData())).then((r=>T(r)>0?v(r):j(e.url).then(v)))}function v(r){return 1===T(r)&&{id:e(w(r))}}function w(e){const r=e.layers;if(r&&r.length)return r[0].id;const t=e.tables;return t&&t.length?t[0].id:null}function T(e){var r,t,a,n;return(null!=(r=null==e||null==(t=e.layers)?void 0:t.length)?r:0)+(null!=(a=null==e||null==(n=e.tables)?void 0:n.length)?a:0)}function j(e){return t(e,{responseType:\"json\",query:{f:\"json\"}}).then((e=>e.data))}export{l as fromItem,u as selectLayerClassPath};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{enumeration as o}from\"../../core/accessorSupport/decorators/enumeration.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as p}from\"../../core/JSONSupport.js\";let s=class extends p{constructor(){super(...arguments),this.nodesPerPage=null,this.rootIndex=0,this.lodSelectionMetricType=null}};e([t({type:Number})],s.prototype,\"nodesPerPage\",void 0),e([t({type:Number})],s.prototype,\"rootIndex\",void 0),e([t({type:String})],s.prototype,\"lodSelectionMetricType\",void 0),s=e([r(\"esri.layer.support.I3SNodePageDefinition\")],s);let i=class extends p{constructor(){super(...arguments),this.factor=1}};e([t({type:Number,json:{read:{source:\"textureSetDefinitionId\"}}})],i.prototype,\"id\",void 0),e([t({type:Number})],i.prototype,\"factor\",void 0),i=e([r(\"esri.layer.support.I3SMaterialTexture\")],i);let a=class extends p{constructor(){super(...arguments),this.baseColorFactor=[1,1,1,1],this.baseColorTexture=null,this.metallicRoughnessTexture=null,this.metallicFactor=1,this.roughnessFactor=1}};e([t({type:[Number]})],a.prototype,\"baseColorFactor\",void 0),e([t({type:i})],a.prototype,\"baseColorTexture\",void 0),e([t({type:i})],a.prototype,\"metallicRoughnessTexture\",void 0),e([t({type:Number})],a.prototype,\"metallicFactor\",void 0),e([t({type:Number})],a.prototype,\"roughnessFactor\",void 0),a=e([r(\"esri.layer.support.I3SMaterialPBRMetallicRoughness\")],a);let l=class extends p{constructor(){super(...arguments),this.alphaMode=\"opaque\",this.alphaCutoff=.25,this.doubleSided=!1,this.cullFace=\"none\",this.normalTexture=null,this.occlusionTexture=null,this.emissiveTexture=null,this.emissiveFactor=null,this.pbrMetallicRoughness=null}};e([o({opaque:\"opaque\",mask:\"mask\",blend:\"blend\"})],l.prototype,\"alphaMode\",void 0),e([t({type:Number})],l.prototype,\"alphaCutoff\",void 0),e([t({type:Boolean})],l.prototype,\"doubleSided\",void 0),e([o({none:\"none\",back:\"back\",front:\"front\"})],l.prototype,\"cullFace\",void 0),e([t({type:i})],l.prototype,\"normalTexture\",void 0),e([t({type:i})],l.prototype,\"occlusionTexture\",void 0),e([t({type:i})],l.prototype,\"emissiveTexture\",void 0),e([t({type:[Number]})],l.prototype,\"emissiveFactor\",void 0),e([t({type:a})],l.prototype,\"pbrMetallicRoughness\",void 0),l=e([r(\"esri.layer.support.I3SMaterialDefinition\")],l);let n=class extends p{};e([t({type:String,json:{read:{source:[\"name\",\"index\"],reader:(e,t)=>null!=e?e:`${t.index}`}}})],n.prototype,\"name\",void 0),e([o({jpg:\"jpg\",png:\"png\",dds:\"dds\",\"ktx-etc2\":\"ktx-etc2\",basis:\"basis\"})],n.prototype,\"format\",void 0),n=e([r(\"esri.layer.support.I3STextureFormat\")],n);let u=class extends p{constructor(){super(...arguments),this.atlas=!1}};e([t({type:[n]})],u.prototype,\"formats\",void 0),e([t({type:Boolean})],u.prototype,\"atlas\",void 0),u=e([r(\"esri.layer.support.I3STextureSetDefinition\")],u);let y=class extends p{};e([o({Float32:\"Float32\",UInt64:\"UInt64\",UInt32:\"UInt32\",UInt16:\"UInt16\",UInt8:\"UInt8\"})],y.prototype,\"type\",void 0),e([t({type:Number})],y.prototype,\"component\",void 0),y=e([r(\"esri.layer.support.I3SGeometryAttribute\")],y);let c=class extends p{};e([o({draco:\"draco\"})],c.prototype,\"encoding\",void 0),e([t({type:[String]})],c.prototype,\"attributes\",void 0),c=e([r(\"esri.layer.support.I3SGeometryCompressedAttributes\")],c);let d=class extends p{constructor(){super(...arguments),this.offset=0}};e([t({type:Number})],d.prototype,\"offset\",void 0),e([t({type:y})],d.prototype,\"position\",void 0),e([t({type:y})],d.prototype,\"normal\",void 0),e([t({type:y})],d.prototype,\"uv0\",void 0),e([t({type:y})],d.prototype,\"color\",void 0),e([t({type:y})],d.prototype,\"uvRegion\",void 0),e([t({type:y})],d.prototype,\"featureId\",void 0),e([t({type:y})],d.prototype,\"faceRange\",void 0),e([t({type:c})],d.prototype,\"compressedAttributes\",void 0),d=e([r(\"esri.layer.support.I3SGeometryBuffer\")],d);let m=class extends p{};e([o({triangle:\"triangle\"})],m.prototype,\"topology\",void 0),e([t()],m.prototype,\"geometryBuffers\",void 0),m=e([r(\"esri.layer.support.I3SGeometryDefinition\")],m);export{y as I3SGeometryAttribute,d as I3SGeometryBuffer,c as I3SGeometryCompressedAttributes,m as I3SGeometryDefinition,l as I3SMaterialDefinition,a as I3SMaterialPBRMetallicRoughness,i as I3SMaterialTexture,s as I3SNodePageDefinition,n as I3STextureFormat,u as I3STextureSetDefinition};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{escapeRegExpString as e}from\"./string.js\";import{getLocale as n}from\"../intl/locale.js\";const t={ar:[\".\",\",\"],bs:[\",\",\".\"],ca:[\",\",\".\"],cs:[\",\",\"\"],da:[\",\",\".\"],de:[\",\",\".\"],\"de-ch\":[\".\",\"\"],el:[\",\",\".\"],en:[\".\",\",\"],\"en-au\":[\".\",\",\"],es:[\",\",\".\"],\"es-mx\":[\".\",\",\"],et:[\",\",\"\"],fi:[\",\",\"\"],fr:[\",\",\"\"],\"fr-ch\":[\",\",\"\"],he:[\".\",\",\"],hi:[\".\",\",\",\"#,##,##0.###\"],hr:[\",\",\".\"],hu:[\",\",\"\"],id:[\",\",\".\"],it:[\",\",\".\"],\"it-ch\":[\".\",\"\"],ja:[\".\",\",\"],ko:[\".\",\",\"],lt:[\",\",\"\"],lv:[\",\",\"\"],mk:[\",\",\".\"],nb:[\",\",\"\"],nl:[\",\",\".\"],pl:[\",\",\"\"],pt:[\",\",\".\"],\"pt-pt\":[\",\",\"\"],ro:[\",\",\".\"],ru:[\",\",\"\"],sk:[\",\",\"\"],sl:[\",\",\".\"],sr:[\",\",\".\"],sv:[\",\",\"\"],th:[\".\",\",\"],tr:[\",\",\".\"],uk:[\",\",\"\"],vi:[\",\",\".\"],zh:[\".\",\",\"]};function r(e){e||(e=n());let r=e in t;if(!r){const n=e.split(\"-\");n.length>1&&n[0]in t&&(e=n[0],r=!0),r||(e=\"en\")}const[o,i,s=\"#,##0.###\"]=t[e];return{decimal:o,group:i,pattern:s}}function o(e,n){const t=r((n={...n}).locale);n.customs=t;const o=n.pattern||t.pattern;return isNaN(e)||Math.abs(e)===1/0?null:s(e,o,n)}const i=/[#0,]*[#0](?:\\.0*#*)?/;function s(e,n,t){const r=(t=t||{}).customs.group,o=t.customs.decimal,s=n.split(\";\"),c=s[0];if(-1!==(n=s[e<0?1:0]||\"-\"+c).indexOf(\"%\"))e*=100;else if(-1!==n.indexOf(\"\"))e*=1e3;else{if(-1!==n.indexOf(\"\"))throw new Error(\"currency notation not supported\");if(-1!==n.indexOf(\"E\"))throw new Error(\"exponential notation not supported\")}const a=i,p=c.match(a);if(!p)throw new Error(\"unable to find a number expression in pattern: \"+n);return!1===t.fractional&&(t.places=0),n.replace(a,l(e,p[0],{decimal:o,group:r,places:t.places,round:t.round}))}function l(e,n,t){!0===(t=t||{}).places&&(t.places=0),t.places===1/0&&(t.places=6);const r=n.split(\".\"),o=\"string\"==typeof t.places&&t.places.indexOf(\",\");let i=t.places;o?i=t.places.substring(o+1):i>=0||(i=(r[1]||[]).length),t.round<0||(e=Number(e.toFixed(Number(i))));const s=String(Math.abs(e)).split(\".\"),l=s[1]||\"\";if(r[1]||t.places){o&&(t.places=t.places.substring(0,o));const e=void 0!==t.places?t.places:r[1]&&r[1].lastIndexOf(\"0\")+1;e>l.length&&(s[1]=l.padEnd(Number(e),\"0\")),i<l.length&&(s[1]=l.substr(0,Number(i)))}else s[1]&&s.pop();const c=r[0].replace(\",\",\"\");let a=c.indexOf(\"0\");-1!==a&&(a=c.length-a,a>s[0].length&&(s[0]=s[0].padStart(a,\"0\")),-1===c.indexOf(\"#\")&&(s[0]=s[0].substr(s[0].length-a)));let p,u,f=r[0].lastIndexOf(\",\");if(-1!==f){p=r[0].length-f-1;const e=r[0].substr(0,f);f=e.lastIndexOf(\",\"),-1!==f&&(u=e.length-f-1)}const d=[];for(let g=s[0];g;){const e=g.length-p;d.push(e>0?g.substr(e):g),g=e>0?g.slice(0,e):\"\",u&&(p=u,u=void 0)}return s[0]=d.reverse().join(t.group||\",\"),s.join(t.decimal||\".\")}function c(e){return a(e).regexp}function a(n){const t=r((n=n||{}).locale),o=n.pattern||t.pattern,s=t.group,l=t.decimal;let c=1;if(-1!==o.indexOf(\"%\"))c/=100;else if(-1!==o.indexOf(\"\"))c/=1e3;else if(-1!==o.indexOf(\"\"))throw new Error(\"currency notation not supported\");const a=o.split(\";\");1===a.length&&a.push(\"-\"+a[0]);return{regexp:d(a,(function(t){return(t=\"(?:\"+e(t,\".\")+\")\").replace(i,(function(e){const t={signed:!1,separator:n.strict?s:[s,\"\"],fractional:n.fractional,decimal:l,exponent:!1},r=e.split(\".\");let o=n.places;1===r.length&&1!==c&&(r[1]=\"###\"),1===r.length||0===o?t.fractional=!1:(void 0===o&&(o=n.pattern?r[1].lastIndexOf(\"0\")+1:1/0),o&&null==n.fractional&&(t.fractional=!0),!n.places&&o<r[1].length&&(o+=\",\"+r[1].length),t.places=o);const i=r[0].split(\",\");return i.length>1&&(t.groupSize=i.pop().length,i.length>1&&(t.groupSize2=i.pop().length)),\"(\"+u(t)+\")\"}))}),!0).replace(/[\\xa0 ]/g,\"[\\\\s\\\\xa0]\"),group:s,decimal:l,factor:c}}function p(e,n){const t=a(n),r=new RegExp(\"^\"+t.regexp+\"$\").exec(e);if(!r)return NaN;let o=r[1];if(!r[1]){if(!r[2])return NaN;o=r[2],t.factor*=-1}return o=o.replace(new RegExp(\"[\"+t.group+\"\\\\s\\\\xa0]\",\"g\"),\"\").replace(t.decimal,\".\"),Number(o)*t.factor}function u(e){\"places\"in(e=e||{})||(e.places=1/0),\"string\"!=typeof e.decimal&&(e.decimal=\".\"),\"fractional\"in e&&!/^0/.test(String(e.places))||(e.fractional=[!0,!1]),\"exponent\"in e||(e.exponent=[!0,!1]),\"eSigned\"in e||(e.eSigned=[!0,!1]);const n=f(e),t=d(e.fractional,(function(n){let t=\"\";return n&&0!==e.places&&(t=\"\\\\\"+e.decimal,e.places===1/0?t=\"(?:\"+t+\"\\\\d+)?\":t+=\"\\\\d{\"+e.places+\"}\"),t}),!0);let r=n+t;return t&&(r=\"(?:(?:\"+r+\")|(?:\"+t+\"))\"),r+d(e.exponent,(function(n){return n?\"([eE]\"+f({signed:e.eSigned})+\")\":\"\"}))}function f(n){\"signed\"in(n=n||{})||(n.signed=[!0,!1]),\"separator\"in n?\"groupSize\"in n||(n.groupSize=3):n.separator=\"\";return d(n.signed,(function(e){return e?\"[-+]\":\"\"}),!0)+d(n.separator,(function(t){if(!t)return\"(?:\\\\d+)\";\" \"===(t=e(t))?t=\"\\\\s\":\"\"===t&&(t=\"\\\\s\\\\xa0\");const r=n.groupSize,o=n.groupSize2;if(o){const e=\"(?:0|[1-9]\\\\d{0,\"+(o-1)+\"}(?:[\"+t+\"]\\\\d{\"+o+\"})*[\"+t+\"]\\\\d{\"+r+\"})\";return r-o>0?\"(?:\"+e+\"|(?:0|[1-9]\\\\d{0,\"+(r-1)+\"}))\":e}return\"(?:0|[1-9]\\\\d{0,\"+(r-1)+\"}(?:[\"+t+\"]\\\\d{\"+r+\"})*)\"}),!0)}const d=function(e,n,t){if(!(e instanceof Array))return n(e);const r=[];for(let o=0;o<e.length;o++)r.push(n(e[o]));return g(r.join(\"|\"),t)},g=function(e,n){return\"(\"+(n?\"?:\":\"\")+e+\")\"};export{a as _parseInfo,o as format,r as getCustoms,p as parse,c as regexp};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import t from\"../../core/Accessor.js\";import{combinedViewLayerTimeExtentProperty as i}from\"./commonProperties.js\";import{HandleOwnerMixin as a}from\"../../core/HandleOwner.js\";import{isExportDynamic as o}from\"./sublayerUtils.js\";const l={visible:\"visibleSublayers\",definitionExpression:\"layerDefs\",labelingInfo:\"hasDynamicLayers\",labelsVisible:\"hasDynamicLayers\",opacity:\"hasDynamicLayers\",minScale:\"visibleSublayers\",maxScale:\"visibleSublayers\",renderer:\"hasDynamicLayers\",source:\"hasDynamicLayers\"};let n=class extends(a(t)){constructor(e){super(e),this.scale=0}destroy(){this.layer=null}get dynamicLayers(){if(!this.hasDynamicLayers)return null;const e=this.visibleSublayers.map((e=>e.toExportImageJSON()));return e.length?JSON.stringify(e):null}get hasDynamicLayers(){return this.layer&&o(this.visibleSublayers,this.layer.serviceSublayers,this.layer)}set layer(e){this._get(\"layer\")!==e&&(this._set(\"layer\",e),this.handles.remove(\"layer\"),e&&this.handles.add([e.allSublayers.on(\"change\",(()=>this.notifyChange(\"visibleSublayers\"))),e.on(\"sublayer-update\",(e=>this.notifyChange(l[e.propertyName])))],\"layer\"))}get layers(){const e=this.visibleSublayers;return e?e.length?\"show:\"+e.map((e=>e.id)).join(\",\"):\"show:-1\":null}get layerDefs(){const e=this.visibleSublayers.filter((e=>null!=e.definitionExpression));return e.length?JSON.stringify(e.reduce(((e,r)=>(e[r.id]=r.definitionExpression,e)),{})):null}get version(){this.commitProperty(\"layers\"),this.commitProperty(\"layerDefs\"),this.commitProperty(\"dynamicLayers\"),this.commitProperty(\"timeExtent\");const e=this.layer;return e&&(e.commitProperty(\"dpi\"),e.commitProperty(\"imageFormat\"),e.commitProperty(\"imageTransparency\"),e.commitProperty(\"gdbVersion\")),(this._get(\"version\")||0)+1}get visibleSublayers(){const e=[];if(!this.layer)return e;const r=this.layer.sublayers,s=r=>{const t=this.scale,i=0===t,a=0===r.minScale||t<=r.minScale,o=0===r.maxScale||t>=r.maxScale;r.visible&&(i||a&&o)&&(r.sublayers?r.sublayers.forEach(s):e.unshift(r))};r&&r.forEach(s);const t=this._get(\"visibleSublayers\");return!t||t.length!==e.length||t.some(((r,s)=>e[s]!==r))?e:t}toJSON(){const e=this.layer;let r={dpi:e.dpi,format:e.imageFormat,transparent:e.imageTransparency,gdbVersion:e.gdbVersion||null};return this.hasDynamicLayers&&this.dynamicLayers?r.dynamicLayers=this.dynamicLayers:r={...r,layers:this.layers,layerDefs:this.layerDefs},r}};e([r({readOnly:!0})],n.prototype,\"dynamicLayers\",null),e([r({readOnly:!0})],n.prototype,\"hasDynamicLayers\",null),e([r()],n.prototype,\"layer\",null),e([r({readOnly:!0})],n.prototype,\"layers\",null),e([r({readOnly:!0})],n.prototype,\"layerDefs\",null),e([r({type:Number})],n.prototype,\"scale\",void 0),e([r(i)],n.prototype,\"timeExtent\",void 0),e([r({readOnly:!0})],n.prototype,\"version\",null),e([r({readOnly:!0})],n.prototype,\"visibleSublayers\",null),n=e([s(\"esri.layers.mixins.ExportImageParameters\")],n);export{n as ExportImageParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../Point.js\";import n from\"../Extent.js\";import t from\"../Multipoint.js\";import o from\"../Polygon.js\";import i from\"../Polyline.js\";const r={convertToGEGeometry:s,exportPoint:a,exportPolygon:c,exportPolyline:h,exportMultipoint:m,exportExtent:x};function s(e,n){if(null==n)return null;let t=\"cache\"in n?n.cache._geVersion:void 0;return null==t&&(t=e.convertJSONToGeometry(n),\"cache\"in n&&(n.cache._geVersion=t)),t}function a(n,t,o){const i=n.hasZ(t),r=n.hasM(t),s=new e({x:n.getPointX(t),y:n.getPointY(t),spatialReference:o});return i&&(s.z=n.getPointZ(t)),r&&(s.m=n.getPointM(t)),s.cache._geVersion=t,s}function c(e,n,t){const i=new o({rings:e.exportPaths(n),hasZ:e.hasZ(n),hasM:e.hasM(n),spatialReference:t});return i.cache._geVersion=n,i}function h(e,n,t){const o=new i({paths:e.exportPaths(n),hasZ:e.hasZ(n),hasM:e.hasM(n),spatialReference:t});return o.cache._geVersion=n,o}function m(e,n,o){const i=new t({hasZ:e.hasZ(n),hasM:e.hasM(n),points:e.exportPoints(n),spatialReference:o});return i.cache._geVersion=n,i}function x(e,t,o){const i=e.hasZ(t),r=e.hasM(t),s=new n({xmin:e.getXMin(t),ymin:e.getYMin(t),xmax:e.getXMax(t),ymax:e.getYMax(t),spatialReference:o});if(i){const n=e.getZExtent(t);s.zmin=n.vmin,s.zmax=n.vmax}if(r){const n=e.getMExtent(t);s.mmin=n.vmin,s.mmax=n.vmax}return s.cache._geVersion=t,s}export{r as hydratedAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{resampleHermite as e}from\"./utils.js\";import r from\"./Rect.js\";import{SymbolHelper as t,CIMSymbolHelper as a}from\"./CIMSymbolHelper.js\";import{getSDFInfo as n,buildSDF as i}from\"./SDFHelper.js\";const s=512;class o{dispose(){this._rasterizationCanvas=null}rasterizeJSONResource(e,s,o){if(this._rasterizationCanvas||(this._rasterizationCanvas=document.createElement(\"canvas\")),\"simple-fill\"===e.type||\"esriSFS\"===e.type){const[r,a,n]=t.rasterizeSimpleFill(this._rasterizationCanvas,e.style,s);return{size:[a,n],image:new Uint32Array(r.buffer),sdf:!1,simplePattern:!0,anchorX:0,anchorY:0}}if(\"simple-line\"===e.type||\"esriSLS\"===e.type){const[r,a,n]=t.rasterizeSimpleLine(e.style,e.cap);return{size:[a,n],image:new Uint32Array(r.buffer),sdf:!0,simplePattern:!0,anchorX:0,anchorY:0}}let m,l,f;if(\"simple-marker\"===e.type||\"esriSMS\"===e.type||\"line-marker\"===e.type?(m=a.fromSimpleMarker(e),f=n(m)):\"CIMHatchFill\"===e.type?(m=a.fromCIMHatchFill(e),l=new r(m.frame.xmin,-m.frame.ymax,m.frame.xmax-m.frame.xmin,m.frame.ymax-m.frame.ymin)):e.markerPlacement&&\"CIMMarkerPlacementInsidePolygon\"===e.markerPlacement.type?(m=a.fromCIMInsidePolygon(e),l=new r(m.frame.xmin,-m.frame.ymax,m.frame.xmax-m.frame.xmin,m.frame.ymax-m.frame.ymin)):(m=e,f=n(m)),f&&!o){const[e,r,t]=i(f);return e?{size:[r,t],image:new Uint32Array(e.buffer),sdf:!0,simplePattern:!0,anchorX:0,anchorY:0}:null}const[c,h,p,y,u]=a.rasterize(this._rasterizationCanvas,m,l,!o);return c?{size:[h,p],image:new Uint32Array(c.buffer),sdf:!1,simplePattern:!1,anchorX:y,anchorY:u}:null}rasterizeImageResource(r,t,a,n){this._rasterizationCanvas||(this._rasterizationCanvas=document.createElement(\"canvas\")),this._rasterizationCanvas.width=r,this._rasterizationCanvas.height=t;const i=this._rasterizationCanvas.getContext(\"2d\");a instanceof ImageData?i.putImageData(a,0,0):(a.setAttribute(\"width\",`${r}px`),a.setAttribute(\"height\",`${t}px`),i.drawImage(a,0,0,r,t));const o=i.getImageData(0,0,r,t),m=new Uint8Array(o.data);if(n)for(const e of n)if(e&&e.oldColor&&4===e.oldColor.length&&e.newColor&&4===e.newColor.length){const[r,t,a,n]=e.oldColor,[i,s,o,l]=e.newColor;if(r===i&&t===s&&a===o&&n===l)continue;for(let e=0;e<m.length;e+=4)r===m[e]&&t===m[e+1]&&a===m[e+2]&&n===m[e+3]&&(m[e]=i,m[e+1]=s,m[e+2]=o,m[e+3]=l)}let l;for(let e=0;e<m.length;e+=4)l=m[e+3]/255,m[e]=m[e]*l,m[e+1]=m[e+1]*l,m[e+2]=m[e+2]*l;let f=m,c=r,h=t;const p=s;if(c>=p||h>=p){const a=c/h;a>1?(c=p,h=Math.round(p/a)):(h=p,c=Math.round(p*a)),f=new Uint8Array(4*c*h);const n=new Uint8ClampedArray(f.buffer);e(m,r,t,n,c,h,!1)}return{size:[r,t],image:new Uint32Array(f.buffer),sdf:!1,simplePattern:!1,anchorX:0,anchorY:0}}}export default o;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nconst s={attachment:{supportsContentType:!1,supportsExifInfo:!1,supportsKeywords:!1,supportsName:!1,supportsSize:!1},data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:!1},editing:{supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsGeometryUpdate:!1,supportsGlobalId:!1,supportsRollbackOnFailure:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:!1,supportsDelete:!1,supportsEditing:!1,supportsChangeTracking:!1,supportsQuery:!1,supportsQueryAttachments:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:!1,supportsExceedsLimitStatistics:!1},queryRelated:{supportsCount:!1,supportsOrderBy:!1,supportsPagination:!1},query:{maxRecordCount:0,maxRecordCountFactor:0,standardMaxRecordCount:0,supportsCacheHint:!1,supportsCentroid:!1,supportsDisjointSpatialRelationship:!1,supportsDistance:!1,supportsDistinct:!1,supportsExtent:!1,supportsFormatPBF:!1,supportsGeometryProperties:!1,supportsHavingClause:!1,supportsHistoricMoment:!1,supportsMaxRecordCountFactor:!1,supportsOrderBy:!1,supportsPagination:!1,supportsPercentileStatistics:!1,supportsQuantization:!1,supportsQuantizationEditMode:!1,supportsQueryByOthers:!1,supportsQueryGeometry:!1,supportsResultType:!1,supportsSqlExpression:!1,supportsStandardizedQueriesOnly:!1,supportsStatistics:!1,tileMaxRecordCount:0}};export{s as zeroCapabilities};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/has.js\";import{clone as r}from\"../../../../core/lang.js\";import{defaultPointSymbolJSON as e,defaultPolylineSymbolJSON as n,defaultPolygonSymbolJSON as o}from\"../../../../symbols/support/defaultsJSON.js\";function i(t){return{renderer:{type:\"simple\",symbol:\"esriGeometryPoint\"===t||\"esriGeometryMultipoint\"===t?e:\"esriGeometryPolyline\"===t?n:o}}}function s(r,e){if(t(\"csp-restrictions\"))return()=>({[e]:null,...r});try{let t=`this.${e} = null;`;for(const e in r){t+=`this${e.indexOf(\".\")?`[\"${e}\"]`:`.${e}`} = ${JSON.stringify(r[e])};`}const n=new Function(t);return()=>new n}catch(n){return()=>({[e]:null,...r})}}function u(t={}){return[{name:\"New Feature\",description:\"\",prototype:{attributes:r(t)}}]}export{s as createDefaultAttributesFunction,u as createDefaultTemplate,i as createDrawingInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nclass e{constructor(e,t,i){this.pixelBlock=e,this.extent=t,this.originalPixelBlock=i}get width(){return this.pixelBlock?this.pixelBlock.width:0}get height(){return this.pixelBlock?this.pixelBlock.height:0}render(e){const t=this.pixelBlock;if(!t)return;const i=this.filter({pixelBlock:t}),l=i.pixelBlock.getAsRGBA(),h=e.createImageData(i.pixelBlock.width,i.pixelBlock.height);h.data.set(l),e.putImageData(h,0,0)}getRenderedRasterPixels(){const e=this.filter({pixelBlock:this.pixelBlock});return{width:e.pixelBlock.width,height:e.pixelBlock.height,renderedRasterPixels:new Uint8Array(e.pixelBlock.getAsRGBA().buffer)}}}export default e;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{a as e}from\"./geometryEngineBase.js\";import{jsonAdapter as n}from\"../geometry/geometryAdapters/json.js\";function r(n){return e.extendedSpatialReferenceInfo(n)}function t(r,t,i){return e.clip(n,r,t,i)}function i(r,t,i){return e.cut(n,r,t,i)}function s(r,t,i){return e.contains(n,r,t,i)}function u(r,t,i){return e.crosses(n,r,t,i)}function o(r,t,i,s){return e.distance(n,r,t,i,s)}function a(r,t,i){return e.equals(n,r,t,i)}function c(r,t,i){return e.intersects(n,r,t,i)}function f(r,t,i){return e.touches(n,r,t,i)}function l(r,t,i){return e.within(n,r,t,i)}function p(r,t,i){return e.disjoint(n,r,t,i)}function g(r,t,i){return e.overlaps(n,r,t,i)}function d(r,t,i,s){return e.relate(n,r,t,i,s)}function m(r,t){return e.isSimple(n,r,t)}function h(r,t){return e.simplify(n,r,t)}function y(r,t,i=!1){return e.convexHull(n,r,t,i)}function x(r,t,i){return e.difference(n,r,t,i)}function w(r,t,i){return e.symmetricDifference(n,r,t,i)}function A(r,t,i){return e.intersect(n,r,t,i)}function E(r,t,i=null){return e.union(n,r,t,i)}function j(r,t,i,s,u,o,a){return e.offset(n,r,t,i,s,u,o,a)}function v(r,t,i,s,u=!1){return e.buffer(n,r,t,i,s,u)}function z(r,t,i,s,u,o,a){return e.geodesicBuffer(n,r,t,i,s,u,o,a)}function I(r,t,i,s=!0){return e.nearestCoordinate(n,r,t,i,s)}function V(r,t,i){return e.nearestVertex(n,r,t,i)}function D(r,t,i,s,u){return e.nearestVertices(n,r,t,i,s,u)}function H(n,r,t,i){if(null==r||null==i)throw new Error(\"Illegal Argument Exception\");const s=e.rotate(r,t,i);return s.spatialReference=n,s}function R(n,r,t){if(null==r||null==t)throw new Error(\"Illegal Argument Exception\");const i=e.flipHorizontal(r,t);return i.spatialReference=n,i}function b(n,r,t){if(null==r||null==t)throw new Error(\"Illegal Argument Exception\");const i=e.flipVertical(r,t);return i.spatialReference=n,i}function B(r,t,i,s,u){return e.generalize(n,r,t,i,s,u)}function L(r,t,i,s){return e.densify(n,r,t,i,s)}function S(r,t,i,s,u=0){return e.geodesicDensify(n,r,t,i,s,u)}function _(r,t,i){return e.planarArea(n,r,t,i)}function q(r,t,i){return e.planarLength(n,r,t,i)}function C(r,t,i,s){return e.geodesicArea(n,r,t,i,s)}function k(r,t,i,s){return e.geodesicLength(n,r,t,i,s)}var F=Object.freeze({__proto__:null,extendedSpatialReferenceInfo:r,clip:t,cut:i,contains:s,crosses:u,distance:o,equals:a,intersects:c,touches:f,within:l,disjoint:p,overlaps:g,relate:d,isSimple:m,simplify:h,convexHull:y,difference:x,symmetricDifference:w,intersect:A,union:E,offset:j,buffer:v,geodesicBuffer:z,nearestCoordinate:I,nearestVertex:V,nearestVertices:D,rotate:H,flipHorizontal:R,flipVertical:b,generalize:B,densify:L,geodesicDensify:S,planarArea:_,planarLength:q,geodesicArea:C,geodesicLength:k});export{D as A,H as B,R as C,b as D,B as E,L as F,S as G,_ as H,q as I,C as J,k as K,i as a,s as b,t as c,u as d,r as e,o as f,F as g,a as h,c as i,p as j,m as k,y as l,x as m,w as n,g as o,A as p,j as q,d as r,h as s,f as t,E as u,v,l as w,z as x,I as y,V as z};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{TiledDisplayObject as t}from\"./webgl/TiledDisplayObject.js\";import{Bitmap as e}from\"./Bitmap.js\";class s extends t{constructor(t,s,r,i=null){super(t,s,r,r),this.bitmap=new e(i,\"standard\",!1),this.bitmap.coordScale=r,this.bitmap.once(\"isReady\",(()=>this.ready()))}destroy(){super.destroy(),this.bitmap.destroy()}beforeRender(t){super.beforeRender(t),this.bitmap.beforeRender(t)}afterRender(t){super.afterRender(t),this.bitmap.afterRender(t)}set stencilRef(t){this.bitmap.stencilRef=t}get stencilRef(){return this.bitmap.stencilRef}setTransform(t,e){super.setTransform(t,e),this.bitmap.transforms.dvs=this.transforms.dvs}onAttach(){this.bitmap.stage=this.stage}onDetach(){this.bitmap&&(this.bitmap.stage=null)}}export{s as BitmapTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as t,isSome as r}from\"../../core/maybe.js\";import{throwIfAbortError as e}from\"../../core/promiseUtils.js\";import{id as a}from\"../../kernel.js\";import s from\"../../request.js\";import n from\"../../portal/Portal.js\";import o from\"../../portal/PortalItem.js\";import i from\"../FeatureLayer.js\";class l{constructor(t,r,e){this.parsedUrl=t,this.portalItem=r,this.signal=e,this.rootDocument=null;const a=this.parsedUrl.path.match(/^(.*)\\/SceneServer\\/layers\\/([\\d]*)\\/?$/i);a&&(this.urlParts={root:a[1],layerId:parseInt(a[2],10)})}async fetch(){var r;if(!this.urlParts)return null;const e=null!=(r=this.portalItem)?r:await this.portalItemFromServiceItemId();if(t(e))return this.loadFromUrl();const a=await this.findAndLoadRelatedPortalItem(e);return t(a)?null:this.loadFeatureLayerFromPortalItem(a)}async fetchPortalItem(){var r;if(!this.urlParts)return null;const e=null!=(r=this.portalItem)?r:await this.portalItemFromServiceItemId();return t(e)?null:this.findAndLoadRelatedPortalItem(e)}async fetchRootDocument(){if(r(this.rootDocument))return this.rootDocument;if(t(this.urlParts))return this.rootDocument={},{};const e={query:{f:\"json\"},responseType:\"json\",signal:this.signal},a=`${this.urlParts.root}/SceneServer`;try{const t=await s(a,e);this.rootDocument=t.data}catch{this.rootDocument={}}return this.rootDocument}async fetchServiceOwningPortalUrl(){var t;const r=null==(t=a)?void 0:t.findServerInfo(this.parsedUrl.path);if(null!=r&&r.owningSystemUrl)return r.owningSystemUrl;const n=this.parsedUrl.path.replace(/(.*\\/rest)\\/.*/i,\"$1\")+\"/info\";try{const t=(await s(n,{query:{f:\"json\"},responseType:\"json\",signal:this.signal})).data.owningSystemUrl;if(t)return t}catch(o){e(o)}return null}async findAndLoadRelatedPortalItem(t){try{return(await t.fetchRelatedItems({relationshipType:\"Service2Service\",direction:\"reverse\"},{signal:this.signal})).find((t=>\"Feature Service\"===t.type))||null}catch(r){return e(r),null}}async loadFeatureLayerFromPortalItem(t){await t.load({signal:this.signal});const r=await this.findMatchingAssociatedSublayerUrl(t.url);return new i({url:r,portalItem:t}).load({signal:this.signal})}async loadFromUrl(){const t=await this.findMatchingAssociatedSublayerUrl(`${this.urlParts.root}/FeatureServer`);return new i({url:t}).load({signal:this.signal})}async findMatchingAssociatedSublayerUrl(t){const r=t.replace(/^(.*FeatureServer)(\\/[\\d]*\\/?)?$/i,\"$1\"),e={query:{f:\"json\"},responseType:\"json\",authMode:\"no-prompt\",signal:this.signal},a=this.urlParts.layerId,n=this.fetchRootDocument(),o=s(r,e),[i,l]=await Promise.all([o,n]),c=l&&l.layers,u=i.data&&i.data.layers;if(!Array.isArray(u))throw new Error(\"expected layers array\");if(Array.isArray(c))for(let s=0;s<Math.min(c.length,u.length);s++){if(c[s].id===a)return`${r}/${u[s].id}`}else if(a<u.length)return`${r}/${u[a].id}`;throw new Error(\"could not find matching associated sublayer\")}async portalItemFromServiceItemId(){const t=(await this.fetchRootDocument()).serviceItemId;if(!t)return null;const a=new o({id:t}),s=await this.fetchServiceOwningPortalUrl();r(s)&&(a.portal=new n({url:s}));try{return a.load({signal:this.signal})}catch(i){return e(i),null}}}export{l as FetchAssociatedFeatureLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{replace as t}from\"../core/string.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import{reader as l}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as o}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as s}from\"../core/accessorSupport/decorators/writer.js\";import i from\"../core/Error.js\";import{Url as n,isProtocolRelative as a,normalize as p}from\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import u from\"../geometry/SpatialReference.js\";import m from\"../geometry/Point.js\";import c from\"../geometry/Extent.js\";import\"../geometry.js\";import f from\"../request.js\";import y from\"./Layer.js\";import{MultiOriginJSONMixin as h}from\"../core/MultiOriginJSONSupport.js\";import{OperationalLayer as d}from\"./mixins/OperationalLayer.js\";import{BlendLayer as v}from\"./mixins/BlendLayer.js\";import{PortalLayer as w}from\"./mixins/PortalLayer.js\";import{RefreshableLayer as g}from\"./mixins/RefreshableLayer.js\";import{ScaleRangeLayer as j}from\"./mixins/ScaleRangeLayer.js\";import T from\"./support/LOD.js\";import b from\"./support/TileInfo.js\";import S from\"./support/WMTSLayerInfo.js\";let R=class extends(v(g(j(d(w(h(y))))))){constructor(...e){super(...e),this.copyright=\"\",this.fullExtent=new c(-20037508.342787,-20037508.34278,20037508.34278,20037508.342787,u.WebMercator),this.legendEnabled=!1,this.isReference=null,this.popupEnabled=!1,this.spatialReference=u.WebMercator,this.subDomains=null,this.tileInfo=new b({size:[256,256],dpi:96,format:\"png8\",compressionQuality:0,origin:new m({x:-20037508.342787,y:20037508.342787,spatialReference:u.WebMercator}),spatialReference:u.WebMercator,lods:[new T({level:0,scale:591657527.591555,resolution:156543.033928}),new T({level:1,scale:295828763.795777,resolution:78271.5169639999}),new T({level:2,scale:147914381.897889,resolution:39135.7584820001}),new T({level:3,scale:73957190.948944,resolution:19567.8792409999}),new T({level:4,scale:36978595.474472,resolution:9783.93962049996}),new T({level:5,scale:18489297.737236,resolution:4891.96981024998}),new T({level:6,scale:9244648.868618,resolution:2445.98490512499}),new T({level:7,scale:4622324.434309,resolution:1222.99245256249}),new T({level:8,scale:2311162.217155,resolution:611.49622628138}),new T({level:9,scale:1155581.108577,resolution:305.748113140558}),new T({level:10,scale:577790.554289,resolution:152.874056570411}),new T({level:11,scale:288895.277144,resolution:76.4370282850732}),new T({level:12,scale:144447.638572,resolution:38.2185141425366}),new T({level:13,scale:72223.819286,resolution:19.1092570712683}),new T({level:14,scale:36111.909643,resolution:9.55462853563415}),new T({level:15,scale:18055.954822,resolution:4.77731426794937}),new T({level:16,scale:9027.977411,resolution:2.38865713397468}),new T({level:17,scale:4513.988705,resolution:1.19432856685505}),new T({level:18,scale:2256.994353,resolution:.597164283559817}),new T({level:19,scale:1128.497176,resolution:.298582141647617})]}),this.type=\"web-tile\",this.urlTemplate=null,this.wmtsInfo=null}normalizeCtorArgs(e,t){return\"string\"==typeof e?{urlTemplate:e,...t}:e}load(e){const t=this.loadFromPortal({supportedTypes:[\"WMTS\"]},e).then((()=>{let e=\"\";if(this.urlTemplate)if(this.spatialReference.equals(this.tileInfo.spatialReference)){const t=new n(this.urlTemplate);!!this.subDomains&&this.subDomains.length>0||-1===t.authority.indexOf(\"{subDomain}\")||(e=\"is missing 'subDomains' property\")}else e=\"spatialReference must match tileInfo.spatialReference\";else e=\"is missing the required 'urlTemplate' property value\";if(e)throw new i(\"web-tile-layer:load\",`WebTileLayer (title: '${this.title}', id: '${this.id}') ${e}`)}));return this.addResolvingPromise(t),Promise.resolve(this)}get levelValues(){const e=[];if(!this.tileInfo)return null;for(const t of this.tileInfo.lods)e[t.level]=t.levelValue||t.level;return e}readSpatialReference(e,t){return e||t.fullExtent&&t.fullExtent.spatialReference&&u.fromJSON(t.fullExtent.spatialReference)}get tileServers(){if(!this.urlTemplate)return null;const e=[],{urlTemplate:t,subDomains:r}=this,l=new n(t),o=l.scheme?l.scheme+\"://\":\"//\",s=o+l.authority+\"/\";if(-1===l.authority.indexOf(\"{subDomain}\"))e.push(s);else if(r&&r.length>0&&l.authority.split(\".\").length>1)for(const i of r)e.push(o+l.authority.replace(/\\{subDomain\\}/gi,i)+\"/\");return e.map((e=>(\"/\"!==e.charAt(e.length-1)&&(e+=\"/\"),e)))}get urlPath(){if(!this.urlTemplate)return null;const e=this.urlTemplate,t=new n(e),r=(t.scheme?t.scheme+\"://\":\"//\")+t.authority+\"/\";return e.substring(r.length)}readUrlTemplate(e,t){return e||t.templateUrl}writeUrlTemplate(e,t){e&&a(e)&&(e=\"https:\"+e),e&&(e=e.replace(/\\{z\\}/gi,\"{level}\").replace(/\\{x\\}/gi,\"{col}\").replace(/\\{y\\}/gi,\"{row}\"),e=p(e)),t.templateUrl=e}fetchTile(e,t,r,l={}){const{signal:o,timestamp:s}=l,i=this.getTileUrl(e,t,r),n={responseType:\"image\",signal:o};return null!=s&&(n.query={_ts:l.timestamp}),f(i,n).then((e=>e.data))}getTileUrl(e,r,l){const o=this.levelValues[e];return this.tileServers[r%this.tileServers.length]+t(this.urlPath,{level:o,z:o,col:l,x:l,row:r,y:r})}};e([r({type:String,value:\"\",json:{write:!0}})],R.prototype,\"copyright\",void 0),e([r({type:c,json:{write:!0}})],R.prototype,\"fullExtent\",void 0),e([r({readOnly:!0,json:{read:!1,write:!1}})],R.prototype,\"legendEnabled\",void 0),e([r({type:[\"show\",\"hide\"]})],R.prototype,\"listMode\",void 0),e([r()],R.prototype,\"levelValues\",null),e([r({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],R.prototype,\"isReference\",void 0),e([r({type:[\"WebTiledLayer\"],value:\"WebTiledLayer\"})],R.prototype,\"operationalLayerType\",void 0),e([r({readOnly:!0,json:{read:!1,write:!1}})],R.prototype,\"popupEnabled\",void 0),e([r({type:u})],R.prototype,\"spatialReference\",void 0),e([l(\"spatialReference\",[\"spatialReference\",\"fullExtent.spatialReference\"])],R.prototype,\"readSpatialReference\",null),e([r({type:[String],json:{write:!0}})],R.prototype,\"subDomains\",void 0),e([r({type:b,json:{write:!0}})],R.prototype,\"tileInfo\",void 0),e([r({readOnly:!0})],R.prototype,\"tileServers\",null),e([r({json:{read:!1}})],R.prototype,\"type\",void 0),e([r()],R.prototype,\"urlPath\",null),e([r({type:String,json:{origins:{\"portal-item\":{read:{source:\"url\"}}}}})],R.prototype,\"urlTemplate\",void 0),e([l(\"urlTemplate\",[\"urlTemplate\",\"templateUrl\"])],R.prototype,\"readUrlTemplate\",null),e([s(\"urlTemplate\",{templateUrl:{type:String}})],R.prototype,\"writeUrlTemplate\",null),e([r({type:S,json:{write:!0}})],R.prototype,\"wmtsInfo\",void 0),R=e([o(\"esri.layers.WebTileLayer\")],R);var x=R;export default x;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nconst a={BingMapsLayer:async()=>(await import(\"../BingMapsLayer.js\")).default,BuildingSceneLayer:async()=>(await import(\"../BuildingSceneLayer.js\")).default,CSVLayer:async()=>(await import(\"../CSVLayer.js\")).default,ElevationLayer:async()=>(await import(\"../ElevationLayer.js\")).default,FeatureLayer:async()=>(await import(\"../FeatureLayer.js\")).default,GroupLayer:async()=>(await import(\"../GroupLayer.js\")).default,GeoRSSLayer:async()=>(await import(\"../GeoRSSLayer.js\")).default,ImageryLayer:async()=>(await import(\"../ImageryLayer.js\")).default,ImageryTileLayer:async()=>(await import(\"../ImageryTileLayer.js\")).default,IntegratedMeshLayer:async()=>(await import(\"../IntegratedMeshLayer.js\")).default,KMLLayer:async()=>(await import(\"../KMLLayer.js\")).default,MapImageLayer:async()=>(await import(\"../MapImageLayer.js\")).default,MapNotesLayer:async()=>(await import(\"../MapNotesLayer.js\")).default,OpenStreetMapLayer:async()=>(await import(\"../OpenStreetMapLayer.js\")).default,PointCloudLayer:async()=>(await import(\"../PointCloudLayer.js\")).default,RouteLayer:async()=>(await import(\"../RouteLayer.js\")).default,SceneLayer:async()=>(await import(\"../SceneLayer.js\")).default,StreamLayer:async()=>(await import(\"../StreamLayer.js\")).default,TileLayer:async()=>(await import(\"../TileLayer.js\")).default,UnknownLayer:async()=>(await import(\"../UnknownLayer.js\")).default,UnsupportedLayer:async()=>(await import(\"../UnsupportedLayer.js\")).default,VectorTileLayer:async()=>(await import(\"../VectorTileLayer.js\")).default,WebTileLayer:async()=>(await import(\"../WebTileLayer.js\")).default,WMSLayer:async()=>(await import(\"../WMSLayer.js\")).default,WMTSLayer:async()=>(await import(\"../WMTSLayer.js\")).default};export{a as layerLookupMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nconst t=1;function n(t,n){let o=0;for(const r of n){var e;const n=null==(e=r.attributes)?void 0:e[t];\"number\"==typeof n&&isFinite(n)&&(o=Math.max(o,n))}return o}export{n as findLastObjectIdFromFeatures,t as initialObjectId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{WGLDrawPhase as e}from\"../../engine/webgl/enums.js\";import r from\"./BaseGraphicContainer.js\";class i extends r{renderChildren(r){this.attributeView.bindTextures(r.context),this.children.some((e=>e.hasData))&&(super.renderChildren(r),r.drawPhase===e.MAP&&this._renderChildren(r),r.drawPhase===e.HIGHLIGHT&&this._renderHighlight(r))}_renderHighlight(e){const{painter:r}=e,i=r.effects.highlight;i.bind(e),this._renderChildren(e,i.defines),i.draw(e),i.unbind()}}export default i;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction e(){return[0,0,0,1]}function r(e){return[e[0],e[1],e[2],e[3]]}function n(e,r,n,t){return[e,r,n,t]}function t(e,r){return new Float64Array(e,r,4)}const a=e();var o=Object.freeze({__proto__:null,create:e,clone:r,fromValues:n,createView:t,IDENTITY:a});export{a as I,e as a,r as b,t as c,n as f,o as q};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import t from\"../../core/Accessor.js\";import{HandleOwnerMixin as o}from\"../../core/HandleOwner.js\";const a={visible:\"visibleSublayers\"};let l=class extends(o(t)){constructor(e){super(e),this.scale=0}set layer(e){this._get(\"layer\")!==e&&(this._set(\"layer\",e),this.handles.remove(\"layer\"),e&&this.handles.add([e.sublayers.on(\"change\",(()=>this.notifyChange(\"visibleSublayers\"))),e.on(\"wms-sublayer-update\",(e=>this.notifyChange(a[e.propertyName])))],\"layer\"))}get layers(){const{visibleSublayers:e}=this;return e.filter((e=>e.name)).map((e=>e.name)).join(\",\")}get version(){this.commitProperty(\"layers\");const e=this.layer;return e&&e.commitProperty(\"imageTransparency\"),(this._get(\"version\")||0)+1}get visibleSublayers(){const{layer:e,scale:r}=this,s=null==e?void 0:e.sublayers,t=[],o=e=>{const{minScale:s,maxScale:a,sublayers:l,visible:i}=e;i&&(0===r||(0===s||r<=s)&&(0===a||r>=a))&&(l?l.forEach(o):t.unshift(e))};return null==s||s.forEach(o),t}toJSON(){const{layer:e,layers:r}=this,{imageFormat:s,imageTransparency:t,version:o}=e;return{format:s,request:\"GetMap\",service:\"WMS\",styles:\"\",transparent:t,version:o,layers:r}}};e([r()],l.prototype,\"layer\",null),e([r({readOnly:!0})],l.prototype,\"layers\",null),e([r({type:Number})],l.prototype,\"scale\",void 0),e([r({readOnly:!0})],l.prototype,\"version\",null),e([r({readOnly:!0})],l.prototype,\"visibleSublayers\",null),l=e([s(\"esri.layers.support.ExportWMSImageParameters\")],l);export{l as ExportWMSImageParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import{HandleOwner as t}from\"../../../../../core/HandleOwner.js\";let s=class extends t{initialize(){}destroy(){}get supportsTileUpdates(){return!1}get spatialReference(){const e=this.get(\"tileStore.tileScheme.spatialReference\");return e&&e.toJSON()||null}};e([r({readOnly:!0})],s.prototype,\"supportsTileUpdates\",null),e([r({constructOnly:!0})],s.prototype,\"remoteClient\",void 0),e([r({constructOnly:!0})],s.prototype,\"service\",void 0),e([r()],s.prototype,\"spatialReference\",null),e([r({constructOnly:!0})],s.prototype,\"tileInfo\",void 0),e([r({constructOnly:!0})],s.prototype,\"tileStore\",void 0),s=e([o(\"esri.views.2d.layers.features.processors.BaseProcessor\")],s);var p=s;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import{debounce as o}from\"../../../../core/promiseUtils.js\";import r from\"../../../../core/Accessor.js\";import{getInfo as s}from\"../../../../geometry/support/spatialReferenceUtils.js\";import a from\"../../../../geometry/Extent.js\";import{create as p}from\"../../../../geometry/support/aaBoundingRect.js\";import n from\"../../../../layers/support/TileInfo.js\";import m from\"../../tiling/TileKey.js\";import l from\"../../tiling/TileInfoView.js\";import{getOuterSize as h,getBBox as d}from\"../../viewStateUtils.js\";import{Bitmap as c}from\"../../engine/Bitmap.js\";const u=p(),g=[0,0],f=new m(0,0,0,0),x={container:null,fetchSource:null,requestUpdate:null,imageMaxWidth:2048,imageMaxHeight:2048,imageRotationSupported:!1,imageNormalizationSupported:!1,hidpi:!1};let y=class extends r{constructor(t){super(t),this._imagePromise=null,this.hidpi=x.hidpi,this.imageMaxWidth=x.imageMaxWidth,this.imageMaxHeight=x.imageMaxHeight,this.imageRotationSupported=x.imageRotationSupported,this.imageNormalizationSupported=x.imageNormalizationSupported,this.update=o((async(t,e)=>{const i=t.state,o=s(i.spatialReference),r=this.hidpi?t.pixelRatio:1;if(!t.stationary||this.destroyed)return null;this.imageRotationSupported?(g[0]=i.size[0],g[1]=i.size[1]):h(g,i);const a=Math.floor(g[0]*r)>this.imageMaxWidth||Math.floor(g[1]*r)>this.imageMaxHeight,p=o&&(i.extent.xmin<o.valid[0]||i.extent.xmax>o.valid[1]),n=!this.imageNormalizationSupported&&p,m=!a&&!n,l=this.imageRotationSupported?i.rotation:0;if(m)this._imagePromise=this._singleExport(i,g,l,r,e);else{let t=Math.min(this.imageMaxWidth,this.imageMaxHeight);n&&(t=Math.min(i.worldScreenWidth,t)),this._imagePromise=this._tiledExport(i,t,l,r,e)}return this._imagePromise.then((async t=>{if(this._imagePromise=null,!this.destroyed){for(const e of this.container.children)t.includes(e)||e.fadeOut().then((()=>{e.remove()}));for(const e of t)this.container.addChild(e),e.fadeIn()}})).catch((t=>{throw this._imagePromise=null,t}))}),5e3)}destroy(){}get updating(){return null!==this._imagePromise}updateExports(t){for(const e of this.container.children){if(!e.visible||!e.stage)return;t(e)?console.error(\"ExportStrategy.updateExports doesn't support promise yet\"):(e.invalidateTexture(),e.requestRender())}}_export(t,e,i,o,r,s){return Promise.resolve().then((()=>this.fetchSource(t,Math.floor(e*r),Math.floor(i*r),{rotation:o,pixelRatio:r,signal:s}))).then((i=>{const s=new c(i,\"additive\");return s.x=t.xmin,s.y=t.ymax,s.resolution=t.width/e,s.rotation=o,s.pixelRatio=r,s}))}_singleExport(t,e,i,o,r){d(u,t.center,t.resolution,e);const s=new a(u[0],u[1],u[2],u[3],t.spatialReference);return this._export(s,e[0],e[1],i,o,r).then((t=>[t]))}_tiledExport(t,e,i,o,r){const s=n.create({size:e,spatialReference:t.spatialReference,scales:[t.scale]}),p=new l(s),m=p.getTileCoverage(t);if(!m)return null;const h=[];return m.forEach(((s,n,m,l)=>{f.set(s,n,m,l),p.getTileBounds(u,f);const d=new a(u[0],u[1],u[2],u[3],t.spatialReference);h.push(this._export(d,e,e,i,o,r))})),Promise.all(h)}};t([e()],y.prototype,\"_imagePromise\",void 0),t([e()],y.prototype,\"container\",void 0),t([e()],y.prototype,\"fetchSource\",void 0),t([e()],y.prototype,\"hidpi\",void 0),t([e()],y.prototype,\"imageMaxWidth\",void 0),t([e()],y.prototype,\"imageMaxHeight\",void 0),t([e()],y.prototype,\"imageRotationSupported\",void 0),t([e()],y.prototype,\"imageNormalizationSupported\",void 0),t([e()],y.prototype,\"requestUpdate\",void 0),t([e()],y.prototype,\"updating\",null),y=t([i(\"esri.views.2d.layers.support.ExportStrategy\")],y);var S=y;export default S;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../../core/has.js\";import{i as t,a as e,r as i,j as s,m as r}from\"../../../chunks/mat3.js\";import{c as h}from\"../../../chunks/mat3f32.js\";import{f as n}from\"../../../chunks/vec2f32.js\";import\"../../../chunks/builtins.js\";import\"../../webgl/checkWebGLError.js\";import o from\"../../webgl/Texture.js\";import\"../../webgl/FramebufferObject.js\";import{DisplayObject as u}from\"./DisplayObject.js\";import a from\"./ImageryBitmapSource.js\";function d(t){return t&&\"render\"in t}function c(t){return t&&!(\"render\"in t)}function l(t){const e=document.createElement(\"canvas\");return e.width=t.width,e.height=t.height,t.render(e.getContext(\"2d\")),e}function x(t,e,i){const s={target:3553,pixelFormat:6408,internalFormat:6408,dataType:5121,wrapMode:33071};return e&&i&&(s.width=e,s.height=i),new o(t,s)}class _ extends u{constructor(t=null,e,i=!0){super(),this.requestRenderOnSourceChangedEnabled=i,this._textureInvalidated=!0,this.stencilRef=0,this.coordScale=[1,1],this._height=void 0,this.pixelRatio=1,this.resolution=0,this.rotation=0,this._source=null,this._width=void 0,this.x=0,this.y=0,this.transforms={dvs:h()},this.blendFunction=e,this.source=t,this.requestRender=this.requestRender.bind(this)}destroy(){this._texture&&(this._texture.dispose(),this._texture=null)}get isSourceScaled(){return this.width!==this.sourceWidth||this.height!==this.sourceHeight}get height(){return void 0!==this._height?this._height:this.sourceHeight}set height(t){this._height=t}get source(){return this._source}set source(t){this._source=t,this.invalidateTexture()}get sourceHeight(){return this._source instanceof HTMLImageElement?this._source.naturalHeight:this._source.height}get sourceWidth(){return this._source instanceof HTMLImageElement?this._source.naturalWidth:this._source.width}get width(){return void 0!==this._width?this._width:this.sourceWidth}set width(t){this._width=t}beforeRender(t){super.beforeRender(t),this.updateTexture(t)}invalidateTexture(){this._textureInvalidated||(this._textureInvalidated=!0,this.requestRenderOnSourceChangedEnabled&&this.requestRender())}setTransform(h){const o=t(this.transforms.dvs),[u,a]=h.toScreenNoRotation([0,0],this.x,this.y),d=this.resolution/this.pixelRatio/h.resolution,c=d*this.width,l=d*this.height,x=Math.PI*this.rotation/180;e(o,o,n(u,a)),e(o,o,n(c/2,l/2)),i(o,o,-x),e(o,o,n(-c/2,-l/2)),s(o,o,n(c,l)),r(this.transforms.dvs,h.displayViewMat3,o)}setSamplingProfile(t){this._texture&&(t.mips&&!this._texture.descriptor.hasMipmap&&this._texture.generateMipmap(),this._texture.setSamplingMode(t.samplingMode))}bind({context:t},e){this._texture&&t.bindTexture(this._texture,e)}updateTexture({context:t}){var e;if(!this.stage)return null==(e=this._texture)||e.dispose(),void(this._texture=null);if(!this._textureInvalidated)return;this._textureInvalidated=!1,this._texture||(this.source?this._texture=x(t,this.sourceWidth,this.sourceHeight):this._texture=x(t));const i=this.source;if(i){if(this._texture.resize(this.sourceWidth,this.sourceHeight),d(i))if(i instanceof a){const t=i.getRenderedRasterPixels();this._texture.setData(t.renderedRasterPixels)}else this._texture.setData(l(i));else c(i)&&this._texture.setData(i);this.ready()}else this._texture.setData(null)}onAttach(){this.invalidateTexture()}onDetach(){this.invalidateTexture()}}export{_ as Bitmap};\n"],"sourceRoot":"webpack:///"}