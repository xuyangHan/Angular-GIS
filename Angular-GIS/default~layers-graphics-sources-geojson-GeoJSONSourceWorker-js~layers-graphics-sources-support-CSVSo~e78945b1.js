(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["default~layers-graphics-sources-geojson-GeoJSONSourceWorker-js~layers-graphics-sources-support-CSVSo~e78945b1"],{

/***/ "3pdw":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/sql/WhereClauseCache.js ***!
  \****************************************************************/
/*! exports provided: WhereClauseCache */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WhereClauseCache", function() { return c; });
/* harmony import */ var _ItemCache_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ItemCache.js */ "1/KW");
/* harmony import */ var _WhereClause_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./WhereClause.js */ "ZqIb");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
class c{constructor(e,c){this._cache=new _ItemCache_js__WEBPACK_IMPORTED_MODULE_0__["default"](e),this._invalidCache=new _ItemCache_js__WEBPACK_IMPORTED_MODULE_0__["default"](c)}get(t,c){const i=`${c.uid}:${t}`,r=this._cache.get(i);if(r)return r;if(void 0!==this._invalidCache.get(i))return null;try{const r=_WhereClause_js__WEBPACK_IMPORTED_MODULE_1__["WhereClause"].create(t,c);return this._cache.put(i,r),r}catch{return this._invalidCache.put(i,null),null}}}


/***/ }),

/***/ "J6ET":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/data/QueryEngineResult.js ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/maybe.js */ "srIe");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry/support/spatialReferenceUtils.js */ "f4Nx");
/* harmony import */ var _featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../featureConversionUtils.js */ "ZlUD");
/* harmony import */ var _geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../geometry/support/quantizationUtils.js */ "AIxD");
/* harmony import */ var _projectionSupport_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./projectionSupport.js */ "HsO1");
/* harmony import */ var _attributeSupport_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./attributeSupport.js */ "wauK");
/* harmony import */ var _AttributesBuilder_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./AttributesBuilder.js */ "WRMU");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./utils.js */ "Hu/a");
/* harmony import */ var _timeSupport_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./timeSupport.js */ "q7ja");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function m(e){return e.substr(24,12)+e.substr(19,4)+e.substr(16,2)+e.substr(14,2)+e.substr(11,2)+e.substr(9,2)+e.substr(6,2)+e.substr(4,2)+e.substr(2,2)+e.substr(0,2)}function p(e,t,s){return(s?e>t:e<t)?-1:(s?e<t:e>t)?1:0}function y(e,t,s){return s?t-e:e-t}function g(e,t,s,i){if(s&&"esriFieldTypeDate"===s.type){const s=new Date(e).getTime(),r=new Date(t).getTime();if(!isNaN(s)&&!isNaN(r))return y(s,r,i)}if("number"==typeof e&&"number"==typeof t)return y(e,t,i);if("string"==typeof e&&"string"==typeof t){const r=e.toUpperCase(),n=t.toUpperCase();return!s||"esriFieldTypeGUID"!==s.type&&"esriFieldTypeGlobalID"!==s.type?p(r,n,i):p(m(r),m(n),i)}return i?1:-1}class I{constructor(e,t,s){this.items=e,this.queryGeometry=t,this.definitionExpression=s.definitionExpression,this.geometryType=s.geometryType,this.hasM=s.hasM,this.hasZ=s.hasZ,this.objectIdField=s.objectIdField,this.spatialReference=s.spatialReference,this.fieldsIndex=s.fieldsIndex,this.timeInfo=s.timeInfo,this.featureAdapter=s.featureAdapter,this.aggregateAdapter=s.aggregateAdapter}get size(){return this.items.length}createQueryResponseForCount(e){const t=new _AttributesBuilder_js__WEBPACK_IMPORTED_MODULE_6__["default"](e,this.featureAdapter,this.fieldsIndex);if(!e.outStatistics)return t.countDistinctValues(this.items);const{groupByFieldsForStatistics:s,having:i}=e;if(!!!(null==s?void 0:s.length))return 1;const r=new Map,n=new Map,o=new Set,a=e.outStatistics;for(const u of a){const{statisticType:e}=u,a="exceedslimit"!==e?u.onStatisticField:void 0;if(!n.has(a)){const e=[];for(const i of s){const s=this._getAttributeValues(t,i,r);e.push(s)}n.set(a,this._calculateUniqueValues(e))}const l=n.get(a);for(const s in l){const{data:e,items:r}=l[s],n=e.join(",");i&&!t.validateItems(r,i)||o.add(n)}}return o.size}createQueryResponse(e){let t;if(e.outStatistics){t=e.outStatistics.some((e=>"exceedslimit"===e.statisticType))?this._createExceedsLimitQueryResponse(e):this._createStatisticsQueryResponse(e)}else t=this._createFeatureQueryResponse(e);return e.returnQueryGeometry&&(Object(_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_1__["isValid"])(e.outSR)&&!Object(_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_1__["equals"])(this.queryGeometry.spatialReference,e.outSR)?t.queryGeometry=Object(_utils_js__WEBPACK_IMPORTED_MODULE_7__["cleanFromGeometryEngine"])({spatialReference:e.outSR,...Object(_projectionSupport_js__WEBPACK_IMPORTED_MODULE_4__["project"])(this.queryGeometry,this.queryGeometry.spatialReference,e.outSR)}):t.queryGeometry=Object(_utils_js__WEBPACK_IMPORTED_MODULE_7__["cleanFromGeometryEngine"])({spatialReference:e.outSR,...this.queryGeometry})),t}createSnappingResponse(e,t){const s=this.featureAdapter,i=x(this.hasZ,this.hasM),{x:r,y:n}=e.point,o="number"==typeof e.distance?e.distance:e.distance.x,a="number"==typeof e.distance?e.distance:e.distance.y,u={candidates:[]},l="esriGeometryPolygon"===this.geometryType,c=this.getPointCreator(e.point,this.spatialReference,t);for(const h of this.items){const t=s.getGeometry(h);if(!t)continue;const{coords:d,lengths:f}=t;if(1&e.types){let e=0;for(let t=0;t<f.length;t++){const l=f[t];for(let t=0;t<l;t++,e+=i){const f=d[e],m=d[e+1];if(t!==l-1){const t=d[e+i],l=d[e+i+1],{x:p,y}=b(r,n,f,m,t,l),g=(r-p)/o,I=(n-y)/a,x=g*g+I*I;x<=1&&u.candidates.push({type:"edge",objectId:s.getObjectId(h),distance:Math.sqrt(x),target:c(p,y),start:c(f,m),end:c(t,l)})}}}}if(2&e.types){const e=l?d.length-i:d.length;for(let t=0;t<e;t+=i){const e=d[t],i=d[t+1],l=(r-e)/o,f=(n-i)/a,m=l*l+f*f;m<=1&&u.candidates.push({type:"vertex",objectId:s.getObjectId(h),distance:Math.sqrt(m),target:c(e,i)})}}}return u.candidates.sort(((e,t)=>e.distance-t.distance)),u}getPointCreator(t,s,r){const n=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(r)&&!Object(_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_1__["equals"])(s,r)?e=>Object(_projectionSupport_js__WEBPACK_IMPORTED_MODULE_4__["project"])(e,s,r):e=>e;return null!=t.z&&null!=t.m?(e,s)=>n({x:e,y:s,z:t.z,m:t.m}):null!=t.z?(e,s)=>n({x:e,y:s,z:t.z}):null!=t.m?(e,s)=>n({x:e,y:s,m:t.m}):(e,t)=>n({x:e,y:t})}executeAttributesQuery(e){const t=Object(_attributeSupport_js__WEBPACK_IMPORTED_MODULE_5__["getWhereClause"])(e.where,this.fieldsIndex);if(!t)return Promise.resolve(this);if(t.isStandardized){let s=0;const i=[];for(const e of this.items)t.testFeature(e,this.featureAdapter)&&(i[s++]=e);const r=new I(i,this.queryGeometry,this);return r.definitionExpression=e.where,Promise.resolve(r)}return Promise.reject(new TypeError("Where clause is not standardized"))}executeAggregateIdsQuery(e){if(!e.aggregateIds||!e.aggregateIds.length||Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isNone"])(this.aggregateAdapter))return Promise.resolve(this);const s=new Set;for(const t of e.aggregateIds){this.aggregateAdapter.getFeatureObjectIds(t).forEach((e=>s.add(e)))}const i=this.featureAdapter.getObjectId;return Promise.resolve(new I(this.items.filter((e=>s.has(i(e)))),this.queryGeometry,this))}executeObjectIdsQuery(e){if(!e.objectIds||!e.objectIds.length)return Promise.resolve(this);const t=new Set(e.objectIds),s=this.featureAdapter.getObjectId;return Promise.resolve(new I(this.items.filter((e=>t.has(s(e)))),this.queryGeometry,this))}executeTimeQuery(t){const s=Object(_timeSupport_js__WEBPACK_IMPORTED_MODULE_8__["getTimeOperator"])(this.timeInfo,t.timeExtent,this.featureAdapter);if(!Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(s))return Promise.resolve(this);const i=this.items.filter(s);return Promise.resolve(new I(i,this.queryGeometry,this))}filterLatest(){const{trackIdField:e,startTimeField:t,endTimeField:s}=this.timeInfo,i=s||t,r=new Map,n=this.featureAdapter.getAttribute;for(const a of this.items){const t=n(a,e),s=n(a,i),o=r.get(t);(!o||s>n(o,i))&&r.set(t,a)}const o=Array.from(r.values());return Promise.resolve(new I(o,this.queryGeometry,this))}async project(e){if(!e||Object(_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_1__["equals"])(this.spatialReference,e))return this;const t=this.featureAdapter,s=(await Object(_projectionSupport_js__WEBPACK_IMPORTED_MODULE_4__["projectMany"])(this.items.map((e=>Object(_utils_js__WEBPACK_IMPORTED_MODULE_7__["getGeometry"])(this.geometryType,this.hasZ,this.hasM,t.getGeometry(e)))),this.spatialReference,e)).map(((e,s)=>t.cloneWithGeometry(this.items[s],Object(_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_2__["convertFromGeometry"])(e,this.hasZ,this.hasM))));return new I(s,this.queryGeometry,{definitionExpression:this.definitionExpression,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,objectIdField:this.objectIdField,spatialReference:e,fieldsIndex:this.fieldsIndex,timeInfo:this.timeInfo,featureAdapter:this.featureAdapter})}_sortFeatures(e,t,s){if(e.length>1&&t&&t.length)for(const i of t.reverse()){const t=i.split(" "),r=t[0],n=this.fieldsIndex.get(r),o=t[1]&&"desc"===t[1].toLowerCase();e.sort(((e,t)=>g(s(e,r,n),s(t,r,n),n,o)))}}_createFeatureQueryResponse(e){const t=this.items,{geometryType:s,hasM:i,hasZ:r,objectIdField:o,spatialReference:a}=this,{outFields:u,outSR:l,quantizationParameters:h,resultRecordCount:d,resultOffset:f,returnZ:m,returnM:p}=e,y=null!=d&&t.length>(f||0)+d,g=u&&(u.indexOf("*")>-1?[...this.fieldsIndex.fields]:u.map((e=>this.fieldsIndex.get(e))));return{exceededTransferLimit:y,features:this._createFeatures(e,t),fields:g,geometryType:s,hasM:i&&p,hasZ:r&&m,objectIdFieldName:o,spatialReference:Object(_utils_js__WEBPACK_IMPORTED_MODULE_7__["cleanFromGeometryEngine"])(l||a),transform:h&&Object(_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_3__["toQuantizationTransform"])(h)||null}}_createFeatures(e,t){const s=new _AttributesBuilder_js__WEBPACK_IMPORTED_MODULE_6__["default"](e,this.featureAdapter,this.fieldsIndex),{hasM:i,hasZ:r}=this,{orderByFields:o,quantizationParameters:a,returnGeometry:u,returnCentroid:c,maxAllowableOffset:f,resultOffset:m,resultRecordCount:p,returnZ:y=!1,returnM:g=!1}=e,I=r&&y,b=i&&g;let x=[],T=0;const F=[...t];if(this._sortFeatures(F,o,((e,t,i)=>s.getFieldValue(e,t,i))),u||c){const e=Object(_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_3__["toQuantizationTransform"])(a);if(u&&!c)for(const t of F)x[T++]={attributes:s.getAttributes(t),geometry:Object(_utils_js__WEBPACK_IMPORTED_MODULE_7__["getGeometry"])(this.geometryType,this.hasZ,this.hasM,this.featureAdapter.getGeometry(t),f,e,I,b)};else if(!u&&c)for(const t of F)x[T++]={attributes:s.getAttributes(t),centroid:Object(_utils_js__WEBPACK_IMPORTED_MODULE_7__["transformCentroid"])(this,this.featureAdapter.getCentroid(t,this),e)};else for(const t of F)x[T++]={attributes:s.getAttributes(t),centroid:Object(_utils_js__WEBPACK_IMPORTED_MODULE_7__["transformCentroid"])(this,this.featureAdapter.getCentroid(t,this),e),geometry:Object(_utils_js__WEBPACK_IMPORTED_MODULE_7__["getGeometry"])(this.geometryType,this.hasZ,this.hasM,this.featureAdapter.getGeometry(t),f,e,I,b)}}else for(const n of F){const e=s.getAttributes(n);e&&(x[T++]={attributes:e})}const S=m||0;if(null!=p){const e=S+p;x=x.slice(S,Math.min(x.length,e))}return x}_createExceedsLimitQueryResponse(e){let t=!1,s=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY;for(const n of e.outStatistics)if("exceedslimit"===n.statisticType){s=null!=n.maxPointCount?n.maxPointCount:Number.POSITIVE_INFINITY,i=null!=n.maxRecordCount?n.maxRecordCount:Number.POSITIVE_INFINITY,r=null!=n.maxVertexCount?n.maxVertexCount:Number.POSITIVE_INFINITY;break}if("esriGeometryPoint"===this.geometryType)t=this.items.length>s;else if(this.items.length>i)t=!0;else{const e=this.hasZ?this.hasM?4:3:this.hasM?3:2,s=this.featureAdapter;t=this.items.reduce(((e,t)=>{const i=s.getGeometry(t);return e+(i&&i.coords.length||0)}),0)/e>r}return{fields:[{name:"exceedslimit",type:"esriFieldTypeInteger",alias:"exceedslimit",sqlType:"sqlTypeInteger",domain:null,defaultValue:null}],features:[{attributes:{exceedslimit:Number(t)}}]}}_createStatisticsQueryResponse(e){const t={attributes:{}},s=[],i=new Map,r=new Map,n=new Map,o=new Map,a=new _AttributesBuilder_js__WEBPACK_IMPORTED_MODULE_6__["default"](e,this.featureAdapter,this.fieldsIndex),u=e.outStatistics,{groupByFieldsForStatistics:c,having:h,orderByFields:d}=e,f=c&&c.length,m=!!f,p=m&&c[0],y=m&&!this.fieldsIndex.get(p);for(const l of u){const{outStatisticFieldName:e,statisticType:u}=l,d=l,g="exceedslimit"!==u?l.onStatisticField:void 0,I="percentile_disc"===u||"percentile_cont"===u,b=m&&1===f&&(g===p||y)&&"count"===u;if(m){if(!n.has(g)){const e=[];for(const t of c){const s=this._getAttributeValues(a,t,i);e.push(s)}n.set(g,this._calculateUniqueValues(e,a.returnDistinctValues))}const t=n.get(g);for(const s in t){const{count:r,data:n,items:u,itemPositions:l}=t[s],f=n.join(",");if(!h||a.validateItems(u,h)){const t=o.get(f)||{attributes:{}};let s=null;if(b)s=r;else{const e=this._getAttributeValues(a,g,i),t=l.map((t=>e[t]));s=I&&"statisticParameters"in d?this._getPercentileValue(d,t):this._getStatisticValue(d,t)}t.attributes[e]=s,c.forEach(((e,s)=>t.attributes[this.fieldsIndex.get(e)?e:`EXPR_${s+1}`]=n[s])),o.set(f,t)}}}else{const s=this._getAttributeValues(a,g,i);t.attributes[e]=I&&"statisticParameters"in d?this._getPercentileValue(d,s):this._getStatisticValue(d,s,r)}s.push({name:e,alias:e,type:"esriFieldTypeDouble"})}const g=m?Array.from(o.values()):[t];return this._sortFeatures(g,d,((e,t)=>e.attributes[t])),{fields:s,features:g}}_getStatisticValue(e,t,s){const{onStatisticField:i,statisticType:r}=e,n=s&&s.has(i)?s.get(i):this._calculateStatistics(t);s&&s.set(i,n);return n["var"===r?"variance":r]}_getPercentileValue(e,t){const{onStatisticField:s,statisticParameters:i,statisticType:r}=e,{value:n,orderBy:o}=i,a="desc"===o,u=this.fieldsIndex.get(s),l=[...t].filter((e=>null!=e)).sort(((e,t)=>g(e,t,u,a)));return this._calculatePercentile(l,n,"percentile_disc"===r)}_getAttributeValues(e,t,s){if(s.has(t))return s.get(t);const i=this.fieldsIndex.get(t),r=this.items.map((s=>e.getFieldValue(s,t,i)));return s.set(t,r),r}_calculateStatistics(e){let t=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,i=null,r=null,n=null,o=null;const a=[];let u=0;for(const l of e)"string"==typeof l?u++:null==l||isNaN(l)||(i+=l,t=Math.min(t,l),s=Math.max(s,l),a.push(l),u++);if(u){r=i/u;let e=0;for(const t of a)e+=(t-r)**2;o=u>1?e/(u-1):0,n=Math.sqrt(o)}else t=null,s=null;return{avg:r,count:u,max:s,min:t,stddev:n,sum:i,variance:o}}_calculateUniqueValues(e,t){const s={},i=this.items,r=i.length;for(let n=0;n<r;n++){const r=i[n],o=[];for(const t of e)o.push(t[n]);const a=o.join(",");t?null==s[a]&&(s[a]={count:1,data:o,items:[r],itemPositions:[n]}):null==s[a]?s[a]={count:1,data:o,items:[r],itemPositions:[n]}:(s[a].count++,s[a].items.push(r),s[a].itemPositions.push(n))}return s}_calculatePercentile(e,t,s){if(0===e.length)return null;if(t<=0)return e[0];if(t>=1)return e[e.length-1];const i=(e.length-1)*t,r=Math.floor(i),n=r+1,o=i%1,a=e[r],u=e[n];return n>=e.length||s||"string"==typeof a||"string"==typeof u?a:a*(1-o)+u*o}}function b(e,t,s,i,r,n){const o=r-s,a=n-i,u=o*o+a*a,l=(e-s)*o+(t-i)*a,c=Math.min(1,Math.max(0,l/u));return{x:s+o*c,y:i+a*c}}function x(e,t){return e?t?4:3:t?3:2}/* harmony default export */ __webpack_exports__["default"] = (I);


/***/ }),

/***/ "WRMU":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/data/AttributesBuilder.js ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/maybe.js */ "srIe");
/* harmony import */ var _attributeSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./attributeSupport.js */ "wauK");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
class a{constructor(t,a,r){this._fieldDataCache=new Map,this._returnDistinctMap=new Map,this.returnDistinctValues=t.returnDistinctValues,this.fieldsIndex=r,this.featureAdapter=a;const u=t.outFields;if(u&&-1===u.indexOf("*")){this.outFields=u;let t=0;for(const a of u){const u=Object(_attributeSupport_js__WEBPACK_IMPORTED_MODULE_1__["getExpressionFromFieldName"])(a),l=this.fieldsIndex.get(u),n=l?null:Object(_attributeSupport_js__WEBPACK_IMPORTED_MODULE_1__["getWhereClause"])(u,r),c=l?l.name:Object(_attributeSupport_js__WEBPACK_IMPORTED_MODULE_1__["getAliasFromFieldName"])(a)||"FIELD_EXP_"+t++;this._fieldDataCache.set(a,{alias:c,clause:n})}}}countDistinctValues(t){return this.returnDistinctValues?(t.forEach((t=>this.getAttributes(t))),this._returnDistinctMap.size):t.length}getAttributes(t){const e=this._processAttributesForOutFields(t);return this._processAttributesForDistinctValues(e)}getFieldValue(t,e,i){const a=i?i.name:e;let r=null;return this._fieldDataCache.has(a)?r=this._fieldDataCache.get(a).clause:i||(r=Object(_attributeSupport_js__WEBPACK_IMPORTED_MODULE_1__["getWhereClause"])(e,this.fieldsIndex),this._fieldDataCache.set(a,{alias:a,clause:r})),i?this.featureAdapter.getAttribute(t,a):r.calculateValue(t,this.featureAdapter)}validateItem(t,e){return this._fieldDataCache.has(e)||this._fieldDataCache.set(e,{alias:e,clause:Object(_attributeSupport_js__WEBPACK_IMPORTED_MODULE_1__["getWhereClause"])(e,this.fieldsIndex)}),this._fieldDataCache.get(e).clause.testFeature(t,this.featureAdapter)}validateItems(t,e){return this._fieldDataCache.has(e)||this._fieldDataCache.set(e,{alias:e,clause:Object(_attributeSupport_js__WEBPACK_IMPORTED_MODULE_1__["getWhereClause"])(e,this.fieldsIndex)}),this._fieldDataCache.get(e).clause.testSet(t,this.featureAdapter)}_processAttributesForOutFields(t){const e=this.outFields;if(!e||!e.length)return this.featureAdapter.getAttributes(t);const s={};for(const i of e){const{alias:e,clause:a}=this._fieldDataCache.get(i);s[e]=a?a.calculateValue(t,this.featureAdapter):this.featureAdapter.getAttribute(t,e)}return s}_processAttributesForDistinctValues(e){if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isNone"])(e)||!this.returnDistinctValues)return e;const s=this.outFields,i=[];if(s)for(const t of s){const{alias:s}=this._fieldDataCache.get(t);i.push(e[s])}else for(const t in e)i.push(e[t]);const a=`${(s||["*"]).join(",")}=${i.join(",")}`;let r=this._returnDistinctMap.get(a)||0;return this._returnDistinctMap.set(a,++r),r>1?null:e}}/* harmony default export */ __webpack_exports__["default"] = (a);


/***/ }),

/***/ "ZBG3":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/data/QueryEngine.js ***!
  \***********************************************************************/
/*! exports provided: default, Feature */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Feature", function() { return q; });
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/lang.js */ "f/qv");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/maybe.js */ "srIe");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Error.js */ "zlDU");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../geometry/support/spatialReferenceUtils.js */ "f4Nx");
/* harmony import */ var _geometry_support_boundsUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../geometry/support/boundsUtils.js */ "KLE9");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../geometry/support/jsonUtils.js */ "qatw");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/unitUtils.js */ "gEht");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingRect.js */ "kYAx");
/* harmony import */ var _support_PromiseQueue_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../support/PromiseQueue.js */ "MG+P");
/* harmony import */ var _geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../geometry/support/normalizeUtils.js */ "qNUd");
/* harmony import */ var _core_MemCache_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/MemCache.js */ "rvq7");
/* harmony import */ var _support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../support/FieldsIndex.js */ "gLc9");
/* harmony import */ var _QueryEngineCapabilities_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./QueryEngineCapabilities.js */ "qUyK");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingBox.js */ "QmHG");
/* harmony import */ var _projectionSupport_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./projectionSupport.js */ "HsO1");
/* harmony import */ var _attributeSupport_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./attributeSupport.js */ "wauK");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./utils.js */ "Hu/a");
/* harmony import */ var _spatialQuerySupport_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./spatialQuerySupport.js */ "Klsb");
/* harmony import */ var _timeSupport_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./timeSupport.js */ "q7ja");
/* harmony import */ var _QueryEngineResult_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./QueryEngineResult.js */ "J6ET");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function M(e){return e.every((e=>"exceedslimit"!==e.statisticType))}const P="feature-store:unsupported-query";class q{constructor(e,t=null,i,s,r){this.attributes=e,this.geometry=i,this.centroid=s,this.filterFlags=r,this.groupId=-1,this.displayId=t}}const v=new Set,N=new _core_MemCache_js__WEBPACK_IMPORTED_MODULE_10__["MemCacheStorage"](2e6);let U=0;class Z{constructor(e){this.capabilities={query:_QueryEngineCapabilities_js__WEBPACK_IMPORTED_MODULE_12__["queryCapabilities"]},this.geometryType=e.geometryType,this.hasM=e.hasM,this.hasZ=e.hasZ,this.objectIdField=e.objectIdField,this.spatialReference=e.spatialReference,this.definitionExpression=e.definitionExpression,this.featureStore=e.featureStore,this.aggregateAdapter=e.aggregateAdapter,this._changeHandle=this.featureStore.events.on("changed",(()=>this.clearCache())),this.timeInfo=e.timeInfo,e.cacheSpatialQueries&&(this._geometryQueryCache=new _core_MemCache_js__WEBPACK_IMPORTED_MODULE_10__["MemCache"](U+++"$$",N)),this.fieldsIndex=new _support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_11__["default"](e.fields),e.scheduler&&e.task&&(this._frameQueue=new _support_PromiseQueue_js__WEBPACK_IMPORTED_MODULE_8__["default"],this._frameTask=e.scheduler.registerTask(e.task,(e=>this._update(e)),(()=>this._frameQueue.length>0)))}destroy(){this._frameTask&&(this._frameTask.remove(),this._frameTask=null,this._frameQueue.cancelAll(),this._frameQueue=null),this.clearCache(),this._geometryQueryCache&&this._geometryQueryCache.destroy(),this._changeHandle&&(this._changeHandle.remove(),this._changeHandle=null),this.fieldsIndex.destroy()}get featureAdapter(){return this.featureStore.featureAdapter}get fullExtent(){const e=this.featureStore.fullBounds;return e?{xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:Object(_utils_js__WEBPACK_IMPORTED_MODULE_16__["cleanFromGeometryEngine"])(this.spatialReference)}:null}get timeExtent(){return this.timeInfo?(this._timeExtent||(this._timeExtent=Object(_timeSupport_js__WEBPACK_IMPORTED_MODULE_18__["getTimeExtent"])(this.timeInfo,this.featureStore)),this._timeExtent):null}clearCache(){this._geometryQueryCache&&this._geometryQueryCache.clear(),this._allItems=null,this._timeExtent=null}async executeQuery(t={},i){let s,r=Object(_core_lang_js__WEBPACK_IMPORTED_MODULE_0__["clone"])(t);try{r=await this._schedule((()=>Object(_utils_js__WEBPACK_IMPORTED_MODULE_16__["normalizeQuery"])(r,this.definitionExpression,this.spatialReference)),i),r=await this._reschedule((()=>this._checkQuerySupport(r)),i),s=await this._reschedule((()=>this._executeGeometryQuery(r,i)),i),s=await this._reschedule((()=>s.executeAggregateIdsQuery(r)),i),s=await this._reschedule((()=>s.executeObjectIdsQuery(r)),i),s=await this._reschedule((()=>s.executeTimeQuery(r)),i),s=await this._reschedule((()=>s.executeAttributesQuery(r)),i)}catch(a){if(a!==_utils_js__WEBPACK_IMPORTED_MODULE_16__["QUERY_ENGINE_EMPTY_RESULT"])throw a;s=new _QueryEngineResult_js__WEBPACK_IMPORTED_MODULE_19__["default"]([],null,this)}return s.createQueryResponse(r)}async executeQueryForCount(t={},i){let s,r=Object(_core_lang_js__WEBPACK_IMPORTED_MODULE_0__["clone"])(t);r.returnGeometry=!1,r.returnCentroid=!1,r.outSR=null;try{r=await this._schedule((()=>Object(_utils_js__WEBPACK_IMPORTED_MODULE_16__["normalizeQuery"])(r,this.definitionExpression,this.spatialReference)),i),r=await this._reschedule((()=>this._checkQuerySupport(r)),i),s=await this._reschedule((()=>this._executeGeometryQuery(r,i)),i),s=await this._reschedule((()=>s.executeAggregateIdsQuery(r)),i),s=await this._reschedule((()=>s.executeObjectIdsQuery(r)),i),s=await this._reschedule((()=>s.executeTimeQuery(r)),i),s=await this._reschedule((()=>s.executeAttributesQuery(r)),i)}catch(a){if(a!==_utils_js__WEBPACK_IMPORTED_MODULE_16__["QUERY_ENGINE_EMPTY_RESULT"])throw a;return 0}return s.createQueryResponseForCount(r)}async executeQueryForExtent(t={},i){let s,r=Object(_core_lang_js__WEBPACK_IMPORTED_MODULE_0__["clone"])(t);const a=r.outSR;try{r=await this._schedule((()=>Object(_utils_js__WEBPACK_IMPORTED_MODULE_16__["normalizeQuery"])(r,this.definitionExpression,this.spatialReference)),i),r=await this._reschedule((()=>this._checkQuerySupport(r)),i),r.returnGeometry=!0,r.returnCentroid=!1,r.outSR=null,s=await this._reschedule((()=>this._executeGeometryQuery(r,i)),i),s=await this._reschedule((()=>s.executeAggregateIdsQuery(r)),i),s=await this._reschedule((()=>s.executeObjectIdsQuery(r)),i),s=await this._reschedule((()=>s.executeTimeQuery(r)),i),s=await this._reschedule((()=>s.executeAttributesQuery(r)),i);const e=s.size;if(!e)return{count:e,extent:null};Object(_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_13__["set"])(J,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_13__["NEGATIVE_INFINITY"]),this.featureStore.forEachBounds(s.items,(e=>Object(_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_13__["expandWithAABB"])(J,e)),H);const t={xmin:J[0],ymin:J[1],xmax:J[3],ymax:J[4],spatialReference:Object(_utils_js__WEBPACK_IMPORTED_MODULE_16__["cleanFromGeometryEngine"])(this.spatialReference)};this.hasZ&&isFinite(J[2])&&isFinite(J[5])&&(t.zmin=J[2],t.zmax=J[5]);const n=Object(_projectionSupport_js__WEBPACK_IMPORTED_MODULE_14__["project"])(t,s.spatialReference,a);if(n.spatialReference=Object(_utils_js__WEBPACK_IMPORTED_MODULE_16__["cleanFromGeometryEngine"])(a||this.spatialReference),n.xmax-n.xmin==0){const e=Object(_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_6__["getMetersPerUnitForSR"])(n.spatialReference);n.xmin-=e,n.xmax+=e}if(n.ymax-n.ymin==0){const e=Object(_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_6__["getMetersPerUnitForSR"])(n.spatialReference);n.ymin-=e,n.ymax+=e}if(this.hasZ&&null!=n.zmin&&null!=n.zmax&&n.zmax-n.zmin==0){const e=Object(_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_6__["getMetersPerUnitForSR"])(n.spatialReference);n.zmin-=e,n.zmax+=e}return{count:e,extent:n}}catch(n){if(n===_utils_js__WEBPACK_IMPORTED_MODULE_16__["QUERY_ENGINE_EMPTY_RESULT"])return{count:0,extent:null};throw n}}async executeQueryForIds(e={},t){return this.executeQueryForIdSet(e,t).then((e=>Array.from(e)))}async executeQueryForIdSet(t={},i){let s,r=Object(_core_lang_js__WEBPACK_IMPORTED_MODULE_0__["clone"])(t);r.returnGeometry=!1,r.returnCentroid=!1,r.outSR=null;try{r=await this._schedule((()=>Object(_utils_js__WEBPACK_IMPORTED_MODULE_16__["normalizeQuery"])(r,this.definitionExpression,this.spatialReference)),i),r=await this._reschedule((()=>this._checkQuerySupport(r)),i),s=await this._reschedule((()=>this._executeGeometryQuery(r,i)),i),s=await this._reschedule((()=>s.executeAggregateIdsQuery(r)),i),s=await this._reschedule((()=>s.executeObjectIdsQuery(r)),i),s=await this._reschedule((()=>s.executeTimeQuery(r)),i),s=await this._reschedule((()=>s.executeAttributesQuery(r)),i);const e=s.items,t=new Set;return await this._reschedule((()=>{for(const i of e)t.add(s.featureAdapter.getObjectId(i))}),i),t}catch(a){if(a===_utils_js__WEBPACK_IMPORTED_MODULE_16__["QUERY_ENGINE_EMPTY_RESULT"])return new Set;throw a}}async executeQueryForSnapping(e,i){const{point:s,distance:a,types:n}=e;if(0===n)return{candidates:[]};const o=await this._reschedule((()=>this._checkQuerySupport(e.query)),i),c=!Object(_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_3__["equals"])(s.spatialReference,this.spatialReference);c&&await Object(_projectionSupport_js__WEBPACK_IMPORTED_MODULE_14__["checkProjectionSupport"])(s.spatialReference,this.spatialReference);const h="number"==typeof a?a:a.x,l="number"==typeof a?a:a.y,d={xmin:s.x-h,xmax:s.x+h,ymin:s.y-l,ymax:s.y+l,spatialReference:s.spatialReference},m=c?Object(_projectionSupport_js__WEBPACK_IMPORTED_MODULE_14__["project"])(d,this.spatialReference):d;if(!m)return{candidates:[]};const p=(await Object(_geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_9__["normalizeCentralMeridian"])(Object(_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_5__["fromJSON"])(s),null,{signal:i}))[0],y=(await Object(_geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_9__["normalizeCentralMeridian"])(Object(_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_5__["fromJSON"])(m),null,{signal:i}))[0];if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__["isNone"])(p)||Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__["isNone"])(y))return{candidates:[]};let _=new _QueryEngineResult_js__WEBPACK_IMPORTED_MODULE_19__["default"](this._searchFeatures(this._getQueryBBoxes(y.toJSON())),null,this);_=await this._reschedule((()=>_.executeObjectIdsQuery(o)),i),_=await this._reschedule((()=>_.executeTimeQuery(o)),i),_=await this._reschedule((()=>_.executeAttributesQuery(o)),i);const x=p.toJSON(),g=c?Object(_projectionSupport_js__WEBPACK_IMPORTED_MODULE_14__["project"])(x,this.spatialReference):x,w=c?Math.max(m.xmax-m.xmin,m.ymax-m.ymin)/2:a;return _.createSnappingResponse({...e,point:g,distance:w},s.spatialReference)}async executeQueryForLatestObservations(t={},i){if(!this.timeInfo||!this.timeInfo.trackIdField)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"](P,"Missing timeInfo or timeInfo.trackIdField",{query:t,timeInfo:this.timeInfo});let r,a=Object(_core_lang_js__WEBPACK_IMPORTED_MODULE_0__["clone"])(t);try{a=await this._schedule((()=>Object(_utils_js__WEBPACK_IMPORTED_MODULE_16__["normalizeQuery"])(a,this.definitionExpression,this.spatialReference)),i),a=await this._reschedule((()=>this._checkQuerySupport(a)),i),r=await this._reschedule((()=>this._executeGeometryQuery(a,i)),i),r=await this._reschedule((()=>r.executeAggregateIdsQuery(a)),i),r=await this._reschedule((()=>r.executeObjectIdsQuery(a)),i),r=await this._reschedule((()=>r.executeTimeQuery(a)),i),r=await this._reschedule((()=>r.executeAttributesQuery(a)),i),r=await this._reschedule((()=>r.filterLatest()),i)}catch(n){if(n!==_utils_js__WEBPACK_IMPORTED_MODULE_16__["QUERY_ENGINE_EMPTY_RESULT"])throw n;r=new _QueryEngineResult_js__WEBPACK_IMPORTED_MODULE_19__["default"]([],null,this)}return r.createQueryResponse(a)}async _schedule(e,t){return this._frameQueue?this._frameQueue.push(e,t):e()}async _reschedule(e,t){return this._frameQueue?this._frameQueue.unshift(e,t):e()}_update(e){for(this._budget=e;!e.done&&this._frameQueue&&this._frameQueue.process();)e.madeProgress();this._budget=null}_getAll(){if(!this._allItems){const e=[];this.featureStore.forEach((t=>e.push(t))),this._allItems=new _QueryEngineResult_js__WEBPACK_IMPORTED_MODULE_19__["default"](e,null,this)}return this._allItems}async _executeGeometryQuery(e,t){const{geometry:s,outSR:n,spatialRel:u,returnGeometry:o,returnCentroid:c}=e,h=o||c,l=Object(_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_3__["isValid"])(n)&&!Object(_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_3__["equals"])(this.spatialReference,n),d=this._geometryQueryCache?l&&h?JSON.stringify({geometry:s,spatialRelationship:u,outSpatialReference:n}):JSON.stringify({geometry:s,spatialRelationship:u}):null;if(d){const e=this._geometryQueryCache.get(d);if(!Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__["isUndefined"])(e))return e}const m=async e=>{if(l&&h){const t=await e.project(n);return d&&this._geometryQueryCache.put(d,t,t.size||1),t}return d&&this._geometryQueryCache.put(d,e,e.size||1),e};if(!s)return m(this._getAll());const f=this.featureAdapter;if("esriSpatialRelDisjoint"===u){const e=this._searchFeatures(this._getQueryBBoxes(s));if(!e.length)return m(this._getAll());let i,r;const a=new Set;for(const t of e)a.add(f.getObjectId(t));await this._reschedule((()=>{let e=0;i=new Array(a.size),this.featureStore.forEach((t=>i[e++]=t)),r=a}),t);return m(await this._reschedule((async()=>{const e=await Object(_spatialQuerySupport_js__WEBPACK_IMPORTED_MODULE_17__["getSpatialQueryOperator"])(u,s,this.geometryType,this.hasZ,this.hasM),a=t=>!r.has(f.getObjectId(t))||e(f.getGeometry(t));return new _QueryEngineResult_js__WEBPACK_IMPORTED_MODULE_19__["default"](await this._runSpatialFilter(i,a,t),s,this)}),t))}const p=this._searchFeatures(this._getQueryBBoxes(s));if(!p.length){const e=new _QueryEngineResult_js__WEBPACK_IMPORTED_MODULE_19__["default"]([],s,this);return d&&this._geometryQueryCache.put(d,e,e.size||1),e}if(this._canExecuteSoloPass(s,e))return m(new _QueryEngineResult_js__WEBPACK_IMPORTED_MODULE_19__["default"](p,s,this));const y=await Object(_spatialQuerySupport_js__WEBPACK_IMPORTED_MODULE_17__["getSpatialQueryOperator"])(u,s,this.geometryType,this.hasZ,this.hasM),_=await this._runSpatialFilter(p,(e=>y(f.getGeometry(e))),t);return m(new _QueryEngineResult_js__WEBPACK_IMPORTED_MODULE_19__["default"](_,s,this))}async _runSpatialFilter(e,t,i){if(!t)return e;if(!this._budget)return e.filter((e=>t(e)));let s=0;const r=new Array,a=async()=>{for(;s<e.length;){const n=e[s];t(n)&&r.push(n),this._budget.done&&await this._reschedule((()=>a()),i),++s}};return this._reschedule((()=>a()),i).then((()=>r))}_canExecuteSoloPass(e,t){const{geometryType:i}=this,{spatialRel:s}=t;return Object(_spatialQuerySupport_js__WEBPACK_IMPORTED_MODULE_17__["canQueryWithRBush"])(e)&&("esriSpatialRelEnvelopeIntersects"===s||"esriGeometryPoint"===i&&("esriSpatialRelIntersects"===s||"esriSpatialRelContains"===s||"esriSpatialRelWithin"===s))}_getQueryBBoxes(e){if(Object(_spatialQuerySupport_js__WEBPACK_IMPORTED_MODULE_17__["canQueryWithRBush"])(e)){if(Object(_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_5__["isExtent"])(e))return[Object(_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_7__["fromValues"])(e.xmin,e.ymin,e.xmax,e.ymax)];if(Object(_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_5__["isPolygon"])(e))return e.rings.map((e=>Object(_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_7__["fromValues"])(Math.min(e[0][0],e[2][0]),Math.min(e[0][1],e[2][1]),Math.max(e[0][0],e[2][0]),Math.max(e[0][1],e[2][1]))))}return[Object(_geometry_support_boundsUtils_js__WEBPACK_IMPORTED_MODULE_4__["getBoundsXY"])(Object(_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_7__["create"])(),e)]}_searchFeatures(e){for(const s of e)this.featureStore.forEachInBounds(s,(e=>{v.add(e)}));const t=new Array(v.size);let i=0;return v.forEach((e=>t[i++]=e)),v.clear(),t}async _checkQuerySupport(e){if(e.distance<0||null!=e.geometryPrecision||e.multipatchOption||e.pixelSize||e.relationParam||e.text)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"](P,"Unsupported query options",{query:e});return Promise.all([this._checkAttributesQuerySupport(e),this._checkStatisticsQuerySupport(e),Object(_spatialQuerySupport_js__WEBPACK_IMPORTED_MODULE_17__["checkSpatialQuerySupport"])(e,this.geometryType,this.spatialReference),Object(_projectionSupport_js__WEBPACK_IMPORTED_MODULE_14__["checkProjectionSupport"])(this.spatialReference,e.outSR)]).then((()=>e))}_checkAttributesQuerySupport(e){const{outFields:t,orderByFields:i,returnDistinctValues:r,outStatistics:a}=e,n=a?a.map((e=>e.outStatisticFieldName&&e.outStatisticFieldName.toLowerCase())):[];if(i&&i.length>0){const e=" asc",t=" desc",s=i.map((i=>{const s=i.toLowerCase();return s.indexOf(e)>-1?s.split(e)[0]:s.indexOf(t)>-1?s.split(t)[0]:i})).filter((e=>-1===n.indexOf(e)));Object(_attributeSupport_js__WEBPACK_IMPORTED_MODULE_15__["validateFields"])(this.fieldsIndex,s,"orderByFields contains missing fields")}if(t&&t.length>0)Object(_attributeSupport_js__WEBPACK_IMPORTED_MODULE_15__["validateFields"])(this.fieldsIndex,t,"outFields contains missing fields");else if(r)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"](P,"outFields should be specified for returnDistinctValues",{query:e});Object(_attributeSupport_js__WEBPACK_IMPORTED_MODULE_15__["validateWhere"])(this.fieldsIndex,e.where)}async _checkStatisticsQuerySupport(e){const{outStatistics:t,groupByFieldsForStatistics:i,having:r}=e,a=i&&i.length,n=t&&t.length;if(r){if(!a||!n)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"](P,"outStatistics and groupByFieldsForStatistics should be specified with having",{query:e});Object(_attributeSupport_js__WEBPACK_IMPORTED_MODULE_15__["validateHaving"])(this.fieldsIndex,r,t)}if(n){if(!M(t))return;const r=t.map((e=>e.onStatisticField));Object(_attributeSupport_js__WEBPACK_IMPORTED_MODULE_15__["validateFields"])(this.fieldsIndex,r,"onStatisticFields contains missing fields"),a&&Object(_attributeSupport_js__WEBPACK_IMPORTED_MODULE_15__["validateFields"])(this.fieldsIndex,i,"groupByFieldsForStatistics contains missing fields");for(const i of t){const{onStatisticField:t,statisticType:r}=i;if(("percentile_disc"===r||"percentile_cont"===r)&&"statisticParameters"in i){const{statisticParameters:t}=i;if(!t)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"](P,"statisticParamters should be set for percentile type",{definition:i,query:e})}else if("count"!==r&&t&&Object(_attributeSupport_js__WEBPACK_IMPORTED_MODULE_15__["hasInvalidFieldType"])(t,this.fieldsIndex))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"](P,"outStatistics contains non-numeric fields",{definition:i,query:e})}}}}const H=Object(_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_13__["create"])(),J=Object(_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_13__["create"])();/* harmony default export */ __webpack_exports__["default"] = (Z);


/***/ }),

/***/ "qUyK":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/data/QueryEngineCapabilities.js ***!
  \***********************************************************************************/
/*! exports provided: queryCapabilities */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "queryCapabilities", function() { return t; });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const t={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0};


/***/ }),

/***/ "wauK":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/data/attributeSupport.js ***!
  \****************************************************************************/
/*! exports provided: getAliasFromFieldName, getExpressionFromFieldName, getWhereClause, hasInvalidFieldType, validateFields, validateHaving, validateWhere */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAliasFromFieldName", function() { return u; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getExpressionFromFieldName", function() { return d; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getWhereClause", function() { return l; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hasInvalidFieldType", function() { return f; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "validateFields", function() { return c; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "validateHaving", function() { return a; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "validateWhere", function() { return o; });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/Error.js */ "zlDU");
/* harmony import */ var _core_sql_WhereClauseCache_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/sql/WhereClauseCache.js */ "3pdw");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const s=new _core_sql_WhereClauseCache_js__WEBPACK_IMPORTED_MODULE_1__["WhereClauseCache"](50,500),n="feature-store:unsupported-query",t=" as ",r=new Set(["esriFieldTypeOID","esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeLong","esriFieldTypeDate"]);function o(i,t){if(!t)return!0;const r=s.get(t,i);if(!r)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](n,"invalid SQL expression",{where:t});if(!r.isStandardized)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](n,"where clause is not standard",{where:t});return c(i,r.fieldNames,"where clause contains missing fields"),!0}function a(i,t,r){if(!t)return!0;const o=s.get(t,i);if(!o)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](n,"invalid SQL expression",{having:t});if(!o.isAggregate)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](n,"having does not contain a valid aggregate function",{having:t});const a=o.fieldNames;c(i,a,"having contains missing fields");if(!o.getExpressions().every((e=>{const{aggregateType:s,field:n}=e,t=i.has(n)&&i.get(n).name;return r.some((e=>{const{onStatisticField:n,statisticType:r}=e;return(i.has(n)&&i.get(n).name)===t&&r.toLowerCase().trim()===s}))})))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](n,"expressions in having should also exist in outStatistics",{having:t});return!0}function l(e,i){return e?s.get(e,i):null}function c(i,s,t,r=!0){const o=[];for(const u of s)if("*"!==u&&!i.has(u))if(r){const s=d(u);try{const t=l(s,i);if(!t)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](n,"invalid SQL expression",{where:s});if(!t.isStandardized)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](n,"expression is not standard",{clause:t});c(i,t.fieldNames,"expression contains missing fields")}catch(a){const e=a&&a.details;if(e&&(e.clause||e.where))throw a;e&&e.missingFields?o.push(...e.missingFields):o.push(u)}}else o.push(u);if(o.length)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](n,t,{missingFields:o})}function d(e){return e.split(t)[0]}function u(e){return e.split(t)[1]}function f(e,i){const s=i.get(e);return!!s&&!r.has(s.type)}


/***/ })

}]);
//# sourceMappingURL=default~layers-graphics-sources-geojson-GeoJSONSourceWorker-js~layers-graphics-sources-support-CSVSo~e78945b1.js.map