(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["default~layers-GeoRSSLayerView2D-js~layers-GraphicsLayerView2D-js~layers-ImageryLayerView2D-js~layer~10c99bf7"],{

/***/ "QFw1":
/*!************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/SDFHelper.js ***!
  \************************************************************/
/*! exports provided: buildSDF, getExtent, getSDFInfo, getSDFMetrics, getSDFSymbol */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "buildSDF", function() { return a; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getExtent", function() { return f; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSDFInfo", function() { return r; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSDFMetrics", function() { return m; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSDFSymbol", function() { return l; });
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../geometry/support/jsonUtils.js */ "qatw");
/* harmony import */ var _Rect_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Rect.js */ "Du6U");
/* harmony import */ var _packingUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./packingUtils.js */ "X4zr");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function r(t){if(!t)return null;switch(t.type){case"CIMPointSymbol":{const n=t.symbolLayers;return n&&1===n.length?r(n[0]):null}case"CIMVectorMarker":{const n=t.markerGraphics;if(!n||1!==n.length)return null;const o=n[0];if(!o)return null;const r=o.geometry;if(!r)return null;const l=o.symbol;return!l||"CIMPolygonSymbol"!==l.type&&"CIMLineSymbol"!==l.type?null:{geom:r,asFill:"CIMPolygonSymbol"===l.type}}case"sdf":return{geom:t.geom,asFill:t.asFill}}return null}function l(t){const n=t.markerGraphics;if(!n||1!==n.length)return null;const o=n[0];if(!o)return null;const r=o.symbol;return!r||"CIMPolygonSymbol"!==r.type&&"CIMLineSymbol"!==r.type?null:r}function e(t){return t?t.rings?t.rings:t.paths?t.paths:void 0!==t.xmin&&void 0!==t.ymin&&void 0!==t.xmax&&void 0!==t.ymax?[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]]:null:null}function i(t){let o=1/0,r=-1/0,l=1/0,e=-1/0;for(const n of t)for(const t of n)t[0]<o&&(o=t[0]),t[0]>r&&(r=t[0]),t[1]<l&&(l=t[1]),t[1]>e&&(e=t[1]);return new _Rect_js__WEBPACK_IMPORTED_MODULE_1__["default"](o,l,r-o,e-l)}function s(t){let n=1/0,o=-1/0,r=1/0,l=-1/0;for(const e of t)for(const t of e)t[0]<n&&(n=t[0]),t[0]>o&&(o=t[0]),t[1]<r&&(r=t[1]),t[1]>l&&(l=t[1]);return[n,r,o,l]}function f(n){return n?n.rings?s(n.rings):n.paths?s(n.paths):Object(_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__["isExtent"])(n)?[n.xmin,n.ymin,n.xmax,n.ymax]:null:null}function m(t,n,o,r,l){const[e,i,s,f]=t;if(s<e||f<i)return[0,0,0];const m=s-e,a=f-i,c=128,u=1,y=Math.floor(.5*(.5*c-u)),h=(c-2*(y+u))/Math.max(m,a),x=Math.round(m*h)+2*y,M=Math.round(a*h)+2*y;let g=1;if(n){g=M/h/(n.ymax-n.ymin)}let p=0,d=0;if(r)if(l){if(n&&o&&n.ymax-n.ymin>0){const t=(n.xmax-n.xmin)/(n.ymax-n.ymin);p=r.x/(o*t),d=r.y/o}}else p=r.x,d=r.y;p=.5*(n.xmax+n.xmin)+p*(n.xmax-n.xmin),d=.5*(n.ymax+n.ymin)+d*(n.ymax-n.ymin),p-=e,d-=i,p*=h,d*=h,p+=y,d+=y;return[g,p/x-.5,-(d/M-.5)]}function a(t){const n=e(t.geom),o=i(n),r=128,l=1,s=Math.floor(.5*(.5*r-l)),f=(r-2*(s+l))/Math.max(o.width,o.height),m=Math.round(o.width*f)+2*s,a=Math.round(o.height*f)+2*s,h=[];for(const e of n)if(e&&e.length>1){const n=[];for(const t of e){let[r,l]=t;r-=o.x,l-=o.y,r*=f,l*=f,r+=s-.5,l+=s-.5,n.push([r,l])}if(t.asFill){const t=n.length-1;n[0][0]===n[t][0]&&n[0][1]===n[t][1]||n.push(n[0])}h.push(n)}const x=c(h,m,a,s);return t.asFill&&u(h,m,a,s,x),[y(x,s),m,a]}function c(t,n,o,r){const l=n*o,e=new Array(l),i=r*r+1;for(let s=0;s<l;++s)e[s]=i;for(const s of t){const t=s.length;for(let l=1;l<t;++l){const t=s[l-1],i=s[l];let f,m,a,c;t[0]<i[0]?(f=t[0],m=i[0]):(f=i[0],m=t[0]),t[1]<i[1]?(a=t[1],c=i[1]):(a=i[1],c=t[1]);let u=Math.floor(f)-r,y=Math.floor(m)+r,h=Math.floor(a)-r,x=Math.floor(c)+r;u<0&&(u=0),y>n&&(y=n),h<0&&(h=0),x>o&&(x=o);const M=i[0]-t[0],g=i[1]-t[1],p=M*M+g*g;for(let r=u;r<y;r++)for(let l=h;l<x;l++){let s,f,m=(r-t[0])*M+(l-t[1])*g;m<0?(s=t[0],f=t[1]):m>p?(s=i[0],f=i[1]):(m/=p,s=t[0]+m*M,f=t[1]+m*g);const a=(r-s)*(r-s)+(l-f)*(l-f),c=(o-l-1)*n+r;a<e[c]&&(e[c]=a)}}}for(let s=0;s<l;++s)e[s]=Math.sqrt(e[s]);return e}function u(t,n,o,r,l){for(const e of t){const t=e.length;for(let i=1;i<t;++i){const t=e[i-1],s=e[i];let f,m,a,c;t[0]<s[0]?(f=t[0],m=s[0]):(f=s[0],m=t[0]),t[1]<s[1]?(a=t[1],c=s[1]):(a=s[1],c=t[1]);let u=Math.floor(f),y=Math.floor(m)+1,h=Math.floor(a),x=Math.floor(c)+1;u<r&&(u=r),y>n-r&&(y=n-r),h<r&&(h=r),x>o-r&&(x=o-r);for(let e=h;e<x;++e){if(t[1]>e==s[1]>e)continue;const i=(o-e-1)*n;for(let n=u;n<y;++n)n<(s[0]-t[0])*(e-t[1])/(s[1]-t[1])+t[0]&&(l[i+n]=-l[i+n]);for(let t=r;t<u;++t)l[i+t]=-l[i+t]}}}}function y(t,n){const r=2*n,l=t.length,e=new Uint8Array(4*l);for(let i=0;i<l;++i){const n=.5-t[i]/r;Object(_packingUtils_js__WEBPACK_IMPORTED_MODULE_2__["packFloatRGBA"])(n,e,4*i)}return e}


/***/ }),

/***/ "T8sT":
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/cimAnalyzer.js ***!
  \**************************************************************/
/*! exports provided: analyzeCIMResource, analyzeCIMSymbol */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "analyzeCIMResource", function() { return T; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "analyzeCIMSymbol", function() { return k; });
/* harmony import */ var _core_string_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/string.js */ "s7YA");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Logger.js */ "6S2I");
/* harmony import */ var _support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../support/arcadeOnDemand.js */ "gvqN");
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../Color.js */ "nvBr");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/screenUtils.js */ "qRWG");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils.js */ "NrhG");
/* harmony import */ var _views_2d_arcade_callExpressionWithFeature_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../views/2d/arcade/callExpressionWithFeature.js */ "ictz");
/* harmony import */ var _CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./CIMSymbolHelper.js */ "eT81");
/* harmony import */ var _SDFHelper_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./SDFHelper.js */ "QFw1");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const u=_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger("esri.symbols.cim.cimAnalyzer");function y(e){switch(e){case"Butt":return 0;case"Square":return 2;case"Round":default:return 1}}function h(e){switch(e){case"Bevel":return 0;case"Miter":return 2;case"Round":default:return 1}}function g(e){switch(e){case"Left":default:return"left";case"Right":return"right";case"Center":return"center";case"Justify":return"justify"}}function d(e){switch(e){case"Top":default:return"top";case"Center":return"middle";case"Baseline":return"baseline";case"Bottom":return"bottom"}}function S(e){let t="normal",i="normal";if(e){const o=e.toLowerCase();-1!==o.indexOf("italic")?t="italic":-1!==o.indexOf("oblique")&&(t="oblique"),-1!==o.indexOf("bold")?i="bold":-1!==o.indexOf("light")&&(i="lighter")}return{style:t,weight:i}}function v(e){return e.underline?"underline":e.strikethrough?"line-through":"none"}function b(e,t,i,o){let r;e[t]?r=e[t]:(r={},e[t]=r),r[i]=o}function N(e){const t=e.markerPlacement;return t&&t.angleToLine?1:0}async function k(e,t,o,r){const n=o||[];if(!e)return n;let a,l;const s={};if("CIMSymbolReference"!==e.type)return u.error("Expect cim type to be 'CIMSymbolReference'"),n;if(a=e.symbol,l=e.primitiveOverrides,l){const e=[];for(const o of l){const r=o.valueExpressionInfo;if(r&&t){const n=r.expression,a=Object(_support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_2__["createRendererExpression"])(n,t.spatialReference,t.fields).then((e=>{e&&b(s,o.primitiveName,o.propertyName,e)}));e.push(a)}else null!=o.value&&b(s,o.primitiveName,o.propertyName,o.value)}await Promise.all(e)}switch(a.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":O(a,l,s,t,n,r)}return n}function O(e,t,i,o,r,n){if(!e)return;const a=e.symbolLayers;if(!a)return;let l;const s=_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_7__["CIMSymbolHelper"].getSize(e);"CIMPointSymbol"===e.type&&"Map"===e.angleAlignment&&(l=1);let m=a.length;for(;m--;){const c=a[m];if(!c||!1===c.enable)continue;const p=[];switch(_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_7__["OverrideHelper"].findApplicableOverrides(c,t,p),c.type){case"CIMSolidFill":C(c,i,p,o,r);break;case"CIMPictureFill":P(c,i,p,o,r);break;case"CIMHatchFill":L(c,i,p,o,r);break;case"CIMGradientFill":M(c,i,p,o,r);break;case"CIMSolidStroke":X(c,i,p,o,r,"CIMPolygonSymbol"===e.type,s);break;case"CIMPictureStroke":I(c,i,p,o,r,"CIMPolygonSymbol"===e.type,s);break;case"CIMGradientStroke":x(c,i,p,o,r,"CIMPolygonSymbol"===e.type,s);break;case"CIMCharacterMarker":if(w(c,i,p,o,r))break;break;case"CIMPictureMarker":if(w(c,i,p,o,r))break;"CIMLineSymbol"===e.type&&(l=N(c)),z(c,i,p,o,r,l,s);break;case"CIMVectorMarker":if(w(c,i,p,o,r))break;"CIMLineSymbol"===e.type&&(l=N(c)),J(c,i,p,o,r,l,s,n);break;default:u.error("Cannot analyze CIM layer",c.type)}}}function C(t,i,o,r,n){const l=t.primitiveName,s=Object(_utils_js__WEBPACK_IMPORTED_MODULE_5__["fromCIMColor"])(t.color),c=Object(_core_string_js__WEBPACK_IMPORTED_MODULE_0__["numericHash"])(JSON.stringify(t)).toString();n.push({type:"fill",templateHash:c,materialHash:0===o.length?c:()=>c,cim:t,materialOverrides:null,colorLocked:t.colorLocked,color:F(l,i,"Color",r,s,j),height:0,angle:0,offsetX:0,offsetY:0,scaleX:1,effects:t.effects})}function P(t,i,o,r,n){const l=t.primitiveName,s=t.tintColor?Object(_utils_js__WEBPACK_IMPORTED_MODULE_5__["fromCIMColor"])(t.tintColor):{r:255,g:255,b:255,a:1},c=Object(_core_string_js__WEBPACK_IMPORTED_MODULE_0__["numericHash"])(JSON.stringify(t)).toString(),f=Object(_core_string_js__WEBPACK_IMPORTED_MODULE_0__["numericHash"])(`${t.url}${JSON.stringify(t.colorSubstitutions)}`).toString();n.push({type:"fill",templateHash:c,materialHash:0===o.length?f:()=>f,cim:t,materialOverrides:null,colorLocked:t.colorLocked,effects:t.effects,color:F(l,i,"TintColor",r,s,j),height:F(l,i,"Height",r,t.height),scaleX:F(l,i,"ScaleX",r,t.scaleX),angle:F(l,i,"Rotation",r,t.rotation),offsetX:F(l,i,"OffsetX",r,t.offsetX),offsetY:F(l,i,"OffsetY",r,t.offsetY)})}function L(t,i,o,r,n){const a=["Rotation","OffsetX","OffsetY"],l=o.filter((e=>e.primitiveName!==t.primitiveName&&-1===a.indexOf(e.propertyName))),s=t.primitiveName,c=Object(_core_string_js__WEBPACK_IMPORTED_MODULE_0__["numericHash"])(JSON.stringify(t)).toString(),f=Object(_core_string_js__WEBPACK_IMPORTED_MODULE_0__["numericHash"])(`${t.separation}${JSON.stringify(t.lineSymbol)}`).toString();n.push({type:"fill",templateHash:c,materialHash:0===o.length?f:W(f,i,l,r),cim:t,materialOverrides:l,colorLocked:t.colorLocked,effects:t.effects,color:{r:255,g:255,b:255,a:1},height:F(s,i,"Separation",r,t.separation),scaleX:1,angle:F(s,i,"Rotation",r,t.rotation),offsetX:F(s,i,"OffsetX",r,t.offsetX),offsetY:F(s,i,"OffsetY",r,t.offsetY)})}function M(t,i,o,r,n){const a=Object(_core_string_js__WEBPACK_IMPORTED_MODULE_0__["numericHash"])(JSON.stringify(t)).toString();n.push({type:"fill",templateHash:a,materialHash:0===o.length?a:W(a,i,o,r),cim:t,materialOverrides:null,colorLocked:t.colorLocked,effects:t.effects,color:{r:128,g:128,b:128,a:1},height:0,angle:0,offsetX:0,offsetY:0,scaleX:1})}function X(t,i,o,r,n,l,s){const c=Object(_core_string_js__WEBPACK_IMPORTED_MODULE_0__["numericHash"])(JSON.stringify(t)).toString(),f=t.primitiveName,m=Object(_utils_js__WEBPACK_IMPORTED_MODULE_5__["fromCIMColor"])(t.color),p=void 0!==t.width?t.width:4,u=y(t.capStyle),g=h(t.joinStyle),d=t.miterLimit;n.push({type:"line",templateHash:c,materialHash:0===o.length?c:()=>c,cim:t,materialOverrides:null,isOutline:l,colorLocked:t.colorLocked,effects:t.effects,color:F(f,i,"Color",r,m,j),width:F(f,i,"Width",r,p),cap:F(f,i,"CapStyle",r,u),join:F(f,i,"JoinStyle",r,g),miterLimit:F(f,i,"MiterLimit",r,d),referenceWidth:s,zOrder:A(t.name),isDashed:!1})}function I(t,i,o,r,n,l,s){const c=Object(_core_string_js__WEBPACK_IMPORTED_MODULE_0__["numericHash"])(`${t.url}${JSON.stringify(t.colorSubstitutions)}`).toString(),f=t.primitiveName,m=Object(_utils_js__WEBPACK_IMPORTED_MODULE_5__["fromCIMColor"])(t.tintColor),p=void 0!==t.width?t.width:4,u=y(t.capStyle),g=h(t.joinStyle),d=t.miterLimit,S=Object(_core_string_js__WEBPACK_IMPORTED_MODULE_0__["numericHash"])(JSON.stringify(t)).toString();n.push({type:"line",templateHash:S,materialHash:0===o.length?c:()=>c,cim:t,materialOverrides:null,isOutline:l,colorLocked:t.colorLocked,effects:t.effects,color:F(f,i,"TintColor",r,m,j),width:F(f,i,"Width",r,p),cap:F(f,i,"CapStyle",r,u),join:F(f,i,"JoinStyle",r,g),miterLimit:F(f,i,"MiterLimit",r,d),referenceWidth:s,zOrder:A(t.name),isDashed:!1})}function x(t,i,o,r,n,a,l){const s=t.primitiveName,c=void 0!==t.width?t.width:4,f=y(t.capStyle),m=h(t.joinStyle),p=t.miterLimit,u=Object(_core_string_js__WEBPACK_IMPORTED_MODULE_0__["numericHash"])(JSON.stringify(t)).toString();n.push({type:"line",templateHash:u,materialHash:0===o.length?u:W(u,i,o,r),cim:t,materialOverrides:null,isOutline:a,colorLocked:t.colorLocked,effects:t.effects,color:{r:128,g:128,b:128,a:1},width:F(s,i,"Width",r,c),cap:F(s,i,"CapStyle",r,f),join:F(s,i,"JoinStyle",r,m),miterLimit:F(s,i,"MiterLimit",r,p),referenceWidth:l,zOrder:A(t.name),isDashed:!1})}function w(t,i,o,r,n){const a=t.markerPlacement;if(!a||"CIMMarkerPlacementInsidePolygon"!==a.type)return!1;const l=a,s=["Rotation","OffsetX","OffsetY"],c=o.filter((e=>e.primitiveName!==t.primitiveName&&-1===s.indexOf(e.propertyName))),f=Object(_core_string_js__WEBPACK_IMPORTED_MODULE_0__["numericHash"])(JSON.stringify(t)).toString();return n.push({type:"fill",templateHash:f,materialHash:0===o.length?f:W(f,i,c,r),cim:t,materialOverrides:c,colorLocked:t.colorLocked,effects:t.effects,color:{r:255,g:255,b:255,a:1},height:F(l.primitiveName,i,"StepY",r,l.stepY),scaleX:1,angle:F(l.primitiveName,i,"GridAngle",r,l.gridAngle),offsetX:F(l.primitiveName,i,"OffsetX",r,l.offsetX),offsetY:F(l.primitiveName,i,"OffsetY",r,l.offsetY)}),!0}function z(t,i,o,r,n,l,s){const c=t.primitiveName,f=t.size,m=t.scaleX,p=t.rotation,u=t.offsetX,y=t.offsetY,h=Object(_utils_js__WEBPACK_IMPORTED_MODULE_5__["fromCIMColor"])(t.tintColor),g=Object(_core_string_js__WEBPACK_IMPORTED_MODULE_0__["numericHash"])(`${t.url}${JSON.stringify(t.colorSubstitutions)}`).toString();let d=!1,S="";for(const e of o)e.primitiveName===c&&(void 0!==e.value?S+=`-${e.primitiveName}-${e.propertyName}-${JSON.stringify(e.value)}`:e.valueExpressionInfo&&(d=!0));n.push({type:"marker",templateHash:Object(_core_string_js__WEBPACK_IMPORTED_MODULE_0__["numericHash"])(JSON.stringify(t)+S).toString(),materialHash:d?()=>g:g,cim:t,materialOverrides:null,colorLocked:t.colorLocked,effects:t.effects,scaleSymbolsProportionally:!1,alignment:l,size:F(c,i,"Size",r,f),scaleX:F(c,i,"ScaleX",r,m),rotation:F(c,i,"Rotation",r,p),offsetX:F(c,i,"OffsetX",r,u),offsetY:F(c,i,"OffsetY",r,y),color:F(c,i,"TintColor",r,h,j),anchorPoint:t.anchorPoint,isAbsoluteAnchorPoint:"Relative"!==t.anchorPointUnits,outlineColor:{r:0,g:0,b:0,a:0},outlineWidth:0,frameHeight:0,rotateClockwise:t.rotateClockwise,referenceSize:s,sizeRatio:1,markerPlacement:t.markerPlacement})}function J(e,t,i,o,r,n,a,l){const s=e.markerGraphics;if(!s)return;let c=0;if(e.scaleSymbolsProportionally){const t=e.frame;t&&(c=t.ymax-t.ymin)}for(const f of s)if(f){const s=f.symbol;if(!s)continue;switch(s.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":Y(e,f,i,t,o,r,n,a,c,l);break;case"CIMTextSymbol":H(e,f,t,i,o,r,n,a,c)}}}function H(t,i,o,r,n,s,m,p,u){const y=[];_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_7__["OverrideHelper"].findApplicableOverrides(i,r,y);const h=i.geometry;if(!("x"in h)||!("y"in h))return;const b=i.symbol,N=v(b),k=S(b.fontStyleName);b.font={family:b.fontFamilyName,decoration:N,...k};const O=t.frame,C=h.x-.5*(O.xmin+O.xmax),P=h.y-.5*(O.ymin+O.ymax),L=t.size/u,M=t.primitiveName,X=(b.height||0)*L,I=b.angle||0,x=((b.offsetX||0)+C)*L,w=((b.offsetY||0)+P)*L,z=Object(_utils_js__WEBPACK_IMPORTED_MODULE_5__["fromCIMColor"])(_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_7__["CIMSymbolHelper"].getFillColor(b));let J=Object(_utils_js__WEBPACK_IMPORTED_MODULE_5__["fromCIMColor"])(_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_7__["CIMSymbolHelper"].getStrokeColor(b)),H=_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_7__["CIMSymbolHelper"].getStrokeWidth(b);H||(J=Object(_utils_js__WEBPACK_IMPORTED_MODULE_5__["fromCIMColor"])(_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_7__["CIMSymbolHelper"].getFillColor(b.haloSymbol)),H=b.haloSize*L);let Y="";for(const e of r)e.primitiveName===M&&void 0!==e.value&&(Y+=`-${e.primitiveName}-${e.propertyName}-${JSON.stringify(e.value)}`);const R=JSON.stringify(t.effects)+Number(t.colorLocked)+JSON.stringify(t.anchorPoint)+t.anchorPointUnits+JSON.stringify(t.markerPlacement),$=Object(_core_string_js__WEBPACK_IMPORTED_MODULE_0__["numericHash"])(JSON.stringify(i)+R+Y).toString();s.push({type:"text",templateHash:$,materialHash:()=>Object(_core_string_js__WEBPACK_IMPORTED_MODULE_0__["numericHash"])(JSON.stringify(b.font)).toString(),cim:b,materialOverrides:null,colorLocked:t.colorLocked,effects:t.effects,alignment:m,anchorPoint:{x:t.anchorPoint?t.anchorPoint.x:0,y:t.anchorPoint?t.anchorPoint.y:0},isAbsoluteAnchorPoint:"Relative"!==t.anchorPointUnits,fontName:b.fontFamilyName,decoration:"none",weight:"normal",style:"normal",size:F(M,o,"Size",n,X),angle:F(M,o,"Rotation",n,I),offsetX:F(M,o,"OffsetX",n,x),offsetY:F(M,o,"OffsetY",n,w),horizontalAlignment:g(b.horizontalAlignment),verticalAlignment:d(b.verticalAlignment),text:F(i.primitiveName,o,"TextString",n,i.textString,_utils_js__WEBPACK_IMPORTED_MODULE_5__["_adjustTextCase"],b.textCase),color:z,outlineColor:J,outlineSize:H,referenceSize:p,sizeRatio:1,markerPlacement:t.markerPlacement})}function Y(t,i,o,r,n,l,s,f,u,y){const h=i.symbol,g=i.geometry;if(!g)return;const d=h.symbolLayers;if(!d)return;if(y)return void R(t,i,r,o,n,l,s,f,u);let S=d.length;for(;S--;){const y=d[S];if(y&&!1!==y.enable)switch(y.type){case"CIMSolidFill":case"CIMSolidStroke":{const h=Object(_SDFHelper_js__WEBPACK_IMPORTED_MODULE_8__["getExtent"])(g);if(!h)continue;const[d,S,v]=Object(_SDFHelper_js__WEBPACK_IMPORTED_MODULE_8__["getSDFMetrics"])(h,t.frame,t.size,t.anchorPoint,"Relative"!==t.anchorPointUnits),b="CIMSolidFill"===y.type,N={type:"sdf",geom:g,asFill:b},k=t.primitiveName,O=t.size,C=t.rotation||0,P=t.offsetX,L=t.offsetY,M=y.primitiveName,X=Object(_utils_js__WEBPACK_IMPORTED_MODULE_5__["fromCIMColor"])(b?_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_7__["CIMSymbolHelper"].getFillColor(y):_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_7__["CIMSymbolHelper"].getStrokeColor(y)),I=b?{r:0,g:0,b:0,a:0}:Object(_utils_js__WEBPACK_IMPORTED_MODULE_5__["fromCIMColor"])(_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_7__["CIMSymbolHelper"].getStrokeColor(y)),x=_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_7__["CIMSymbolHelper"].getStrokeWidth(y);if(!b&&!x)break;let w=!1,z="";for(const e of o)e.primitiveName!==M&&e.primitiveName!==k||(void 0!==e.value?z+=`-${e.primitiveName}-${e.propertyName}-${JSON.stringify(e.value)}`:e.valueExpressionInfo&&(w=!0));const J=JSON.stringify({...t,markerGraphics:null}),H=Object(_core_string_js__WEBPACK_IMPORTED_MODULE_0__["numericHash"])(JSON.stringify(N)).toString(),Y={type:"marker",templateHash:Object(_core_string_js__WEBPACK_IMPORTED_MODULE_0__["numericHash"])(JSON.stringify(i)+JSON.stringify(y)+J+z).toString(),materialHash:w?()=>H:H,cim:N,materialOverrides:null,colorLocked:t.colorLocked,effects:t.effects,scaleSymbolsProportionally:t.scaleSymbolsProportionally,alignment:s,anchorPoint:{x:S,y:v},isAbsoluteAnchorPoint:!1,size:F(t.primitiveName,r,"Size",n,O),rotation:F(t.primitiveName,r,"Rotation",n,C),offsetX:F(t.primitiveName,r,"OffsetX",n,P),offsetY:F(t.primitiveName,r,"OffsetY",n,L),scaleX:1,frameHeight:u,rotateClockwise:t.rotateClockwise,referenceSize:f,sizeRatio:d,color:F(M,r,"Color",n,X,j),outlineColor:F(M,r,"Color",n,I,j),outlineWidth:F(M,r,"Width",n,x),markerPlacement:t.markerPlacement};l.push(Y);break}default:R(t,i,r,o,n,l,s,f,u)}}}function R(t,i,o,r,a,l,s,f,m){const p=$(t,i);let u=[];const y=["Rotation","OffsetX","OffsetY"];u=r.filter((e=>e.primitiveName!==t.primitiveName||-1===y.indexOf(e.propertyName)));let h="";for(const e of r)void 0!==e.value&&(h+=`-${e.primitiveName}-${e.propertyName}-${JSON.stringify(e.value)}`);const[g,d,S]=_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_7__["CIMSymbolHelper"].getTextureAnchor(p),v=t.primitiveName,b=t.rotation||0,N=t.offsetX||0,k=t.offsetY||0,O=Object(_core_string_js__WEBPACK_IMPORTED_MODULE_0__["numericHash"])(JSON.stringify(p)+h).toString(),C={type:"marker",templateHash:O,materialHash:0===u.length?O:W(O,o,u,a),cim:p,materialOverrides:u,colorLocked:t.colorLocked,effects:t.effects,scaleSymbolsProportionally:t.scaleSymbolsProportionally,alignment:s,anchorPoint:{x:g,y:d},isAbsoluteAnchorPoint:!1,size:t.size,rotation:F(v,o,"Rotation",a,b),offsetX:F(v,o,"OffsetX",a,N),offsetY:F(v,o,"OffsetY",a,k),color:{r:0,g:0,b:0,a:0},outlineColor:{r:0,g:0,b:0,a:0},outlineWidth:0,scaleX:1,frameHeight:m,rotateClockwise:t.rotateClockwise,referenceSize:f,sizeRatio:S/Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__["pt2px"])(t.size),markerPlacement:t.markerPlacement};l.push(C)}function $(e,t){return{type:e.type,enable:!0,name:e.name,colorLocked:e.colorLocked,primitiveName:e.primitiveName,anchorPoint:e.anchorPoint,anchorPointUnits:e.anchorPointUnits,offsetX:0,offsetY:0,rotateClockwise:e.rotateClockwise,rotation:0,size:e.size,billboardMode3D:e.billboardMode3D,depth3D:e.depth3D,frame:e.frame,markerGraphics:[t],scaleSymbolsProportionally:e.scaleSymbolsProportionally,respectFrame:e.respectFrame,clippingPath:e.clippingPath,effects:e.effects}}function A(e){if(e&&0===e.indexOf("Level_")){const t=parseInt(e.substr(6),10);if(NaN!==t)return t}return 0}function j(e){if(!e||0===e.length)return null;const t=new _Color_js__WEBPACK_IMPORTED_MODULE_3__["default"](e).toRgba();return{r:t[0],g:t[1],b:t[2],a:t[3]}}function F(e,t,i,r,n,a,l){const c=t[e];if(c){const e=c[i];if("string"==typeof e||"number"==typeof e||e instanceof Array)return a?a.call(null,e,l):e;if(null!=e&&e instanceof _support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_2__["ArcadeExpression"])return(t,i,o)=>{let c=Object(_views_2d_arcade_callExpressionWithFeature_js__WEBPACK_IMPORTED_MODULE_6__["default"])(e,t,{$view:o},r.geometryType,i);return null!==c&&a&&(c=a.call(null,c,l)),null!==c?c:n}}return n}function W(t,i,r,n){for(const e of r){if(e.valueExpressionInfo){const t=i[e.primitiveName]&&i[e.primitiveName][e.propertyName];t instanceof _support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_2__["ArcadeExpression"]&&(e.fn=(e,i,o)=>Object(_views_2d_arcade_callExpressionWithFeature_js__WEBPACK_IMPORTED_MODULE_6__["default"])(t,e,{$view:o},n.geometryType,i))}}return(i,o,n)=>{for(const e of r)e.fn&&(e.value=e.fn(i,o,n));return Object(_core_string_js__WEBPACK_IMPORTED_MODULE_0__["numericHash"])(t+_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_7__["OverrideHelper"].buildOverrideKey(r)).toString()}}function T(e,t){if(!t||0===t.length)return e;const i=JSON.parse(JSON.stringify(e));return _CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_7__["OverrideHelper"].applyOverrides(i,t),i}


/***/ }),

/***/ "ictz":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/arcade/callExpressionWithFeature.js ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/Logger.js */ "6S2I");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Error.js */ "zlDU");
/* harmony import */ var _geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../geometry/support/quantizationUtils.js */ "AIxD");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function s(r,t,o,n,a){const s=r.referencesGeometry()&&a?u(t,n,a):t,i=r.repurposeFeature(s);try{return r.evaluate({...o,$feature:i})}catch(c){return _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__["default"].getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",c),null}}const i=new Map;function u(e,r,t){const{transform:o,hasZ:n,hasM:a}=t;i.has(r)||i.set(r,c(r));const s=i.get(r)(e.geometry,o,n,a);return{...e,geometry:s}}function c(s){const i={};switch(s){case"esriGeometryPoint":return(e,r,t,o)=>Object(_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__["unquantizePoint"])(r,i,e,t,o);case"esriGeometryPolygon":return(e,r,t,o)=>Object(_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__["unquantizePolygon"])(r,i,e,t,o);case"esriGeometryPolyline":return(e,r,t,n)=>Object(_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__["unquantizePolyline"])(r,i,e,t,n);case"esriGeometryMultipoint":return(e,r,o,n)=>Object(_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__["unquantizeMultipoint"])(r,i,e,o,n);default:return _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__["default"].getLogger("esri.views.2d.support.arcadeOnDemand").error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("mapview-arcade",`Unable to handle geometryType: ${s}`)),e=>e}}/* harmony default export */ __webpack_exports__["default"] = (s);


/***/ })

}]);
//# sourceMappingURL=default~layers-GeoRSSLayerView2D-js~layers-GraphicsLayerView2D-js~layers-ImageryLayerView2D-js~layer~10c99bf7.js.map