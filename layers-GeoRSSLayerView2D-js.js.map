{"version":3,"sources":["./node_modules/@arcgis/core/views/2d/layers/GeoRSSLayerView2D.js"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACg7B,oBAAoB,yEAAC,CAAC,6DAAC,GAAG,cAAc,4CAA4C,oDAAoD,aAAa,2EAA2E,8DAA8D,oLAAoL,UAAU,2EAA2E,SAAS,2CAA2C,QAAQ,qEAAC,8BAA8B,2DAAC,QAAQ,oDAAC,eAAe,MAAM,uGAAuG,KAAK,oDAAoD,0DAAC,8BAA8B,iFAAC,aAAa,MAAM,oEAAC,EAAE,kGAAkG,sEAAC,iCAAiC,sYAAsY,qBAAqB,iEAAC,iCAAiC,2CAA2C,qEAAC,EAAE,SAAS,EAAE,GAAG,iEAAC,8BAA8B,4CAA4C,qEAAC,EAAE,SAAS,EAAE,GAAG,iEAAC,+BAA+B,yCAAyC,qEAAC,EAAE,SAAS,EAAE,KAAK,SAAS,mCAAmC,8CAA8C,4BAA4B,aAAa,WAAW,aAAa,mDAAmD,EAAE,8DAAC,EAAE,6FAAC,+CAA+C,QAAuB,gEAAC,EAAC","file":"layers-GeoRSSLayerView2D-js.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import s from\"../../../core/Collection.js\";import i from\"../../../PopupTemplate.js\";import o from\"../../../Graphic.js\";import{init as t}from\"../../../core/watchUtils.js\";import p from\"../../../renderers/SimpleRenderer.js\";import{fromJSON as a}from\"../../../renderers/support/jsonUtils.js\";import l from\"../../../tasks/support/FeatureSet.js\";import h from\"../../layers/LayerView.js\";import n from\"./graphics/GraphicsView2D.js\";import m from\"./graphics/GraphicContainer.js\";import{LayerView2DMixin as c}from\"./LayerView2D.js\";let y=class extends(c(h)){constructor(){super(...arguments),this._graphicsViewMap={},this._popupTemplates=new Map,this.graphicsViews=[]}hitTest(e,r){if(this.suspended||!this.graphicsViews.length)return Promise.resolve(null);const s=this.graphicsViews.reverse().map((s=>s.hitTest(e,r)));return Promise.all(s).then((e=>e.filter(((e,r)=>(e&&(e.popupTemplate=this._popupTemplates.get(this.graphicsViews[r]),e.layer=this.layer,e.sourceLayer=this.layer),!!e)))[0]||null))}update(e){if(this.graphicsViews)for(const r of this.graphicsViews)r.processUpdate(e)}attach(){this.layer.featureCollections.forEach((e=>{const r=l.fromJSON(e.featureSet),t=new(s.ofType(o))(r.features);let p;if(this._graphicsViewMap[r.geometryType])p=this._graphicsViewMap[r.geometryType],p.graphics.addMany(t);else{const s=e.layerDefinition.drawingInfo,o=e.popupInfo?i.fromJSON(e.popupInfo):null,l=a(s.renderer);p=new n({requestUpdateCallback:()=>this.requestUpdate(),view:this.view,graphics:t,renderer:l,container:new m(this.view.featuresTilingScheme)}),this._graphicsViewMap[r.geometryType]=p,this._popupTemplates.set(p,o),\"polygon\"!==r.geometryType||this.layer.polygonSymbol?\"polyline\"!==r.geometryType||this.layer.lineSymbol?\"point\"!==r.geometryType||this.layer.pointSymbol||(this.layer.pointSymbol=l.symbol):this.layer.lineSymbol=l.symbol:this.layer.polygonSymbol=l.symbol,this.graphicsViews.push(p),this.container.addChild(p.container)}})),this.handles.add([t(this.layer,\"polygonSymbol\",(e=>{this._graphicsViewMap.polygon.renderer=new p({symbol:e})})),t(this.layer,\"lineSymbol\",(e=>{this._graphicsViewMap.polyline.renderer=new p({symbol:e})})),t(this.layer,\"pointSymbol\",(e=>{this._graphicsViewMap.point.renderer=new p({symbol:e})}))])}detach(){this.container.removeAllChildren();for(const e of this.graphicsViews)e.destroy();this.graphicsViews.length=0}moveStart(){}moveEnd(){}viewChange(){for(const e of this.graphicsViews)e.viewChange()}};y=e([r(\"esri.views.2d.layers.GeoRSSLayerView2D\")],y);var g=y;export default g;\n"],"sourceRoot":"webpack:///"}