(window.webpackJsonp=window.webpackJsonp||[]).push([[113],{"0ynT":function(t,n,e){"use strict";function a(t){return"h"in t&&"s"in t&&"v"in t}function l(t){return"l"in t&&"a"in t&&"b"in t}function o(t){return"l"in t&&"c"in t&&"h"in t}e.d(n,"a",function(){return p}),e.d(n,"b",function(){return f}),e.d(n,"c",function(){return b}),e.d(n,"d",function(){return d});const r=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],c=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function i(t,n){const e=[];let a,l;if(t[0].length!==n.length)throw"dimensions do not match";const o=t.length,r=t[0].length;let c=0;for(a=0;a<o;a++){for(c=0,l=0;l<r;l++)c+=t[a][l]*n[l];e.push(c)}return e}function s(t){const n=[t.r/255,t.g/255,t.b/255].map(t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4),e=i(r,n);return{x:100*e[0],y:100*e[1],z:100*e[2]}}function u(t){const n=i(c,[t.x/100,t.y/100,t.z/100]).map(t=>Math.min(1,Math.max(t<=.0031308?12.92*t:1.055*t**(1/2.4)-.055,0)));return{r:Math.round(255*n[0]),g:Math.round(255*n[1]),b:Math.round(255*n[2])}}function h(t){const n=[t.x/95.047,t.y/100,t.z/108.883].map(t=>t>(6/29)**3?t**(1/3):1/3*(29/6)**2*t+4/29);return{l:116*n[1]-16,a:500*(n[0]-n[1]),b:200*(n[1]-n[2])}}function m(t){const n=t.l,e=[(n+16)/116+t.a/500,(n+16)/116,(n+16)/116-t.b/200].map(t=>t>6/29?t**3:3*(6/29)**2*(t-4/29));return{x:95.047*e[0],y:100*e[1],z:108.883*e[2]}}function d(t){return"r"in(n=t)&&"g"in n&&"b"in n?t:o(t)?function(t){return u(m(function(t){const n=t.c,e=t.h;return{l:t.l,a:n*Math.cos(e),b:n*Math.sin(e)}}(t)))}(t):l(t)?function(t){return u(m(t))}(t):function(t){return"x"in t&&"y"in t&&"z"in t}(t)?u(t):a(t)?function(t){const n=(t.h+360)%360/60,e=t.v/100*255,a=e*(t.s/100),l=a*(1-Math.abs(n%2-1));let o;switch(Math.floor(n)){case 0:o={r:a,g:l,b:0};break;case 1:o={r:l,g:a,b:0};break;case 2:o={r:0,g:a,b:l};break;case 3:o={r:0,g:l,b:a};break;case 4:o={r:l,g:0,b:a};break;case 5:case 6:o={r:a,g:0,b:l};break;default:o={r:0,g:0,b:0}}return o.r=Math.round(o.r+e-a),o.g=Math.round(o.g+e-a),o.b=Math.round(o.b+e-a),o}(t):t;var n}function p(t){return a(t)?t:function(t){const n=t.r,e=t.g,a=t.b,l=Math.max(n,e,a),o=l-Math.min(n,e,a);let r=l,c=0===o?0:l===n?(e-a)/o%6:l===e?(a-n)/o+2:(n-e)/o+4,i=0===o?0:o/r;return c<0&&(c+=6),c*=60,i*=100,r*=100/255,{h:c,s:i,v:r}}(d(t))}function f(t){return l(t)?t:function(t){return h(s(t))}(d(t))}function b(t){return o(t)?t:function(t){return function(t){const n=t.l,e=t.a,a=t.b,l=Math.sqrt(e*e+a*a);let o=Math.atan2(a,e);return o=o>0?o:o+2*Math.PI,{l:n,c:l,h:o}}(h(s(t)))}(d(t))}},YKPD:function(t,n,e){"use strict";e.r(n),e.d(n,"previewSymbol2D",function(){return d});var a=e("zlDU"),l=e("nvBr"),o=e("qRWG"),r=e("zdBc"),c=e("IAPW"),i=e("S60b");const s="picture-fill",u=120,h=document.createElement("canvas");function m(t,n){const e=h.getContext("2d"),a=[];return n&&(n.weight&&a.push(n.weight),n.size&&a.push(n.size+"px"),n.family&&a.push(n.family)),e.font=a.join(" "),e.measureText(t).width}function d(t,n){var e,h;const d=null!=(null==n?void 0:n.size)?Object(o.d)(n.size):null,p=null!=(null==n?void 0:n.maxSize)?Object(o.d)(n.maxSize):null,f=null!=(null==n?void 0:n.opacity)?n.opacity:null,b=null!=(null==n?void 0:n.rotation)?n.rotation:"angle"in t?t.angle:null,v=Object(r.b)(t);let y=Object(r.d)(t);if(v&&!y){const t="type"in v?null:new l.a(v);"#ffffff"===(t?t.toHex():null)&&(y={color:"#bdc3c7",width:.75})}const g={shape:null,fill:null,stroke:y,offset:[0,0]};null!=(e=y)&&e.width&&(y.width=Math.min(y.width,80));const M=(null==(h=y)?void 0:h.width)||0;let w=null!=d&&(null==(null==n?void 0:n.scale)||(null==n?void 0:n.scale)),k=0,x=0,z=!1;switch(t.type){case"simple-marker":{const n=t.style,e=Math.min(null!=d?d:Object(o.d)(t.size),p||u);switch(k=e,x=e,n){case"circle":g.shape={type:"circle",cx:0,cy:0,r:.5*e},w||(k+=M,x+=M);break;case"cross":g.shape={type:"path",path:[{command:"M",values:[0,.5*x]},{command:"L",values:[k,.5*x]},{command:"M",values:[.5*k,0]},{command:"L",values:[.5*k,x]}]};break;case"diamond":g.shape={type:"path",path:[{command:"M",values:[0,.5*x]},{command:"L",values:[.5*k,0]},{command:"L",values:[k,.5*x]},{command:"L",values:[.5*k,x]},{command:"Z",values:[]}]},w||(k+=M,x+=M);break;case"square":g.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[k,0]},{command:"L",values:[k,x]},{command:"L",values:[0,x]},{command:"Z",values:[]}]},w||(k+=M,x+=M),b&&(z=!0);break;case"triangle":g.shape={type:"path",path:[{command:"M",values:[.5*k,0]},{command:"L",values:[k,x]},{command:"L",values:[0,x]},{command:"Z",values:[]}]},w||(k+=M,x+=M),b&&(z=!0);break;case"x":g.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[k,x]},{command:"M",values:[k,0]},{command:"L",values:[0,x]}]},b&&(z=!0);break;case"path":g.shape={type:"path",path:t.path||""},w||(k+=M,x+=M),b&&(z=!0),w=!0}break}case"simple-line":{const t=Math.min(null!=d?d:M,p||80),n=t>22?2*t:40;y.width=t,k=n,x=t,g.shape={type:"path",path:[{command:"M",values:[0,x]},{command:"L",values:[k,x]}]};break}case s:case"simple-fill":k=Math.min(null!=d?d:22,p||u)+M,x=k,w=!0,g.shape="object"==typeof(null==n?void 0:n.symbolConfig)&&null!=n&&n.symbolConfig.isSquareFill?c.l.squareFill[0]:c.l.fill[0];break;case"picture-marker":{let n=Object(o.d)(t.width),e=Object(o.d)(t.height);const a=Math.max(n,e),l=n/e;n=l<=1?Math.ceil(a*l):a,e=l<=1?a:Math.ceil(a/l),k=Math.min(null!=d?d:n,p||u),x=Math.min(null!=d?d:e,p||u),g.shape={type:"image",x:-Math.round(k/2),y:-Math.round(x/2),width:k,height:x,src:t.url||""},b&&(z=!0);break}case"text":{const n=t,e=n.text||"Aa",a=n.font,l=Math.min(null!=d?d:Object(o.d)(a.size),p||u),r=m(e,{weight:a.weight,size:l,family:a.family}),c=/[\uE600-\uE6FF]/.test(e);k=c?l:r,x=l;let i=.25*function(t){if(0===t.length)return 0;if(t.length>2){const n=Object(o.e)(1),e=parseFloat(t);switch(t.slice(-2)){case"px":return e;case"pt":return e*n;case"in":return 72*e*n;case"pc":return 12*e*n;case"mm":return 2.8346456692913384*e*n;case"cm":return 28.346456692913385*e*n}}return parseFloat(t)}((a?l:0).toString());c&&(i+=5),g.shape={type:"text",text:e,x:0,y:i,align:"middle",decoration:a&&a.decoration,rotated:n.rotated,kerning:n.kerning},g.font=a&&{size:l,style:a.style,decoration:a.decoration,weight:a.weight,family:a.family};break}}if(!g.shape)return Promise.reject(new a.a("symbolPreview: renderPreviewHTML2D","symbol not supported."));const j=v,L=t.color;let O=null;return j&&"pattern"===j.type&&L&&t.type!==s?O=Object(r.c)(j.src,L.toCss(!0)).then(t=>(j.src=t,g.fill=j,g)):(g.fill=v,O=Promise.resolve(g)),O.then(t=>{const e=[[t]];if("object"==typeof(null==n?void 0:n.symbolConfig)&&null!=n&&n.symbolConfig.applyColorModulation){const n=.6*k;e.unshift([{...t,offset:[-n,0],fill:Object(c.a)(v,-.3)}]),e.push([{...t,offset:[n,0],fill:Object(c.a)(v,.3)}]),k+=2*n}return Object(i.a)(e,[k,x],{node:n&&n.node,scale:w,opacity:f,rotation:b,useRotationSize:z})})}}}]);