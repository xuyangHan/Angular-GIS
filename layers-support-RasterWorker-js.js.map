{"version":3,"sources":["./node_modules/@arcgis/core/layers/support/RasterWorker.js"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACoV,QAAQ,gBAAgB,cAAc,4EAAC,mBAAmB,qBAAqB,aAAa,aAAa,sDAAC,0CAA0C,2DAAC,yBAAyB,qCAAqC,sCAAsC,0BAA0B,MAAM,gBAAgB,8EAAC,2KAA2K,WAAW,sCAAsC,sDAAC,4CAA4C,sCAAsC,gCAAgC,QAAQ,mGAAC,CAAC,sDAAC,4BAA4B,0BAA0B,SAAS,QAAQ,4EAAC,CAAC,sDAAC,6DAA6D,6BAA6B,mCAAmC,sBAAsB,4BAA4B,uCAAuC,sDAAC,aAAa,6EAAC,oBAAoB,iCAAiC,QAAQ,2FAAC,4DAA4D,sBAAqC,gEAAC,EAAC","file":"layers-support-RasterWorker-js.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../geometry/Extent.js\";import\"../../geometry.js\";import r from\"./PixelBlock.js\";import{decode as s}from\"./rasterFormats/RasterCodec.js\";import{estimateStatisticsHistograms as o,split as t,mosaic as i,approximateTransform as m}from\"./rasterFunctions/pixelUtils.js\";import l from\"../../renderers/support/RasterSymbolizer.js\";class n{async decode(e){const r=await s(e.data,e.options);return r&&r.toJSON()}symbolize(s){s.pixelBlock=r.fromJSON(s.pixelBlock),s.extent=s.extent?e.fromJSON(s.extent):null;const o=this.symbolizer.symbolize(s);return Promise.resolve(o&&o.toJSON())}async updateSymbolizer(e){var r;this.symbolizer=l.fromJSON(e.symbolizerJSON),e.histograms&&\"rasterStretch\"===(null==(r=this.symbolizer)?void 0:r.rendererJSON.type)&&(this.symbolizer.rendererJSON.histograms=e.histograms)}stretch(e){const s=this.symbolizer.simpleStretch(r.fromJSON(e.srcPixelBlock),e.stretchParams);return Promise.resolve(s&&s.toJSON())}estimateStatisticsHistograms(e){const s=o(r.fromJSON(e.srcPixelBlock));return Promise.resolve(s)}split(e){const s=t(r.fromJSON(e.srcPixelBlock),e.tileSize,e.maximumPyramidLevel);return s&&s.forEach(((e,r)=>{s.set(r,null==e?void 0:e.toJSON())})),Promise.resolve(s)}async mosaicAndTransform(e){const s=e.srcPixelBlocks.map((e=>e?new r(e):null)),o=i(s,e.srcMosaicSize);if(!e.coefs)return o&&o.toJSON();const t=m(o,e.destDimension,e.coefs,e.sampleSpacing,e.interpolation);return t&&t.toJSON()}}export default n;\n"],"sourceRoot":"webpack:///"}